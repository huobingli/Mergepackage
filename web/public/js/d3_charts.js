/*
 * D3Charts
 * @version: 0.4.20
 * last modified: 2020-2-18 20:10:55
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.D3Charts={})}(this,function(t){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t(e={exports:{}},e.exports),e.exports}var r=n(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),o=n(function(t){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)}),a=(o.version,"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}),s=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},h=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},f=function(t){return"object"===(void 0===t?"undefined":a(t))?null!==t:"function"==typeof t},p=function(t){if(!f(t))throw TypeError(t+" is not an object!");return t},d=function(t){try{return!!t()}catch(t){return!0}},g=!d(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),v=r.document,y=f(v)&&f(v.createElement),m=function(t){return y?v.createElement(t):{}},x=!g&&!d(function(){return 7!=Object.defineProperty(m("div"),"a",{get:function(){return 7}}).a}),_=function(t,e){if(!f(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!f(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!f(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},w=Object.defineProperty,b={f:g?Object.defineProperty:function(t,e,n){if(p(t),e=_(e,!0),p(n),x)try{return w(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},S=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},k=g?function(t,e,n){return b.f(t,e,S(1,n))}:function(t,e,n){return t[e]=n,t},M={}.hasOwnProperty,A=function(t,e){return M.call(t,e)},I=0,T=Math.random(),C=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++I+T).toString(36))},E=n(function(t){var e=C("src"),n=Function.toString,i=(""+n).split("toString");o.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,o,a){var s="function"==typeof o;s&&(A(o,"name")||k(o,"name",n)),t[n]!==o&&(s&&(A(o,e)||k(o,e,t[n]?""+t[n]:i.join(String(n)))),t===r?t[n]=o:a?t[n]?t[n]=o:k(t,n,o):(delete t[n],k(t,n,o)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),z=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},L=function(t,e,n){if(z(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},O=function t(e,n,i){var a,s,l,u,h=e&t.F,c=e&t.G,f=e&t.P,p=e&t.B,d=c?r:e&t.S?r[n]||(r[n]={}):(r[n]||{}).prototype,g=c?o:o[n]||(o[n]={}),v=g.prototype||(g.prototype={});for(a in c&&(i=n),i)l=((s=!h&&d&&void 0!==d[a])?d:i)[a],u=p&&s?L(l,r):f&&"function"==typeof l?L(Function.call,l):l,d&&E(d,a,l,e&t.U),g[a]!=l&&k(g,a,u),f&&v[a]!=l&&(v[a]=l)};r.core=o,O.F=1,O.G=2,O.S=4,O.P=8,O.B=16,O.W=32,O.U=64,O.R=128;for(var D,P=O,F=C("typed_array"),N=C("view"),R=!(!r.ArrayBuffer||!r.DataView),B=R,W=0,j="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");W<9;)(D=r[j[W++]])?(k(D.prototype,F,!0),k(D.prototype,N,!0)):B=!1;var G={ABV:R,CONSTR:B,TYPED:F,VIEW:N},H=function(t,e,n){for(var r in e)E(t,r,e[r],n);return t},U=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t},q=Math.ceil,V=Math.floor,Y=function(t){return isNaN(t=+t)?0:(t>0?V:q)(t)},$=Math.min,X=function(t){return t>0?$(Y(t),9007199254740991):0},K={}.toString,Z=function(t){return K.call(t).slice(8,-1)},Q=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Z(t)?t.split(""):Object(t)},J=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},tt=function(t){return Q(J(t))},et=Math.max,nt=Math.min,rt=function(t,e){return(t=Y(t))<0?et(t+e,0):nt(t,e)},it=function(t){return function(e,n,r){var i,o=tt(e),a=X(o.length),s=rt(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},ot=r["__core-js_shared__"]||(r["__core-js_shared__"]={}),at=function(t){return ot[t]||(ot[t]={})},st=at("keys"),lt=function(t){return st[t]||(st[t]=C(t))},ut=it(!1),ht=lt("IE_PROTO"),ct=function(t,e){var n,r=tt(t),i=0,o=[];for(n in r)n!=ht&&A(r,n)&&o.push(n);for(;e.length>i;)A(r,n=e[i++])&&(~ut(o,n)||o.push(n));return o},ft="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),pt=ft.concat("length","prototype"),dt={f:Object.getOwnPropertyNames||function(t){return ct(t,pt)}},gt=function(t){return Object(J(t))},vt=function(t){for(var e=gt(this),n=X(e.length),r=arguments.length,i=rt(r>1?arguments[1]:void 0,n),o=r>2?arguments[2]:void 0,a=void 0===o?n:rt(o,n);a>i;)e[i++]=t;return e},yt=n(function(t){var e=at("wks"),n=r.Symbol,i="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:C)("Symbol."+t))}).store=e}),mt=b.f,xt=yt("toStringTag"),_t=function(t,e,n){t&&!A(t=n?t:t.prototype,xt)&&mt(t,xt,{configurable:!0,value:e})},wt=n(function(t,e){var n=dt.f,i=b.f,o=r.ArrayBuffer,a=r.DataView,s=r.Math,l=r.RangeError,u=r.Infinity,h=o,c=s.abs,f=s.pow,p=s.floor,v=s.log,y=s.LN2,m=g?"_b":"buffer",x=g?"_l":"byteLength",_=g?"_o":"byteOffset",w=function(t,e,n){var r,i,o,a=Array(n),s=8*n-e-1,l=(1<<s)-1,h=l>>1,d=23===e?f(2,-24)-f(2,-77):0,g=0,m=t<0||0===t&&1/t<0?1:0;for((t=c(t))!=t||t===u?(i=t!=t?1:0,r=l):(r=p(v(t)/y),t*(o=f(2,-r))<1&&(r--,o*=2),(t+=r+h>=1?d/o:d*f(2,1-h))*o>=2&&(r++,o/=2),r+h>=l?(i=0,r=l):r+h>=1?(i=(t*o-1)*f(2,e),r+=h):(i=t*f(2,h-1)*f(2,e),r=0));e>=8;a[g++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[g++]=255&r,r/=256,s-=8);return a[--g]|=128*m,a},S=function(t,e,n){var r,i=8*n-e-1,o=(1<<i)-1,a=o>>1,s=i-7,l=n-1,h=t[l--],c=127&h;for(h>>=7;s>0;c=256*c+t[l],l--,s-=8);for(r=c&(1<<-s)-1,c>>=-s,s+=e;s>0;r=256*r+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return r?NaN:h?-u:u;r+=f(2,e),c-=a}return(h?-1:1)*r*f(2,c-e)},M=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},A=function(t){return[255&t]},I=function(t){return[255&t,t>>8&255]},T=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},C=function(t){return w(t,52,8)},E=function(t){return w(t,23,4)},z=function(t,e,n){i(t.prototype,e,{get:function(){return this[n]}})},L=function(t,e,n,r){var i=+n,o=Y(i);if(i!=o||o<0||o+e>t[x])throw l("Wrong index!");var a=t[m]._b,s=o+t[_],u=a.slice(s,s+e);return r?u:u.reverse()},O=function(t,e,n,r,i,o){var a=+n,s=Y(a);if(a!=s||s<0||s+e>t[x])throw l("Wrong index!");for(var u=t[m]._b,h=s+t[_],c=r(+i),f=0;f<e;f++)u[h+f]=c[o?f:e-f-1]},D=function(t,e){U(t,o,"ArrayBuffer");var n=+e,r=X(n);if(n!=r)throw l("Wrong length!");return r};if(G.ABV){if(!d(function(){new o})||!d(function(){new o(.5)})){for(var P,F=(o=function(t){return new h(D(this,t))}).prototype=h.prototype,N=n(h),R=0;N.length>R;)(P=N[R++])in o||k(o,P,h[P]);F.constructor=o}var B=new a(new o(2)),W=a.prototype.setInt8;B.setInt8(0,2147483648),B.setInt8(1,2147483649),!B.getInt8(0)&&B.getInt8(1)||H(a.prototype,{setInt8:function(t,e){W.call(this,t,e<<24>>24)},setUint8:function(t,e){W.call(this,t,e<<24>>24)}},!0)}else o=function(t){var e=D(this,t);this._b=vt.call(Array(e),0),this[x]=e},a=function(t,e,n){U(this,a,"DataView"),U(t,o,"DataView");var r=t[x],i=Y(e);if(i<0||i>r)throw l("Wrong offset!");if(i+(n=void 0===n?r-i:X(n))>r)throw l("Wrong length!");this[m]=t,this[_]=i,this[x]=n},g&&(z(o,"byteLength","_l"),z(a,"buffer","_b"),z(a,"byteLength","_l"),z(a,"byteOffset","_o")),H(a.prototype,{getInt8:function(t){return L(this,1,t)[0]<<24>>24},getUint8:function(t){return L(this,1,t)[0]},getInt16:function(t){var e=L(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=L(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return M(L(this,4,t,arguments[1]))},getUint32:function(t){return M(L(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return S(L(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return S(L(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){O(this,1,t,A,e)},setUint8:function(t,e){O(this,1,t,A,e)},setInt16:function(t,e){O(this,2,t,I,e,arguments[2])},setUint16:function(t,e){O(this,2,t,I,e,arguments[2])},setInt32:function(t,e){O(this,4,t,T,e,arguments[2])},setUint32:function(t,e){O(this,4,t,T,e,arguments[2])},setFloat32:function(t,e){O(this,4,t,E,e,arguments[2])},setFloat64:function(t,e){O(this,8,t,C,e,arguments[2])}});_t(o,"ArrayBuffer"),_t(a,"DataView"),k(a.prototype,G.VIEW,!0),e.ArrayBuffer=o,e.DataView=a}),bt=yt("species"),St=function(t,e){var n,r=p(t).constructor;return void 0===r||void 0==(n=p(r)[bt])?e:z(n)},kt=yt("species"),Mt=function(t){var e=r[t];g&&e&&!e[kt]&&b.f(e,kt,{configurable:!0,get:function(){return this}})},At=r.ArrayBuffer,It=wt.ArrayBuffer,Tt=wt.DataView,Ct=G.ABV&&At.isView,Et=It.prototype.slice,zt=G.VIEW;P(P.G+P.W+P.F*(At!==It),{ArrayBuffer:It}),P(P.S+P.F*!G.CONSTR,"ArrayBuffer",{isView:function(t){return Ct&&Ct(t)||f(t)&&zt in t}}),P(P.P+P.U+P.F*d(function(){return!new It(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(t,e){if(void 0!==Et&&void 0===e)return Et.call(p(this),t);for(var n=p(this).byteLength,r=rt(t,n),i=rt(void 0===e?n:e,n),o=new(St(this,It))(X(i-r)),a=new Tt(this),s=new Tt(o),l=0;r<i;)s.setUint8(l++,a.getUint8(r++));return o}}),Mt("ArrayBuffer"),P(P.G+P.W+P.F*!G.ABV,{DataView:wt.DataView});var Lt=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e},Ot=yt("toStringTag"),Dt="Arguments"==Z(function(){return arguments}()),Pt=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Ot))?n:Dt?Z(e):"Object"==(r=Z(e))&&"function"==typeof e.callee?"Arguments":r},Ft={},Nt=yt("iterator"),Rt=Array.prototype,Bt=function(t){return void 0!==t&&(Ft.Array===t||Rt[Nt]===t)},Wt=Object.keys||function(t){return ct(t,ft)},jt=g?Object.defineProperties:function(t,e){p(t);for(var n,r=Wt(e),i=r.length,o=0;i>o;)b.f(t,n=r[o++],e[n]);return t},Gt=r.document&&document.documentElement,Ht=lt("IE_PROTO"),Ut=function(){},qt=function(){var t,e=m("iframe"),n=ft.length;for(e.style.display="none",Gt.appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),qt=t.F;n--;)delete qt.prototype[ft[n]];return qt()},Vt=Object.create||function(t,e){var n;return null!==t?(Ut.prototype=p(t),n=new Ut,Ut.prototype=null,n[Ht]=t):n=qt(),void 0===e?n:jt(n,e)},Yt=lt("IE_PROTO"),$t=Object.prototype,Xt=Object.getPrototypeOf||function(t){return t=gt(t),A(t,Yt)?t[Yt]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?$t:null},Kt=yt("iterator"),Zt=o.getIteratorMethod=function(t){if(void 0!=t)return t[Kt]||t["@@iterator"]||Ft[Pt(t)]},Qt=Array.isArray||function(t){return"Array"==Z(t)},Jt=yt("species"),te=function(t,e){return new(function(t){var e;return Qt(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!Qt(e.prototype)||(e=void 0),f(e)&&null===(e=e[Jt])&&(e=void 0)),void 0===e?Array:e}(t))(e)},ee=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,l=e||te;return function(e,u,h){for(var c,f,p=gt(e),d=Q(p),g=L(u,h,3),v=X(d.length),y=0,m=n?l(e,v):r?l(e,0):void 0;v>y;y++)if((s||y in d)&&(f=g(c=d[y],y,p),t))if(n)m[y]=f;else if(f)switch(t){case 3:return!0;case 5:return c;case 6:return y;case 2:m.push(c)}else if(o)return!1;return a?-1:i||o?o:m}},ne=yt("unscopables"),re=Array.prototype;void 0==re[ne]&&k(re,ne,{});var ie=function(t){re[ne][t]=!0},oe=function(t,e){return{value:e,done:!!t}},ae={};k(ae,yt("iterator"),function(){return this});var se=function(t,e,n){t.prototype=Vt(ae,{next:S(1,n)}),_t(t,e+" Iterator")},le=yt("iterator"),ue=!([].keys&&"next"in[].keys()),he=function(){return this},ce=function(t,e,n,r,i,o,a){se(n,e,r);var s,l,u,h=function(t){if(!ue&&t in d)return d[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},c=e+" Iterator",f="values"==i,p=!1,d=t.prototype,g=d[le]||d["@@iterator"]||i&&d[i],v=g||h(i),y=i?f?h("entries"):v:void 0,m="Array"==e&&d.entries||g;if(m&&(u=Xt(m.call(new t)))!==Object.prototype&&(_t(u,c,!0),A(u,le)||k(u,le,he)),f&&g&&"values"!==g.name&&(p=!0,v=function(){return g.call(this)}),(ue||p||!d[le])&&k(d,le,v),Ft[e]=v,Ft[c]=he,i)if(s={values:f?v:h("values"),keys:o?v:h("keys"),entries:y},a)for(l in s)l in d||E(d,l,s[l]);else P(P.P+P.F*(ue||p),e,s);return s},fe=ce(Array,"Array",function(t,e){this._t=tt(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,oe(1)):oe(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");Ft.Arguments=Ft.Array,ie("keys"),ie("values"),ie("entries");var pe=yt("iterator"),de=!1;try{[7][pe]().return=function(){de=!0}}catch(t){}var ge=function(t,e){if(!e&&!de)return!1;var n=!1;try{var r=[7],i=r[pe]();i.next=function(){return{done:n=!0}},r[pe]=function(){return i},t(r)}catch(t){}return n},ve=[].copyWithin||function(t,e){var n=gt(this),r=X(n.length),i=rt(t,r),o=rt(e,r),a=arguments.length>2?arguments[2]:void 0,s=Math.min((void 0===a?r:rt(a,r))-o,r-i),l=1;for(o<i&&i<o+s&&(l=-1,o+=s-1,i+=s-1);s-- >0;)o in n?n[i]=n[o]:delete n[i],i+=l,o+=l;return n},ye={f:{}.propertyIsEnumerable},me=Object.getOwnPropertyDescriptor,xe={f:g?me:function(t,e){if(t=tt(t),e=_(e,!0),x)try{return me(t,e)}catch(t){}if(A(t,e))return S(!ye.f.call(t,e),t[e])}},_e=n(function(t){if(g){var e=r,n=d,i=P,o=G,s=wt,l=L,u=U,h=S,c=k,p=H,v=Y,y=X,m=rt,x=_,w=A,M=Lt,I=Pt,T=f,E=gt,z=Bt,O=Vt,D=Xt,F=dt.f,N=Zt,R=C,B=yt,W=ee,j=it,q=St,V=fe,$=Ft,K=ge,Z=Mt,Q=vt,J=ve,tt=b,et=xe,nt=tt.f,ot=et.f,at=e.RangeError,st=e.TypeError,lt=e.Uint8Array,ut=Array.prototype,ht=s.ArrayBuffer,ct=s.DataView,ft=W(0),pt=W(2),mt=W(3),xt=W(4),_t=W(5),bt=W(6),kt=j(!0),At=j(!1),It=V.values,Tt=V.keys,Ct=V.entries,Et=ut.lastIndexOf,zt=ut.reduce,Ot=ut.reduceRight,Dt=ut.join,Nt=ut.sort,Rt=ut.slice,Wt=ut.toString,jt=ut.toLocaleString,Gt=B("iterator"),Ht=B("toStringTag"),Ut=R("typed_constructor"),qt=R("def_constructor"),Yt=o.CONSTR,$t=o.TYPED,Kt=o.VIEW,Qt=W(1,function(t,e){return oe(q(t,t[qt]),e)}),Jt=n(function(){return 1===new lt(new Uint16Array([1]).buffer)[0]}),te=!!lt&&!!lt.prototype.set&&n(function(){new lt(1).set({})}),ne=function(t,e){if(void 0===t)throw st("Wrong length!");var n=+t,r=y(t);if(e&&!M(n,r))throw at("Wrong length!");return r},re=function(t,e){var n=v(t);if(n<0||n%e)throw at("Wrong offset!");return n},ie=function(t){if(T(t)&&$t in t)return t;throw st(t+" is not a typed array!")},oe=function(t,e){if(!(T(t)&&Ut in t))throw st("It is not a typed array constructor!");return new t(e)},ae=function(t,e){return se(q(t,t[qt]),e)},se=function(t,e){for(var n=0,r=e.length,i=oe(t,r);r>n;)i[n]=e[n++];return i},le=function(t,e,n){nt(t,e,{get:function(){return this._d[n]}})},ue=function(t){var e,n,r,i,o,a,s=E(t),u=arguments.length,h=u>1?arguments[1]:void 0,c=void 0!==h,f=N(s);if(void 0!=f&&!z(f)){for(a=f.call(s),r=[],e=0;!(o=a.next()).done;e++)r.push(o.value);s=r}for(c&&u>2&&(h=l(h,arguments[2],2)),e=0,n=y(s.length),i=oe(this,n);n>e;e++)i[e]=c?h(s[e],e):s[e];return i},he=function(){for(var t=0,e=arguments.length,n=oe(this,e);e>t;)n[t]=arguments[t++];return n},ce=!!lt&&n(function(){jt.call(new lt(1))}),pe=function(){return jt.apply(ce?Rt.call(ie(this)):ie(this),arguments)},de={copyWithin:function(t,e){return J.call(ie(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return xt(ie(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return Q.apply(ie(this),arguments)},filter:function(t){return ae(this,pt(ie(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return _t(ie(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return bt(ie(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){ft(ie(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return At(ie(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return kt(ie(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return Dt.apply(ie(this),arguments)},lastIndexOf:function(t){return Et.apply(ie(this),arguments)},map:function(t){return Qt(ie(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return zt.apply(ie(this),arguments)},reduceRight:function(t){return Ot.apply(ie(this),arguments)},reverse:function(){for(var t,e=ie(this).length,n=Math.floor(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this},some:function(t){return mt(ie(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return Nt.call(ie(this),t)},subarray:function(t,e){var n=ie(this),r=n.length,i=m(t,r);return new(q(n,n[qt]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,y((void 0===e?r:m(e,r))-i))}},ye=function(t,e){return ae(this,Rt.call(ie(this),t,e))},me=function(t){ie(this);var e=re(arguments[1],1),n=this.length,r=E(t),i=y(r.length),o=0;if(i+e>n)throw at("Wrong length!");for(;o<i;)this[e+o]=r[o++]},_e={entries:function(){return Ct.call(ie(this))},keys:function(){return Tt.call(ie(this))},values:function(){return It.call(ie(this))}},we=function(t,e){return T(t)&&t[$t]&&"symbol"!=(void 0===e?"undefined":a(e))&&e in t&&String(+e)==String(e)},be=function(t,e){return we(t,e=x(e,!0))?h(2,t[e]):ot(t,e)},Se=function(t,e,n){return!(we(t,e=x(e,!0))&&T(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?nt(t,e,n):(t[e]=n.value,t)};Yt||(et.f=be,tt.f=Se),i(i.S+i.F*!Yt,"Object",{getOwnPropertyDescriptor:be,defineProperty:Se}),n(function(){Wt.call({})})&&(Wt=jt=function(){return Dt.call(this)});var ke=p({},de);p(ke,_e),c(ke,Gt,_e.values),p(ke,{slice:ye,set:me,constructor:function(){},toString:Wt,toLocaleString:pe}),le(ke,"buffer","b"),le(ke,"byteOffset","o"),le(ke,"byteLength","l"),le(ke,"length","e"),nt(ke,Ht,{get:function(){return this[$t]}}),t.exports=function(t,r,a,s){var l=t+((s=!!s)?"Clamped":"")+"Array",h="Uint8Array"!=l,f="get"+t,p="set"+t,d=e[l],g=d||{},v=d&&D(d),m=!d||!o.ABV,x={},_=d&&d.prototype,w=function(t,e){nt(t,e,{get:function(){return function(t,e){var n=t._d;return n.v[f](e*r+n.o,Jt)}(this,e)},set:function(t){return function(t,e,n){var i=t._d;s&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),i.v[p](e*r+i.o,n,Jt)}(this,e,t)},enumerable:!0})};m?(d=a(function(t,e,n,i){u(t,d,l,"_d");var o,a,s,h,f=0,p=0;if(T(e)){if(!(e instanceof ht||"ArrayBuffer"==(h=I(e))||"SharedArrayBuffer"==h))return $t in e?se(d,e):ue.call(d,e);o=e,p=re(n,r);var g=e.byteLength;if(void 0===i){if(g%r)throw at("Wrong length!");if((a=g-p)<0)throw at("Wrong length!")}else if((a=y(i)*r)+p>g)throw at("Wrong length!");s=a/r}else s=ne(e,!0),o=new ht(a=s*r);for(c(t,"_d",{b:o,o:p,l:a,e:s,v:new ct(o)});f<s;)w(t,f++)}),_=d.prototype=O(ke),c(_,"constructor",d)):K(function(t){new d(null),new d(t)},!0)||(d=a(function(t,e,n,i){var o;return u(t,d,l),T(e)?e instanceof ht||"ArrayBuffer"==(o=I(e))||"SharedArrayBuffer"==o?void 0!==i?new g(e,re(n,r),i):void 0!==n?new g(e,re(n,r)):new g(e):$t in e?se(d,e):ue.call(d,e):new g(ne(e,h))}),ft(v!==Function.prototype?F(g).concat(F(v)):F(g),function(t){t in d||c(d,t,g[t])}),d.prototype=_,_.constructor=d);var b=_[Gt],S=!!b&&("values"==b.name||void 0==b.name),k=_e.values;c(d,Ut,!0),c(_,$t,l),c(_,Kt,!0),c(_,qt,d),(s?new d(1)[Ht]==l:Ht in _)||nt(_,Ht,{get:function(){return l}}),x[l]=d,i(i.G+i.W+i.F*(d!=g),x),i(i.S,l,{BYTES_PER_ELEMENT:r,from:ue,of:he}),"BYTES_PER_ELEMENT"in _||c(_,"BYTES_PER_ELEMENT",r),i(i.P,l,de),Z(l),i(i.P+i.F*te,l,{set:me}),i(i.P+i.F*!S,l,_e),i(i.P+i.F*(_.toString!=Wt),l,{toString:Wt}),i(i.P+i.F*n(function(){new d(1).slice()}),l,{slice:ye}),i(i.P+i.F*(n(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!n(function(){_.toLocaleString.call([1,2])})),l,{toLocaleString:pe}),$[l]=S?b:k,S||c(_,Gt,k)}}else t.exports=function(){}});_e("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}}),_e("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}}),_e("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0),_e("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}}),_e("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}}),_e("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}}),_e("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}}),_e("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}}),_e("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}});var we=function(t,e,n,r){try{return r?e(p(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&p(i.call(t)),e}},be=n(function(t){var e={},n={},r=t.exports=function(t,r,i,o,a){var s,l,u,h,c=a?function(){return t}:Zt(t),f=L(i,o,r?2:1),d=0;if("function"!=typeof c)throw TypeError(t+" is not iterable!");if(Bt(c)){for(s=X(t.length);s>d;d++)if((h=r?f(p(l=t[d])[0],l[1]):f(t[d]))===e||h===n)return h}else for(u=c.call(t);!(l=u.next()).done;)if((h=we(u,f,l.value,r))===e||h===n)return h};r.BREAK=e,r.RETURN=n}),Se=n(function(t){var e=C("meta"),n=b.f,r=0,i=Object.isExtensible||function(){return!0},o=!d(function(){return i(Object.preventExtensions({}))}),s=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},l=t.exports={KEY:e,NEED:!1,fastKey:function(t,n){if(!f(t))return"symbol"==(void 0===t?"undefined":a(t))?t:("string"==typeof t?"S":"P")+t;if(!A(t,e)){if(!i(t))return"F";if(!n)return"E";s(t)}return t[e].i},getWeak:function(t,n){if(!A(t,e)){if(!i(t))return!0;if(!n)return!1;s(t)}return t[e].w},onFreeze:function(t){return o&&l.NEED&&i(t)&&!A(t,e)&&s(t),t}}}),ke=(Se.KEY,Se.NEED,Se.fastKey,Se.getWeak,Se.onFreeze,b.f),Me=Se.fastKey,Ae=g?"_s":"size",Ie=function(t,e){var n,r=Me(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n},Te={getConstructor:function(t,e,n,r){var i=t(function(t,o){U(t,i,e,"_i"),t._i=Vt(null),t._f=void 0,t._l=void 0,t[Ae]=0,void 0!=o&&be(o,n,t[r],t)});return H(i.prototype,{clear:function(){for(var t=this._i,e=this._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete t[e.i];this._f=this._l=void 0,this[Ae]=0},delete:function(t){var e=Ie(this,t);if(e){var n=e.n,r=e.p;delete this._i[e.i],e.r=!0,r&&(r.n=n),n&&(n.p=r),this._f==e&&(this._f=n),this._l==e&&(this._l=r),this[Ae]--}return!!e},forEach:function(t){U(this,i,"forEach");for(var e,n=L(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!Ie(this,t)}}),g&&ke(i.prototype,"size",{get:function(){return J(this[Ae])}}),i},def:function(t,e,n){var r,i,o=Ie(t,e);return o?o.v=n:(t._l=o={i:i=Me(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=o),r&&(r.n=o),t[Ae]++,"F"!==i&&(t._i[i]=o)),t},getEntry:Ie,setStrong:function(t,e,n){ce(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?oe(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,oe(1))},n?"entries":"values",!n,!0),Mt(e)}},Ce=function(t,e){if(p(t),!f(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},Ee={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=L(Function.call,xe.f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,r){return Ce(t,r),e?t.__proto__=r:n(t,r),t}}({},!1):void 0),check:Ce},ze=Ee.set,Le=function(t,e,n,i,o,a){var s=r[t],l=s,u=o?"set":"add",h=l&&l.prototype,c={},p=function(t){var e=h[t];E(h,t,"delete"==t?function(t){return!(a&&!f(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(a&&!f(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return a&&!f(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof l&&(a||h.forEach&&!d(function(){(new l).entries().next()}))){var g=new l,v=g[u](a?{}:-0,1)!=g,y=d(function(){g.has(1)}),m=ge(function(t){new l(t)}),x=!a&&d(function(){for(var t=new l,e=5;e--;)t[u](e,e);return!t.has(-0)});m||((l=e(function(e,n){U(e,l,t);var r=function(t,e,n){var r,i=e.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&f(r)&&ze&&ze(t,r),t}(new s,e,l);return void 0!=n&&be(n,o,r[u],r),r})).prototype=h,h.constructor=l),(y||x)&&(p("delete"),p("has"),o&&p("get")),(x||v)&&p(u),a&&h.clear&&delete h.clear}else l=i.getConstructor(e,t,o,u),H(l.prototype,n),Se.NEED=!0;return _t(l,t),c[t]=l,P(P.G+P.W+P.F*(l!=s),c),a||i.setStrong(l,t,o),l},Oe=(Le("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=Te.getEntry(this,t);return e&&e.v},set:function(t,e){return Te.def(this,0===t?0:t,e)}},Te,!0),Le("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return Te.def(this,t=0===t?0:t,t)}},Te),{f:Object.getOwnPropertySymbols}),De=Object.assign,Pe=!De||d(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=De({},t)[n]||Object.keys(De({},e)).join("")!=r})?function(t,e){for(var n=gt(t),r=arguments.length,i=1,o=Oe.f,a=ye.f;r>i;)for(var s,l=Q(arguments[i++]),u=o?Wt(l).concat(o(l)):Wt(l),h=u.length,c=0;h>c;)a.call(l,s=u[c++])&&(n[s]=l[s]);return n}:De,Fe=Se.getWeak,Ne=ee(5),Re=ee(6),Be=0,We=function(t){return t._l||(t._l=new je)},je=function(){this.a=[]},Ge=function(t,e){return Ne(t.a,function(t){return t[0]===e})};je.prototype={get:function(t){var e=Ge(this,t);if(e)return e[1]},has:function(t){return!!Ge(this,t)},set:function(t,e){var n=Ge(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=Re(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}};var He={getConstructor:function(t,e,n,r){var i=t(function(t,o){U(t,i,e,"_i"),t._i=Be++,t._l=void 0,void 0!=o&&be(o,n,t[r],t)});return H(i.prototype,{delete:function(t){if(!f(t))return!1;var e=Fe(t);return!0===e?We(this).delete(t):e&&A(e,this._i)&&delete e[this._i]},has:function(t){if(!f(t))return!1;var e=Fe(t);return!0===e?We(this).has(t):e&&A(e,this._i)}}),i},def:function(t,e,n){var r=Fe(p(e),!0);return!0===r?We(t).set(e,n):r[t._i]=n,t},ufstore:We};n(function(t){var e,n=ee(0),r=Se.getWeak,i=Object.isExtensible,o=He.ufstore,a={},s=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},l={get:function(t){if(f(t)){var e=r(t);return!0===e?o(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return He.def(this,t,e)}},u=t.exports=Le("WeakMap",s,l,He,!0,!0);7!=(new u).set((Object.freeze||Object)(a),7).get(a)&&(e=He.getConstructor(s),Pe(e.prototype,l),Se.NEED=!0,n(["delete","has","get","set"],function(t){var n=u.prototype,r=n[t];E(n,t,function(n,o){if(f(n)&&!i(n)){this._f||(this._f=new e);var a=this._f[t](n,o);return"set"==t?this:a}return r.call(this,n,o)})}))});Le("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return He.def(this,t,!0)}},He,!1,!0);var Ue=(r.Reflect||{}).apply,qe=Function.apply;P(P.S+P.F*!d(function(){Ue(function(){})}),"Reflect",{apply:function(t,e,n){var r=z(t),i=p(n);return Ue?Ue(r,e,i):qe.call(r,e,i)}});var Ve=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)},Ye=[].slice,$e={},Xe=Function.bind||function(t){var e=z(this),n=Ye.call(arguments,1),r=function r(){var i=n.concat(Ye.call(arguments));return this instanceof r?function(t,e,n){if(!(e in $e)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";$e[e]=Function("F,a","return new F("+r.join(",")+")")}return $e[e](t,n)}(e,i.length,i):Ve(e,i,t)};return f(e.prototype)&&(r.prototype=e.prototype),r},Ke=(r.Reflect||{}).construct,Ze=d(function(){function t(){}return!(Ke(function(){},[],t)instanceof t)}),Qe=!d(function(){Ke(function(){})});P(P.S+P.F*(Ze||Qe),"Reflect",{construct:function(t,e){z(t),p(e);var n=arguments.length<3?t:z(arguments[2]);if(Qe&&!Ze)return Ke(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(Xe.apply(t,r))}var i=n.prototype,o=Vt(f(i)?i:Object.prototype),a=Function.apply.call(t,o,e);return f(a)?a:o}}),P(P.S+P.F*d(function(){Reflect.defineProperty(b.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){p(t),e=_(e,!0),p(n);try{return b.f(t,e,n),!0}catch(t){return!1}}});var Je=xe.f;P(P.S,"Reflect",{deleteProperty:function(t,e){var n=Je(p(t),e);return!(n&&!n.configurable)&&delete t[e]}}),P(P.S,"Reflect",{get:function t(e,n){var r,i,o=arguments.length<3?e:arguments[2];return p(e)===o?e[n]:(r=xe.f(e,n))?A(r,"value")?r.value:void 0!==r.get?r.get.call(o):void 0:f(i=Xt(e))?t(i,n,o):void 0}}),P(P.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return xe.f(p(t),e)}}),P(P.S,"Reflect",{getPrototypeOf:function(t){return Xt(p(t))}}),P(P.S,"Reflect",{has:function(t,e){return e in t}});var tn=Object.isExtensible;P(P.S,"Reflect",{isExtensible:function(t){return p(t),!tn||tn(t)}});var en=r.Reflect,nn=en&&en.ownKeys||function(t){var e=dt.f(p(t)),n=Oe.f;return n?e.concat(n(t)):e};P(P.S,"Reflect",{ownKeys:nn});var rn=Object.preventExtensions;P(P.S,"Reflect",{preventExtensions:function(t){p(t);try{return rn&&rn(t),!0}catch(t){return!1}}}),P(P.S,"Reflect",{set:function t(e,n,r){var i,o,a=arguments.length<4?e:arguments[3],s=xe.f(p(e),n);if(!s){if(f(o=Xt(e)))return t(o,n,r,a);s=S(0)}return A(s,"value")?!(!1===s.writable||!f(a)||((i=xe.f(a,n)||S(0)).value=r,b.f(a,n,i),0)):void 0!==s.set&&(s.set.call(a,r),!0)}}),Ee&&P(P.S,"Reflect",{setPrototypeOf:function(t,e){Ee.check(t,e);try{return Ee.set(t,e),!0}catch(t){return!1}}});var on,an,sn,ln=r.process,un=r.setImmediate,hn=r.clearImmediate,cn=r.MessageChannel,fn=0,pn={},dn=function(){var t=+this;if(pn.hasOwnProperty(t)){var e=pn[t];delete pn[t],e()}},gn=function(t){dn.call(t.data)};un&&hn||(un=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return pn[++fn]=function(){Ve("function"==typeof t?t:Function(t),e)},on(fn),fn},hn=function(t){delete pn[t]},"process"==Z(ln)?on=function(t){ln.nextTick(L(dn,t,1))}:cn?(sn=(an=new cn).port2,an.port1.onmessage=gn,on=L(sn.postMessage,sn,1)):r.addEventListener&&"function"==typeof postMessage&&!r.importScripts?(on=function(t){r.postMessage(t+"","*")},r.addEventListener("message",gn,!1)):on="onreadystatechange"in m("script")?function(t){Gt.appendChild(m("script")).onreadystatechange=function(){Gt.removeChild(this),dn.call(t)}}:function(t){setTimeout(L(dn,t,1),0)});var vn,yn,mn,xn={set:un,clear:hn},_n=xn.set,wn=r.MutationObserver||r.WebKitMutationObserver,bn=r.process,Sn=r.Promise,kn="process"==Z(bn),Mn=xn.set,An=function(){var t,e,n,i=function(){var r,i;for(kn&&(r=bn.domain)&&r.exit();t;){i=t.fn,t=t.next;try{i()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(kn)n=function(){bn.nextTick(i)};else if(wn){var o=!0,a=document.createTextNode("");new wn(i).observe(a,{characterData:!0}),n=function(){a.data=o=!o}}else if(Sn&&Sn.resolve){var s=Sn.resolve();n=function(){s.then(i)}}else n=function(){_n.call(r,i)};return function(r){var i={fn:r,next:void 0};e&&(e.next=i),t||(t=i,n()),e=i}}(),In=r.TypeError,Tn=r.process,Cn=r.Promise,En=(Tn=r.process,"process"==Pt(Tn)),zn=function(){},Ln=!!function(){try{var t=Cn.resolve(1),e=(t.constructor={})[yt("species")]=function(t){t(zn,zn)};return(En||"function"==typeof PromiseRejectionEvent)&&t.then(zn)instanceof e}catch(t){}}(),On=function(t,e){return t===e||t===Cn&&e===mn},Dn=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},Pn=function(t){return On(Cn,t)?new Fn(t):new yn(t)},Fn=yn=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw In("Bad Promise constructor");e=t,n=r}),this.resolve=z(e),this.reject=z(n)},Nn=function(t){try{t()}catch(t){return{error:t}}},Rn=function(t,e){if(!t._n){t._n=!0;var n=t._c;An(function(){for(var r=t._v,i=1==t._s,o=0,a=function(e){var n,o,a=i?e.ok:e.fail,s=e.resolve,l=e.reject,u=e.domain;try{a?(i||(2==t._h&&jn(t),t._h=1),!0===a?n=r:(u&&u.enter(),n=a(r),u&&u.exit()),n===e.promise?l(In("Promise-chain cycle")):(o=Dn(n))?o.call(n,s,l):s(n)):l(r)}catch(t){l(t)}};n.length>o;)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&Bn(t)})}},Bn=function(t){Mn.call(r,function(){var e,n,i,o=t._v;if(Wn(t)&&(e=Nn(function(){En?Tn.emit("unhandledRejection",o,t):(n=r.onunhandledrejection)?n({promise:t,reason:o}):(i=r.console)&&i.error}),t._h=En||Wn(t)?2:1),t._a=void 0,e)throw e.error})},Wn=function t(e){if(1==e._h)return!1;for(var n,r=e._a||e._c,i=0;r.length>i;)if((n=r[i++]).fail||!t(n.promise))return!1;return!0},jn=function(t){Mn.call(r,function(){var e;En?Tn.emit("rejectionHandled",t):(e=r.onrejectionhandled)&&e({promise:t,reason:t._v})})},Gn=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),Rn(e,!0))},Hn=function t(e){var n,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw In("Promise can't be resolved itself");(n=Dn(e))?An(function(){var i={_w:r,_d:!1};try{n.call(e,L(t,i,1),L(Gn,i,1))}catch(t){Gn.call(i,t)}}):(r._v=e,r._s=1,Rn(r,!1))}catch(t){Gn.call({_w:r,_d:!1},t)}}};Ln||(Cn=function(t){U(this,Cn,"Promise","_h"),z(t),vn.call(this);try{t(L(Hn,this,1),L(Gn,this,1))}catch(t){Gn.call(this,t)}},(vn=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=H(Cn.prototype,{then:function(t,e){var n=Pn(St(this,Cn));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=En?Tn.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Rn(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),Fn=function(){var t=new vn;this.promise=t,this.resolve=L(Hn,t,1),this.reject=L(Gn,t,1)}),P(P.G+P.W+P.F*!Ln,{Promise:Cn}),_t(Cn,"Promise"),Mt("Promise"),mn=o.Promise,P(P.S+P.F*!Ln,"Promise",{reject:function(t){var e=Pn(this);return(0,e.reject)(t),e.promise}}),P(P.S+P.F*!Ln,"Promise",{resolve:function(t){if(t instanceof Cn&&On(t.constructor,this))return t;var e=Pn(this);return(0,e.resolve)(t),e.promise}}),P(P.S+P.F*!(Ln&&ge(function(t){Cn.all(t).catch(zn)})),"Promise",{all:function(t){var e=this,n=Pn(e),r=n.resolve,i=n.reject,o=Nn(function(){var n=[],o=0,a=1;be(t,!1,function(t){var s=o++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||r(n))},i)}),--a||r(n)});return o&&i(o.error),n.promise},race:function(t){var e=this,n=Pn(e),r=n.reject,i=Nn(function(){be(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return i&&r(i.error),n.promise}});var Un={f:yt},qn=b.f,Vn=function(t){var e=o.Symbol||(o.Symbol=r.Symbol||{});"_"==t.charAt(0)||t in e||qn(e,t,{value:Un.f(t)})},Yn=dt.f,$n={}.toString,Xn="object"==("undefined"==typeof window?"undefined":a(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Kn={f:function(t){return Xn&&"[object Window]"==$n.call(t)?function(t){try{return Yn(t)}catch(t){return Xn.slice()}}(t):Yn(tt(t))}},Zn=Se.KEY,Qn=xe.f,Jn=b.f,tr=Kn.f,er=r.Symbol,nr=r.JSON,rr=nr&&nr.stringify,ir=yt("_hidden"),or=yt("toPrimitive"),ar={}.propertyIsEnumerable,sr=at("symbol-registry"),lr=at("symbols"),ur=at("op-symbols"),hr=Object.prototype,cr="function"==typeof er,fr=r.QObject,pr=!fr||!fr.prototype||!fr.prototype.findChild,dr=g&&d(function(){return 7!=Vt(Jn({},"a",{get:function(){return Jn(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=Qn(hr,e);r&&delete hr[e],Jn(t,e,n),r&&t!==hr&&Jn(hr,e,r)}:Jn,gr=function(t){var e=lr[t]=Vt(er.prototype);return e._k=t,e},vr=cr&&"symbol"==a(er.iterator)?function(t){return"symbol"==(void 0===t?"undefined":a(t))}:function(t){return t instanceof er},yr=function(t,e,n){return t===hr&&yr(ur,e,n),p(t),e=_(e,!0),p(n),A(lr,e)?(n.enumerable?(A(t,ir)&&t[ir][e]&&(t[ir][e]=!1),n=Vt(n,{enumerable:S(0,!1)})):(A(t,ir)||Jn(t,ir,S(1,{})),t[ir][e]=!0),dr(t,e,n)):Jn(t,e,n)},mr=function(t,e){p(t);for(var n,r=function(t){var e=Wt(t),n=Oe.f;if(n)for(var r,i=n(t),o=ye.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e}(e=tt(e)),i=0,o=r.length;o>i;)yr(t,n=r[i++],e[n]);return t},xr=function(t){var e=ar.call(this,t=_(t,!0));return!(this===hr&&A(lr,t)&&!A(ur,t))&&(!(e||!A(this,t)||!A(lr,t)||A(this,ir)&&this[ir][t])||e)},_r=function(t,e){if(t=tt(t),e=_(e,!0),t!==hr||!A(lr,e)||A(ur,e)){var n=Qn(t,e);return!n||!A(lr,e)||A(t,ir)&&t[ir][e]||(n.enumerable=!0),n}},wr=function(t){for(var e,n=tr(tt(t)),r=[],i=0;n.length>i;)A(lr,e=n[i++])||e==ir||e==Zn||r.push(e);return r},br=function(t){for(var e,n=t===hr,r=tr(n?ur:tt(t)),i=[],o=0;r.length>o;)!A(lr,e=r[o++])||n&&!A(hr,e)||i.push(lr[e]);return i};cr||(E((er=function(){if(this instanceof er)throw TypeError("Symbol is not a constructor!");var t=C(arguments.length>0?arguments[0]:void 0);return g&&pr&&dr(hr,t,{configurable:!0,set:function e(n){this===hr&&e.call(ur,n),A(this,ir)&&A(this[ir],t)&&(this[ir][t]=!1),dr(this,t,S(1,n))}}),gr(t)}).prototype,"toString",function(){return this._k}),xe.f=_r,b.f=yr,dt.f=Kn.f=wr,ye.f=xr,Oe.f=br,g&&E(hr,"propertyIsEnumerable",xr,!0),Un.f=function(t){return gr(yt(t))}),P(P.G+P.W+P.F*!cr,{Symbol:er});for(var Sr="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),kr=0;Sr.length>kr;)yt(Sr[kr++]);for(Sr=Wt(yt.store),kr=0;Sr.length>kr;)Vn(Sr[kr++]);P(P.S+P.F*!cr,"Symbol",{for:function(t){return A(sr,t+="")?sr[t]:sr[t]=er(t)},keyFor:function(t){if(vr(t))return function(t,e){for(var n,r=tt(t),i=Wt(r),o=i.length,a=0;o>a;)if(r[n=i[a++]]===e)return n}(sr,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){pr=!0},useSimple:function(){pr=!1}}),P(P.S+P.F*!cr,"Object",{create:function(t,e){return void 0===e?Vt(t):mr(Vt(t),e)},defineProperty:yr,defineProperties:mr,getOwnPropertyDescriptor:_r,getOwnPropertyNames:wr,getOwnPropertySymbols:br}),nr&&P(P.S+P.F*(!cr||d(function(){var t=er();return"[null]"!=rr([t])||"{}"!=rr({a:t})||"{}"!=rr(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!vr(t)){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(e=r[1])&&(n=e),!n&&Qt(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!vr(e))return e}),r[1]=e,rr.apply(nr,r)}}}),er.prototype[or]||k(er.prototype,or,er.prototype.valueOf),_t(er,"Symbol"),_t(Math,"Math",!0),_t(r.JSON,"JSON",!0);var Mr=function(t,e){var n=(o.Object||{})[t]||Object[t],r={};r[t]=e(n),P(P.S+P.F*d(function(){n(1)}),"Object",r)},Ar=Se.onFreeze;Mr("freeze",function(t){return function(e){return t&&f(e)?t(Ar(e)):e}});var Ir=Se.onFreeze;Mr("seal",function(t){return function(e){return t&&f(e)?t(Ir(e)):e}});var Tr=Se.onFreeze;Mr("preventExtensions",function(t){return function(e){return t&&f(e)?t(Tr(e)):e}}),Mr("isFrozen",function(t){return function(e){return!f(e)||!!t&&t(e)}}),Mr("isSealed",function(t){return function(e){return!f(e)||!!t&&t(e)}}),Mr("isExtensible",function(t){return function(e){return!!f(e)&&(!t||t(e))}});var Cr=xe.f;Mr("getOwnPropertyDescriptor",function(){return function(t,e){return Cr(tt(t),e)}}),Mr("getPrototypeOf",function(){return function(t){return Xt(gt(t))}}),Mr("keys",function(){return function(t){return Wt(gt(t))}}),Mr("getOwnPropertyNames",function(){return Kn.f}),P(P.S+P.F,"Object",{assign:Pe}),P(P.S,"Object",{is:Lt}),P(P.S,"Object",{setPrototypeOf:Ee.set});var Er=b.f,zr=Function.prototype,Lr=/^\s*function ([^ (]*)/,Or=Object.isExtensible||function(){return!0};"name"in zr||g&&Er(zr,"name",{configurable:!0,get:function(){try{var t=(""+this).match(Lr)[1];return A(this,"name")||!Or(this)||Er(this,"name",S(5,t)),t}catch(t){return""}}}),P(P.S,"String",{raw:function(t){for(var e=tt(t.raw),n=X(e.length),r=arguments.length,i=[],o=0;n>o;)i.push(String(e[o++])),o<r&&i.push(String(arguments[o]));return i.join("")}});var Dr=String.fromCharCode,Pr=String.fromCodePoint;P(P.S+P.F*(!!Pr&&1!=Pr.length),"String",{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,i=0;r>i;){if(e=+arguments[i++],rt(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?Dr(e):Dr(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}});var Fr,Nr=(Fr=!1,function(t,e){var n,r,i=String(J(t)),o=Y(e),a=i.length;return o<0||o>=a?Fr?"":void 0:(n=i.charCodeAt(o))<55296||n>56319||o+1===a||(r=i.charCodeAt(o+1))<56320||r>57343?Fr?i.charAt(o):n:Fr?i.slice(o,o+2):r-56320+(n-55296<<10)+65536});P(P.P,"String",{codePointAt:function(t){return Nr(this,t)}});var Rr=function(t){var e=String(J(this)),n="",r=Y(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n};P(P.P,"String",{repeat:Rr});var Br=yt("match"),Wr=function(t){var e;return f(t)&&(void 0!==(e=t[Br])?!!e:"RegExp"==Z(t))},jr=function(t,e,n){if(Wr(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(J(t))},Gr=yt("match"),Hr=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Gr]=!1,!"/./"[t](e)}catch(t){}}return!0},Ur="".startsWith;P(P.P+P.F*Hr("startsWith"),"String",{startsWith:function(t){var e=jr(this,t,"startsWith"),n=X(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Ur?Ur.call(e,r,n):e.slice(n,n+r.length)===r}});var qr="".endsWith;P(P.P+P.F*Hr("endsWith"),"String",{endsWith:function(t){var e=jr(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=X(e.length),i=void 0===n?r:Math.min(X(n),r),o=String(t);return qr?qr.call(e,o,i):e.slice(i-o.length,i)===o}});P(P.P+P.F*Hr("includes"),"String",{includes:function(t){return!!~jr(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}});g&&"g"!=/./g.flags&&b.f(RegExp.prototype,"flags",{configurable:!0,get:function(){var t=p(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}});var Vr=function(t,e,n){var r=yt(t),i=n(J,r,""[t]),o=i[0],a=i[1];d(function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})&&(E(String.prototype,t,o),k(RegExp.prototype,r,2==e?function(t,e){return a.call(t,this,e)}:function(t){return a.call(t,this)}))};Vr("match",1,function(t,e,n){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]}),Vr("replace",2,function(t,e,n){return[function(r,i){var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]}),Vr("split",2,function(t,e,n){var r=Wr,i=n,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var a=void 0===/()??/.exec("")[1];n=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return i.call(n,t,e);var s,l,u,h,c,f=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,g=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,p+"g");for(a||(s=new RegExp("^"+v.source+"$(?!\\s)",p));(l=v.exec(n))&&!((u=l.index+l[0].length)>d&&(f.push(n.slice(d,l.index)),!a&&l.length>1&&l[0].replace(s,function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(l[c]=void 0)}),l.length>1&&l.index<n.length&&o.apply(f,l.slice(1)),h=l[0].length,d=u,f.length>=g));)v.lastIndex===l.index&&v.lastIndex++;return d===n.length?!h&&v.test("")||f.push(""):f.push(n.slice(d)),f.length>g?f.slice(0,g):f}}else"0".split(void 0,0).length&&(n=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(r,i){var o=t(this),a=void 0==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]}),Vr("search",1,function(t,e,n){return[function(n){var r=t(this),i=void 0==n?void 0:n[e];return void 0!==i?i.call(n,r):new RegExp(n)[e](String(r))},n]});var Yr=function(t,e,n){e in t?b.f(t,e,S(0,n)):t[e]=n};P(P.S+P.F*!ge(function(t){}),"Array",{from:function(t){var e,n,r,i,o=gt(t),a="function"==typeof this?this:Array,s=arguments.length,l=s>1?arguments[1]:void 0,u=void 0!==l,h=0,c=Zt(o);if(u&&(l=L(l,s>2?arguments[2]:void 0,2)),void 0==c||a==Array&&Bt(c))for(n=new a(e=X(o.length));e>h;h++)Yr(n,h,u?l(o[h],h):o[h]);else for(i=c.call(o),n=new a;!(r=i.next()).done;h++)Yr(n,h,u?we(i,l,[r.value,h],!0):r.value);return n.length=h,n}}),P(P.S+P.F*d(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)Yr(n,t,arguments[t++]);return n.length=e,n}}),P(P.P,"Array",{copyWithin:ve}),ie("copyWithin");var $r=ee(5),Xr=!0;"find"in[]&&Array(1).find(function(){Xr=!1}),P(P.P+P.F*Xr,"Array",{find:function(t){return $r(this,t,arguments.length>1?arguments[1]:void 0)}}),ie("find");var Kr=ee(6),Zr=!0;"findIndex"in[]&&Array(1).findIndex(function(){Zr=!1}),P(P.P+P.F*Zr,"Array",{findIndex:function(t){return Kr(this,t,arguments.length>1?arguments[1]:void 0)}}),ie("findIndex"),P(P.P,"Array",{fill:vt}),ie("fill");var Qr=r.isFinite;P(P.S,"Number",{isFinite:function(t){return"number"==typeof t&&Qr(t)}});var Jr=Math.floor,ti=function(t){return!f(t)&&isFinite(t)&&Jr(t)===t};P(P.S,"Number",{isInteger:ti});var ei=Math.abs;P(P.S,"Number",{isSafeInteger:function(t){return ti(t)&&ei(t)<=9007199254740991}}),P(P.S,"Number",{isNaN:function(t){return t!=t}}),P(P.S,"Number",{EPSILON:Math.pow(2,-52)}),P(P.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991}),P(P.S,"Number",{MAX_SAFE_INTEGER:9007199254740991});var ni=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)},ri=Math.sqrt,ii=Math.acosh;P(P.S+P.F*!(ii&&710==Math.floor(ii(Number.MAX_VALUE))&&ii(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:ni(t-1+ri(t-1)*ri(t+1))}});var oi=Math.asinh;P(P.S+P.F*!(oi&&1/oi(0)>0),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}});var ai=Math.atanh;P(P.S+P.F*!(ai&&1/ai(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}});var si=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1};P(P.S,"Math",{cbrt:function(t){return si(t=+t)*Math.pow(Math.abs(t),1/3)}}),P(P.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}});var li=Math.exp;P(P.S,"Math",{cosh:function(t){return(li(t=+t)+li(-t))/2}});var ui=Math.expm1,hi=!ui||ui(10)>22025.465794806718||ui(10)<22025.465794806718||-2e-17!=ui(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:ui;P(P.S+P.F*(hi!=Math.expm1),"Math",{expm1:hi});var ci=Math.pow,fi=ci(2,-52),pi=ci(2,-23),di=ci(2,127)*(2-pi),gi=ci(2,-126);P(P.S,"Math",{fround:function(t){var e,n,r=Math.abs(t),i=si(t);return r<gi?i*(r/gi/pi+1/fi-1/fi)*gi*pi:(n=(e=(1+pi/fi)*r)-(e-r))>di||n!=n?i*(1/0):i*n}});var vi=Math.abs;P(P.S,"Math",{hypot:function(t,e){for(var n,r,i=0,o=0,a=arguments.length,s=0;o<a;)s<(n=vi(arguments[o++]))?(i=i*(r=s/n)*r+1,s=n):i+=n>0?(r=n/s)*r:n;return s===1/0?1/0:s*Math.sqrt(i)}});var yi=Math.imul;P(P.S+P.F*d(function(){return-5!=yi(4294967295,5)||2!=yi.length}),"Math",{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}}),P(P.S,"Math",{log1p:ni}),P(P.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}}),P(P.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}}),P(P.S,"Math",{sign:si});var mi=Math.exp;P(P.S+P.F*d(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(hi(t)-hi(-t))/2:(mi(t-1)-mi(-t-1))*(Math.E/2)}});var xi=Math.exp;P(P.S,"Math",{tanh:function(t){var e=hi(t=+t),n=hi(-t);return e==1/0?1:n==1/0?-1:(e-n)/(xi(t)+xi(-t))}}),P(P.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}});var _i=it(!0);P(P.P,"Array",{includes:function(t){return _i(this,t,arguments.length>1?arguments[1]:void 0)}}),ie("includes");var wi=ye.f,bi=function(t){return function(e){for(var n,r=tt(e),i=Wt(r),o=i.length,a=0,s=[];o>a;)wi.call(r,n=i[a++])&&s.push(t?[n,r[n]]:r[n]);return s}},Si=bi(!1);P(P.S,"Object",{values:function(t){return Si(t)}});var ki=bi(!0);P(P.S,"Object",{entries:function(t){return ki(t)}}),P(P.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n=tt(t),r=xe.f,i=nn(n),o={},a=0;i.length>a;)Yr(o,e=i[a++],r(n,e));return o}});var Mi=function(t,e,n,r){var i=String(J(t)),o=i.length,a=void 0===n?" ":String(n),s=X(e);if(s<=o||""==a)return i;var l=s-o,u=Rr.call(a,Math.ceil(l/a.length));return u.length>l&&(u=u.slice(0,l)),r?u+i:i+u};P(P.P,"String",{padStart:function(t){return Mi(this,t,arguments.length>1?arguments[1]:void 0,!0)}}),P(P.P,"String",{padEnd:function(t){return Mi(this,t,arguments.length>1?arguments[1]:void 0,!1)}});var Ai=r,Ii=function(){for(var t=z(this),e=arguments.length,n=Array(e),r=0,i=Ai._,o=!1;e>r;)(n[r]=arguments[r++])===i&&(o=!0);return function(){var r,a=arguments.length,s=0,l=0;if(!o&&!a)return Ve(t,n,this);if(r=n.slice(),o)for(;e>s;s++)r[s]===i&&(r[s]=arguments[l++]);for(;a>l;)r.push(arguments[l++]);return Ve(t,r,this)}},Ti=r.navigator,Ci=!!Ti&&/MSIE .\./.test(Ti.userAgent),Ei=function(t){return Ci?function(e,n){return t(Ve(Ii,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),n)}:t};P(P.G+P.B+P.F*Ci,{setTimeout:Ei(r.setTimeout),setInterval:Ei(r.setInterval)}),P(P.G+P.B,{setImmediate:xn.set,clearImmediate:xn.clear});for(var zi=yt("iterator"),Li=yt("toStringTag"),Oi=Ft.Array,Di=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],Pi=0;Pi<5;Pi++){var Fi,Ni=Di[Pi],Ri=r[Ni],Bi=Ri&&Ri.prototype;if(Bi)for(Fi in Bi[zi]||k(Bi,zi,Oi),Bi[Li]||k(Bi,Li,Ni),Ft[Ni]=Oi,fe)Bi[Fi]||E(Bi,Fi,fe[Fi],!0)}n(function(t){!function(e){var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",h=e.regeneratorRuntime;if(h)t.exports=h;else{(h=e.regeneratorRuntime=t.exports).wrap=_;var c="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},v={};v[s]=function(){return this};var y=Object.getPrototypeOf,m=y&&y(y(z([])));m&&m!==r&&i.call(m,s)&&(v=m);var x=k.prototype=b.prototype=Object.create(v);S.prototype=x.constructor=k,k.constructor=S,k[u]=S.displayName="GeneratorFunction",h.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===S||"GeneratorFunction"===(e.displayName||e.name))},h.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,k):(t.__proto__=k,u in t||(t[u]="GeneratorFunction")),t.prototype=Object.create(x),t},h.awrap=function(t){return{__await:t}},M(A.prototype),A.prototype[l]=function(){return this},h.AsyncIterator=A,h.async=function(t,e,n,r){var i=new A(_(t,e,n,r));return h.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},M(x),x[u]="Generator",x[s]=function(){return this},x.toString=function(){return"[object Generator]"},h.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},h.values=z,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,i){return s.type="throw",s.arg=t,e.next=r,i&&(e.method="next",e.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:z(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),g}}}function _(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r=c;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return L()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===c)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var l=w(t,e,n);if("normal"===l.type){if(r=n.done?d:f,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=d,n.method="throw",n.arg=l.arg)}}}(t,n,a),o}function w(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function b(){}function S(){}function k(){}function M(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function A(t){var e;this._invoke=function(n,r){function o(){return new Promise(function(e,o){!function e(n,r,o,s){var l=w(t[n],t,r);if("throw"!==l.type){var u=l.arg,h=u.value;return h&&"object"===(void 0===h?"undefined":a(h))&&i.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,o,s)},function(t){e("throw",t,o,s)}):Promise.resolve(h).then(function(t){u.value=t,o(u)},s)}s(l.arg)}(n,r,e,o)})}return e=e?e.then(o,o):o()}}function I(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,I(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=w(r,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,g;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function z(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=n,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())});var Wi=2311;function ji(){return Wi++}var Gi="object"===("undefined"==typeof wx?"undefined":a(wx))&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},n=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),i=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);n&&(e.firefox=!0,e.version=n[1]);r&&(e.ie=!0,e.version=r[1]);i&&(e.edge=!0,e.version=i[1]);o&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&e.version>=11),domSupported:"undefined"!=typeof document}}(navigator.userAgent);var Hi={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Ui={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},qi=Object.prototype.toString,Vi=Array.prototype,Yi=Vi.forEach,$i=Vi.filter,Xi=Vi.slice,Ki=Vi.map,Zi=Vi.reduce,Qi={};function Ji(t,e){"createCanvas"===t&&(io=null),Qi[t]=e}function to(t){if(null==t||"object"!==(void 0===t?"undefined":a(t)))return t;var e=t,n=qi.call(t);if("[object Array]"===n){if(!Co(t)){e=[];for(var r=0,i=t.length;r<i;r++)e[r]=to(t[r])}}else if(Ui[n]){if(!Co(t)){var o=t.constructor;if(t.constructor.from)e=o.from(t);else{e=new o(t.length);for(r=0,i=t.length;r<i;r++)e[r]=to(t[r])}}}else if(!Hi[n]&&!Co(t)&&!So(t))for(var s in e={},t)t.hasOwnProperty(s)&&(e[s]=to(t[s]));return e}function eo(t,e,n){if(!wo(e)||!wo(t))return n?to(e):t;for(var r in e)if(e.hasOwnProperty(r)){var i=t[r],o=e[r];!wo(o)||!wo(i)||mo(o)||mo(i)||So(o)||So(i)||bo(o)||bo(i)||Co(o)||Co(i)?!n&&r in t||(t[r]=to(e[r])):eo(i,o,n)}return t}function no(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ro(t,e,n){for(var r in e)e.hasOwnProperty(r)&&(n?null!=e[r]:null==t[r])&&(t[r]=e[r]);return t}var io,oo=function(){return Qi.createCanvas()};function ao(){return io||(io=oo().getContext("2d")),io}function so(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n}return-1}function lo(t,e){var n=t.prototype;function r(){}for(var i in r.prototype=e.prototype,t.prototype=new r,n)t.prototype[i]=n[i];t.prototype.constructor=t,t.superClass=e}function uo(t,e,n){ro(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)}function ho(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function co(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Yi)t.forEach(e,n);else if(t.length===+t.length)for(var r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function fo(t,e,n){if(t&&e){if(t.map&&t.map===Ki)return t.map(e,n);for(var r=[],i=0,o=t.length;i<o;i++)r.push(e.call(n,t[i],i,t));return r}}function po(t,e,n){if(t&&e){if(t.filter&&t.filter===$i)return t.filter(e,n);for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}}function go(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return t[r]}function vo(t,e){var n=Xi.call(arguments,2);return function(){return t.apply(e,n.concat(Xi.call(arguments)))}}function yo(t){var e=Xi.call(arguments,1);return function(){return t.apply(this,e.concat(Xi.call(arguments)))}}function mo(t){return"[object Array]"===qi.call(t)}function xo(t){return"function"==typeof t}function _o(t){return"[object String]"===qi.call(t)}function wo(t){var e=void 0===t?"undefined":a(t);return"function"===e||!!t&&"object"===e}function bo(t){return!!Hi[qi.call(t)]}function So(t){return"object"===(void 0===t?"undefined":a(t))&&"number"==typeof t.nodeType&&"object"===a(t.ownerDocument)}function ko(t,e){return null!=t?t:e}function Mo(t,e,n){return null!=t?t:null!=e?e:n}function Ao(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function Io(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}Qi.createCanvas=function(){return document.createElement("canvas")};var To="__ec_primitive__";function Co(t){return t[To]}function Eo(t){var e=mo(t);this.data={};var n=this;function r(t,r){e?n.set(t,r):n.set(r,t)}t instanceof Eo?t.each(r):t&&co(t,r)}Eo.prototype={constructor:Eo,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=vo(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}};var zo="undefined"==typeof Float32Array?Array:Float32Array;function Lo(t,e){var n=new zo(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function Oo(t){var e=new zo(2);return e[0]=t[0],e[1]=t[1],e}function Do(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function Po(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Fo(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function No(t,e){var n=function(t){return Math.sqrt(function(t){return t[0]*t[0]+t[1]*t[1]}(t))}(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function Ro(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var Bo=Ro;var Wo=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])};function jo(t,e,n){var r=e[0],i=e[1];return t[0]=n[0]*r+n[2]*i+n[4],t[1]=n[1]*r+n[3]*i+n[5],t}function Go(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function Ho(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function Uo(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function qo(t,e){return{target:t,topTarget:e&&e.topTarget}}Uo.prototype={constructor:Uo,_dragStart:function(t){var e=t.target;e&&e.draggable&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(qo(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,r=t.offsetY,i=n-this._x,o=r-this._y;this._x=n,this._y=r,e.drift(i,o,t),this.dispatchToElement(qo(e,t),"drag",t.event);var a=this.findHover(n,r,e).target,s=this._dropTarget;this._dropTarget=a,e!==a&&(s&&a!==s&&this.dispatchToElement(qo(s,t),"dragleave",t.event),a&&a!==s&&this.dispatchToElement(qo(a,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(qo(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(qo(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var Vo=Array.prototype.slice,Yo=function(t){this._$handlers={},this._$eventProcessor=t};function $o(t,e,n,r,i,o){var a=t._$handlers;if("function"==typeof n&&(i=r,r=n,n=null),!r||!e)return t;n=function(t,e){var n=t._$eventProcessor;return null!=e&&n&&n.normalizeQuery&&(e=n.normalizeQuery(e)),e}(t,n),a[e]||(a[e]=[]);for(var s=0;s<a[e].length;s++)if(a[e][s].h===r)return t;var l={h:r,one:o,query:n,ctx:i||t,callAtLast:r.zrEventfulCallAtLast},u=a[e].length-1,h=a[e][u];return h&&h.callAtLast?a[e].splice(u,0,l):a[e].push(l),t}Yo.prototype={constructor:Yo,one:function(t,e,n,r){return $o(this,t,e,n,r,!0)},on:function(t,e,n,r){return $o(this,t,e,n,r,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var r=[],i=0,o=n[t].length;i<o;i++)n[t][i].h!==e&&r.push(n[t][i]);n[t]=r}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var r=arguments,i=r.length;i>3&&(r=Vo.call(r,1));for(var o=e.length,a=0;a<o;){var s=e[a];if(n&&n.filter&&null!=s.query&&!n.filter(t,s.query))a++;else{switch(i){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,r[1]);break;case 3:s.h.call(s.ctx,r[1],r[2]);break;default:s.h.apply(s.ctx,r)}s.one?(e.splice(a,1),o--):a++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var r=arguments,i=r.length;i>4&&(r=Vo.call(r,1,r.length-1));for(var o=r[r.length-1],a=e.length,s=0;s<a;){var l=e[s];if(n&&n.filter&&null!=l.query&&!n.filter(t,l.query))s++;else{switch(i){case 1:l.h.call(o);break;case 2:l.h.call(o,r[1]);break;case 3:l.h.call(o,r[1],r[2]);break;default:l.h.apply(o,r)}l.one?(e.splice(s,1),a--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this}};var Xo="undefined"!=typeof window&&!!window.addEventListener,Ko=/^(?:mouse|pointer|contextmenu|drag|drop)|click/;function Zo(t,e,n,r){return n=n||{},r||!Gi.canvasSupported?Qo(t,e,n):Gi.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):Qo(t,e,n),n}function Qo(t,e,n){var r=function(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}(t);n.zrX=e.clientX-r.left,n.zrY=e.clientY-r.top}function Jo(t,e,n){if(null!=(e=e||window.event).zrX)return e;var r=e.type;if(r&&r.indexOf("touch")>=0){var i="touchend"!==r?e.targetTouches[0]:e.changedTouches[0];i&&Zo(t,i,e,n)}else Zo(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var o=e.button;return null==e.which&&void 0!==o&&Ko.test(e.type)&&(e.which=1&o?1:2&o?3:4&o?2:0),e}function ta(t,e,n){Xo?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}var ea=Xo?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},na=function(){this._track=[]};function ra(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}na.prototype={constructor:na,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var r=t.touches;if(r){for(var i={points:[],touches:[],target:e,event:t},o=0,a=r.length;o<a;o++){var s=r[o],l=Zo(n,s,{});i.points.push([l.zrX,l.zrY]),i.touches.push(s)}this._track.push(i)}},_recognize:function(t){for(var e in ia)if(ia.hasOwnProperty(e)){var n=ia[e](this._track,t);if(n)return n}}};var ia={pinch:function(t,e){var n=t.length;if(n){var r,i=(t[n-1]||{}).points,o=(t[n-2]||{}).points||i;if(o&&o.length>1&&i&&i.length>1){var a=ra(i)/ra(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((r=i)[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},oa="silent";function aa(t){ea(this.event)}function sa(){}sa.prototype.dispose=function(){};var la=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],ua=function(t,e,n,r){Yo.call(this),this.storage=t,this.painter=e,this.painterRoot=r,n=n||new sa,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,Uo.call(this),this.setHandlerProxy(n)};function ha(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var r,i=t;i;){if(i.clipPath&&!i.clipPath.contain(e,n))return!1;i.silent&&(r=!0),i=i.parent}return!r||oa}return!1}ua.prototype={constructor:ua,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(co(la,function(e){t.on&&t.on(e,this[e],this)},this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,r=this._hovered,i=r.target;i&&!i.__zr&&(i=(r=this.findHover(r.x,r.y)).target);var o=this._hovered=this.findHover(e,n),a=o.target,s=this.proxy;s.setCursor&&s.setCursor(a?a.cursor:"default"),i&&a!==i&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(o,"mousemove",t),a&&a!==i&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);var e,n=t.toElement||t.relatedTarget;do{n=n&&n.parentNode}while(n&&9!==n.nodeType&&!(e=n===this.painterRoot));!e&&this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var r=(t=t||{}).target;if(!r||!r.silent){for(var i="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:aa}}(e,t,n);r&&(r[i]&&(o.cancelBubble=r[i].call(r,o)),r.trigger(e,o),r=r.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[i]&&t[i].call(t,o),t.trigger&&t.trigger(e,o)}))}},findHover:function(t,e,n){for(var r=this.storage.getDisplayList(),i={x:t,y:e},o=r.length-1;o>=0;o--){var a;if(r[o]!==n&&!r[o].ignore&&(a=ha(r[o],t,e))&&(!i.topTarget&&(i.topTarget=r[o]),a!==oa)){i.target=r[o];break}}return i},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new na);var n=this._gestureMgr;"start"===e&&n.clear();var r=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),r){var i=r.type;t.gestureEvent=i,this.dispatchToElement({target:r.target},i,r.event)}}},co(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){ua.prototype[t]=function(e){var n=this.findHover(e.zrX,e.zrY),r=n.target;if("mousedown"===t)this._downEl=r,this._downPoint=[e.zrX,e.zrY],this._upEl=r;else if("mouseup"===t)this._upEl=r;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||Bo(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}),uo(ua,Yo),uo(ua,Uo);var ca="undefined"==typeof Float32Array?Array:Float32Array;function fa(){var t=new ca(6);return pa(t),t}function pa(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function da(t,e,n){var r=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=r,t[1]=i,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function ga(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function va(t,e,n){var r=n[0],i=n[1];return t[0]=e[0]*r,t[1]=e[1]*i,t[2]=e[2]*r,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*i,t}var ya=pa,ma=5e-5;function xa(t){return t>ma||t<-ma}var _a=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},wa=_a.prototype;wa.transform=null,wa.needLocalTransform=function(){return xa(this.rotation)||xa(this.position[0])||xa(this.position[1])||xa(this.scale[0]-1)||xa(this.scale[1]-1)};var ba=[];wa.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),r=this.transform;if(n||e){r=r||fa(),n?this.getLocalTransform(r):ya(r),e&&(n?da(r,t.transform,r):function(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5]}(r,t.transform)),this.transform=r;var i,o,a,s,l,u,h,c,f,p=this.globalScaleRatio;if(null!=p&&1!==p){this.getGlobalScale(ba);var d=ba[0]<0?-1:1,g=ba[1]<0?-1:1,v=((ba[0]-d)*p+d)/ba[0]||0,y=((ba[1]-g)*p+g)/ba[1]||0;r[0]*=v,r[1]*=v,r[2]*=y,r[3]*=y}this.invTransform=this.invTransform||fa(),i=this.invTransform,a=(o=r)[0],s=o[2],l=o[4],u=o[1],h=o[3],c=o[5],(f=a*h-u*s)&&(f=1/f,i[0]=h*f,i[1]=-u*f,i[2]=-s*f,i[3]=a*f,i[4]=(s*c-h*l)*f,i[5]=(u*l-a*c)*f)}else r&&ya(r)},wa.getLocalTransform=function(t){return _a.getLocalTransform(this,t)},wa.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},wa.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var Sa=[],ka=fa();wa.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],r=this.position,i=this.scale;xa(e-1)&&(e=Math.sqrt(e)),xa(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),r[0]=t[4],r[1]=t[5],i[0]=e,i[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e)}},wa.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(da(Sa,t.invTransform,e),e=Sa);var n=this.origin;n&&(n[0]||n[1])&&(ka[4]=n[0],ka[5]=n[1],da(Sa,e,ka),Sa[4]-=n[0],Sa[5]-=n[1],e=Sa),this.setLocalTransform(e)}},wa.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},wa.transformCoordToLocal=function(t,e){var n=[t,e],r=this.invTransform;return r&&jo(n,n,r),n},wa.transformCoordToGlobal=function(t,e){var n=[t,e],r=this.transform;return r&&jo(n,n,r),n},_a.getLocalTransform=function(t,e){ya(e=e||[]);var n,r,i,o,a,s,l,u,h,c,f,p=t.origin,d=t.scale||[1,1],g=t.rotation||0,v=t.position||[0,0];return p&&(e[4]-=p[0],e[5]-=p[1]),va(e,e,d),g&&(n=e,i=g,o=(r=e)[0],a=r[2],s=r[4],l=r[1],u=r[3],h=r[5],c=Math.sin(i),f=Math.cos(i),n[0]=o*f+l*c,n[1]=-o*c+l*f,n[2]=a*f+u*c,n[3]=-a*c+f*u,n[4]=f*s+c*h,n[5]=f*h-c*s),p&&(e[4]+=p[0],e[5]+=p[1]),e[4]+=v[0],e[5]+=v[1],e};var Ma={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Ma.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Ma.bounceIn(2*t):.5*Ma.bounceOut(2*t-1)+.5}};function Aa(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}Aa.prototype={constructor:Aa,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(n<0)){n=Math.min(n,1);var r=this.easing,i="string"==typeof r?Ma[r]:r,o="function"==typeof i?i(n):n;return this.fire("frame",o),1===n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Ia=function(){this.head=null,this.tail=null,this._len=0},Ta=Ia.prototype;Ta.insert=function(t){var e=new Ca(t);return this.insertEntry(e),e},Ta.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Ta.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Ta.len=function(){return this._len},Ta.clear=function(){this.head=this.tail=null,this._len=0};var Ca=function(t){this.value=t,this.next,this.prev},Ea=function(t){this._list=new Ia,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},za=Ea.prototype;za.put=function(t,e){var n=this._list,r=this._map,i=null;if(null==r[t]){var o=n.len(),a=this._lastRemovedEntry;if(o>=this._maxSize&&o>0){var s=n.head;n.remove(s),delete r[s.key],i=s.value,this._lastRemovedEntry=s}a?a.value=e:a=new Ca(e),a.key=t,n.insertEntry(a),r[t]=a}return i},za.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},za.clear=function(){this._list.clear(),this._map={}};var La={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Oa(t){return(t=Math.round(t))<0?0:t>255?255:t}function Da(t){return t<0?0:t>1?1:t}function Pa(t){return t.length&&"%"===t.charAt(t.length-1)?Oa(parseFloat(t)/100*255):Oa(parseInt(t,10))}function Fa(t){return t.length&&"%"===t.charAt(t.length-1)?Da(parseFloat(t)/100):Da(parseFloat(t))}function Na(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function Ra(t,e,n){return t+(e-t)*n}function Ba(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function Wa(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var ja=new Ea(20),Ga=null;function Ha(t,e){Ga&&Wa(Ga,e),Ga=ja.put(t,Ga||e.slice())}function Ua(t,e){if(t){e=e||[];var n=ja.get(t);if(n)return Wa(e,n);var r,i=(t+="").replace(/ /g,"").toLowerCase();if(i in La)return Wa(e,La[i]),Ha(t,e),e;if("#"===i.charAt(0))return 4===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=4095?(Ba(e,(3840&r)>>4|(3840&r)>>8,240&r|(240&r)>>4,15&r|(15&r)<<4,1),Ha(t,e),e):void Ba(e,0,0,0,1):7===i.length?(r=parseInt(i.substr(1),16))>=0&&r<=16777215?(Ba(e,(16711680&r)>>16,(65280&r)>>8,255&r,1),Ha(t,e),e):void Ba(e,0,0,0,1):void 0;var o=i.indexOf("("),a=i.indexOf(")");if(-1!==o&&a+1===i.length){var s=i.substr(0,o),l=i.substr(o+1,a-(o+1)).split(","),u=1;switch(s){case"rgba":if(4!==l.length)return void Ba(e,0,0,0,1);u=Fa(l.pop());case"rgb":return 3!==l.length?void Ba(e,0,0,0,1):(Ba(e,Pa(l[0]),Pa(l[1]),Pa(l[2]),u),Ha(t,e),e);case"hsla":return 4!==l.length?void Ba(e,0,0,0,1):(l[3]=Fa(l[3]),qa(l,e),Ha(t,e),e);case"hsl":return 3!==l.length?void Ba(e,0,0,0,1):(qa(l,e),Ha(t,e),e);default:return}}Ba(e,0,0,0,1)}}function qa(t,e){var n=(parseFloat(t[0])%360+360)%360/360,r=Fa(t[1]),i=Fa(t[2]),o=i<=.5?i*(r+1):i+r-i*r,a=2*i-o;return Ba(e=e||[],Oa(255*Na(a,o,n+1/3)),Oa(255*Na(a,o,n)),Oa(255*Na(a,o,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Va(t,e){var n=Ua(t);if(n){for(var r=0;r<3;r++)n[r]=e<0?n[r]*(1-e)|0:(255-n[r])*e+n[r]|0,n[r]>255?n[r]=255:t[r]<0&&(n[r]=0);return Za(n,4===n.length?"rgba":"rgb")}}function Ya(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=e[i],s=e[o],l=r-i;return n[0]=Oa(Ra(a[0],s[0],l)),n[1]=Oa(Ra(a[1],s[1],l)),n[2]=Oa(Ra(a[2],s[2],l)),n[3]=Da(Ra(a[3],s[3],l)),n}}var $a=Ya;function Xa(t,e,n){if(e&&e.length&&t>=0&&t<=1){var r=t*(e.length-1),i=Math.floor(r),o=Math.ceil(r),a=Ua(e[i]),s=Ua(e[o]),l=r-i,u=Za([Oa(Ra(a[0],s[0],l)),Oa(Ra(a[1],s[1],l)),Oa(Ra(a[2],s[2],l)),Da(Ra(a[3],s[3],l))],"rgba");return n?{color:u,leftIndex:i,rightIndex:o,value:r}:u}}var Ka=Xa;function Za(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}var Qa=Object.freeze({parse:Ua,lift:Va,toHex:function(t){var e=Ua(t);if(e)return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)},fastLerp:Ya,fastMapToColor:$a,lerp:Xa,mapToColor:Ka,modifyHSL:function(t,e,n,r){if(t=Ua(t))return t=function(t){if(t){var e,n,r=t[0]/255,i=t[1]/255,o=t[2]/255,a=Math.min(r,i,o),s=Math.max(r,i,o),l=s-a,u=(s+a)/2;if(0===l)e=0,n=0;else{n=u<.5?l/(s+a):l/(2-s-a);var h=((s-r)/6+l/2)/l,c=((s-i)/6+l/2)/l,f=((s-o)/6+l/2)/l;r===s?e=f-c:i===s?e=1/3+h-f:o===s&&(e=2/3+c-h),e<0&&(e+=1),e>1&&(e-=1)}var p=[360*e,n,u];return null!=t[3]&&p.push(t[3]),p}}(t),null!=e&&(t[0]=(i=e,(i=Math.round(i))<0?0:i>360?360:i)),null!=n&&(t[1]=Fa(n)),null!=r&&(t[2]=Fa(r)),Za(qa(t),"rgba");var i},modifyAlpha:function(t,e){if((t=Ua(t))&&null!=e)return t[3]=Da(e),Za(t,"rgba")},stringify:Za}),Ja=Array.prototype.slice;function ts(t,e){return t[e]}function es(t,e,n){t[e]=n}function ns(t,e,n){return(e-t)*n+t}function rs(t,e,n){return n>.5?e:t}function is(t,e,n,r,i){var o=t.length;if(1===i)for(var a=0;a<o;a++)r[a]=ns(t[a],e[a],n);else{var s=o&&t[0].length;for(a=0;a<o;a++)for(var l=0;l<s;l++)r[a][l]=ns(t[a][l],e[a][l],n)}}function os(t,e,n){var r=t.length,i=e.length;if(r!==i)if(r>i)t.length=i;else for(var o=r;o<i;o++)t.push(1===n?e[o]:Ja.call(e[o]));var a=t[0]&&t[0].length;for(o=0;o<t.length;o++)if(1===n)isNaN(t[o])&&(t[o]=e[o]);else for(var s=0;s<a;s++)isNaN(t[o][s])&&(t[o][s]=e[o][s])}function as(t,e,n){if(t===e)return!0;var r=t.length;if(r!==e.length)return!1;if(1===n){for(var i=0;i<r;i++)if(t[i]!==e[i])return!1}else{var o=t[0].length;for(i=0;i<r;i++)for(var a=0;a<o;a++)if(t[i][a]!==e[i][a])return!1}return!0}function ss(t,e,n,r,i,o,a,s,l){var u=t.length;if(1===l)for(var h=0;h<u;h++)s[h]=ls(t[h],e[h],n[h],r[h],i,o,a);else{var c=t[0].length;for(h=0;h<u;h++)for(var f=0;f<c;f++)s[h][f]=ls(t[h][f],e[h][f],n[h][f],r[h][f],i,o,a)}}function ls(t,e,n,r,i,o,a){var s=.5*(n-t),l=.5*(r-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*i+e}function us(t){if(ho(t)){var e=t.length;if(ho(t[0])){for(var n=[],r=0;r<e;r++)n.push(Ja.call(t[r]));return n}return Ja.call(t)}return t}function hs(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function cs(t,e,n,r,i,o){var a=t._getter,s=t._setter,l="spline"===e,u=r.length;if(u){var h,c=ho(r[0].value),f=!1,p=!1,d=c?function(t){var e=t[t.length-1].value;return ho(e&&e[0])?2:1}(r):0;r.sort(function(t,e){return t.time-e.time}),h=r[u-1].time;for(var g=[],v=[],y=r[0].value,m=!0,x=0;x<u;x++){g.push(r[x].time/h);var _=r[x].value;if(c&&as(_,y,d)||!c&&_===y||(m=!1),y=_,"string"==typeof _){var w=Ua(_);w?(_=w,f=!0):p=!0}v.push(_)}if(o||!m){var b=v[u-1];for(x=0;x<u-1;x++)c?os(v[x],b,d):!isNaN(v[x])||isNaN(b)||p||f||(v[x]=b);c&&os(a(t._target,i),b,d);var S,k,M,A,I,T=0,C=0;if(f)var E=[0,0,0,0];var z=new Aa({target:t._target,life:h,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<C){for(n=Math.min(T+1,u-1);n>=0&&!(g[n]<=e);n--);n=Math.min(n,u-2)}else{for(n=T;n<u&&!(g[n]>e);n++);n=Math.min(n-1,u-2)}T=n,C=e;var r=g[n+1]-g[n];if(0!==r)if(S=(e-g[n])/r,l)if(M=v[n],k=v[0===n?n:n-1],A=v[n>u-2?u-1:n+1],I=v[n>u-3?u-1:n+2],c)ss(k,M,A,I,S,S*S,S*S*S,a(t,i),d);else{if(f)o=ss(k,M,A,I,S,S*S,S*S*S,E,1),o=hs(E);else{if(p)return rs(M,A,S);o=ls(k,M,A,I,S,S*S,S*S*S)}s(t,i,o)}else if(c)is(v[n],v[n+1],S,a(t,i),d);else{var o;if(f)is(v[n],v[n+1],S,E,1),o=hs(E);else{if(p)return rs(v[n],v[n+1],S);o=ns(v[n],v[n+1],S)}s(t,i,o)}},ondestroy:n});return e&&"spline"!==e&&(z.easing=e),z}}}var fs=function(t,e,n,r){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||ts,this._setter=r||es,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};fs.prototype={when:function(t,e){var n=this._tracks;for(var r in e)if(e.hasOwnProperty(r)){if(!n[r]){n[r]=[];var i=this._getter(this._target,r);if(null==i)continue;0!==t&&n[r].push({time:0,value:us(i)})}n[r].push({time:t,value:e[r]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,r=this,i=0,o=function(){--i||r._doneCallback()};for(var a in this._tracks)if(this._tracks.hasOwnProperty(a)){var s=cs(this,t,o,this._tracks[a],a,e);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(t,e){l(t,e);for(var n=0;n<r._onframeList.length;n++)r._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,r=0;r<e.length;r++){var i=e[r];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var ps=1;"undefined"!=typeof window&&(ps=Math.max(window.devicePixelRatio||1,1));var ds=ps,gs=function(){};var vs=gs,ys=function(){this.animators=[]};function ms(t,e,n,r,i,o,a,s){_o(r)?(o=i,i=r,r=0):xo(i)?(o=i,i="linear",r=0):xo(r)?(o=r,r=0):xo(n)?(o=n,n=500):n||(n=500),t.stopAnimation(),function t(e,n,r,i,o,a,s){var l={};var u=0;for(var h in i)i.hasOwnProperty(h)&&(null!=r[h]?wo(i[h])&&!ho(i[h])?t(e,n?n+"."+h:h,r[h],i[h],o,a,s):(s?(l[h]=r[h],xs(e,n,h,i[h])):l[h]=i[h],u++):null==i[h]||s||xs(e,n,h,i[h]));u>0&&e.animate(n,!1).when(null==o?500:o,l).delay(a||0)}(t,"",t,e,n,r,s);var l=t.animators.slice(),u=l.length;function h(){--u||o&&o()}u||o&&o();for(var c=0;c<l.length;c++)l[c].done(h).start(i,a)}function xs(t,e,n,r){if(e){var i={};i[e]={},i[e][n]=r,t.attr(i)}else t.attr(n,r)}ys.prototype={constructor:ys,animate:function(t,e){var n,r=!1,i=this,o=this.__zr;if(t){var a=t.split("."),s=i;r="shape"===a[0];for(var l=0,u=a.length;l<u;l++)s&&(s=s[a[l]]);s&&(n=s)}else n=i;if(n){var h=i.animators,c=new fs(n,e);return c.during(function(t){i.dirty(r)}).done(function(){h.splice(so(h,c),1)}),h.push(c),o&&o.animation.addAnimator(c),c}vs('Property "'+t+'" is not existed in element '+i.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,r=0;r<n;r++)e[r].stop(t);return e.length=0,this},animateTo:function(t,e,n,r,i,o){ms(this,t,e,n,r,i,o)},animateFrom:function(t,e,n,r,i,o){ms(this,t,e,n,r,i,o,!0)}};var _s=function(t){_a.call(this,t),Yo.call(this,t),ys.call(this,t),this.id=t.id||ji()};_s.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(wo(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},uo(_s,ys),uo(_s,_a),uo(_s,Yo);var ws,bs,Ss,ks,Ms=jo,As=Math.min,Is=Math.max;function Ts(t,e,n,r){n<0&&(t+=n,n=-n),r<0&&(e+=r,r=-r),this.x=t,this.y=e,this.width=n,this.height=r}Ts.prototype={constructor:Ts,union:function(t){var e=As(t.x,this.x),n=As(t.y,this.y);this.width=Is(t.x+t.width,this.x+this.width)-e,this.height=Is(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(ws=[],bs=[],Ss=[],ks=[],function(t){if(t){ws[0]=Ss[0]=this.x,ws[1]=ks[1]=this.y,bs[0]=ks[0]=this.x+this.width,bs[1]=Ss[1]=this.y+this.height,Ms(ws,ws,t),Ms(bs,bs,t),Ms(Ss,Ss,t),Ms(ks,ks,t),this.x=As(ws[0],bs[0],Ss[0],ks[0]),this.y=As(ws[1],bs[1],Ss[1],ks[1]);var e=Is(ws[0],bs[0],Ss[0],ks[0]),n=Is(ws[1],bs[1],Ss[1],ks[1]);this.width=e-this.x,this.height=n-this.y}}),calculateTransform:function(t){var e=this,n=t.width/e.width,r=t.height/e.height,i=fa();return ga(i,i,[-e.x,-e.y]),va(i,i,[n,r]),ga(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof Ts||(t=Ts.create(t));var e=this,n=e.x,r=e.x+e.width,i=e.y,o=e.y+e.height,a=t.x,s=t.x+t.width,l=t.y,u=t.y+t.height;return!(r<a||s<n||o<l||u<i)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new Ts(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Ts.create=function(t){return new Ts(t.x,t.y,t.width,t.height)};var Cs=function(t){for(var e in t=t||{},_s.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};Cs.prototype={constructor:Cs,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,r=n.indexOf(e);r>=0&&(n.splice(r,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof Cs&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,r=this._children,i=so(r,t);return i<0?this:(r.splice(i,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof Cs&&t.delChildrenFromStorage(n)),e&&e.refresh(),this)},removeAll:function(){var t,e,n=this._children,r=this.__storage;for(e=0;e<n.length;e++)t=n[e],r&&(r.delFromStorage(t),t instanceof Cs&&t.delChildrenFromStorage(r)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,r=0;r<n.length;r++){var i=n[r];t.call(e,i,r)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var r=this._children[n];t.call(e,r),"group"===r.type&&r.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof Cs&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof Cs&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new Ts(0,0,0,0),r=t||this._children,i=[],o=0;o<r.length;o++){var a=r[o];if(!a.ignore&&!a.invisible){var s=a.getBoundingRect(),l=a.getLocalTransform(i);l?(n.copy(s),n.applyTransform(l),(e=e||n.clone()).union(n)):(e=e||s.clone()).union(s)}}return e||n}},lo(Cs,_s);var Es=32,zs=7;function Ls(t,e,n,r){var i=e+1;if(i===n)return 1;if(r(t[i++],t[e])<0){for(;i<n&&r(t[i],t[i-1])<0;)i++;!function(t,e,n){n--;for(;e<n;){var r=t[e];t[e++]=t[n],t[n--]=r}}(t,e,i)}else for(;i<n&&r(t[i],t[i-1])>=0;)i++;return i-e}function Os(t,e,n,r,i){for(r===e&&r++;r<n;r++){for(var o,a=t[r],s=e,l=r;s<l;)i(a,t[o=s+l>>>1])<0?l=o:s=o+1;var u=r-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=a}}function Ds(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])>0){for(s=r-i;l<s&&o(t,e[n+i+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}else{for(s=i+1;l<s&&o(t,e[n+i-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])>0?a=h+1:l=h}return l}function Ps(t,e,n,r,i,o){var a=0,s=0,l=1;if(o(t,e[n+i])<0){for(s=i+1;l<s&&o(t,e[n+i-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var u=a;a=i-l,l=i-u}else{for(s=r-i;l<s&&o(t,e[n+i+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=i,l+=i}for(a++;a<l;){var h=a+(l-a>>>1);o(t,e[n+h])<0?l=h:a=h+1}return l}function Fs(t,e){var n,r,i=zs,o=0;t.length;var a=[];function s(s){var l=n[s],u=r[s],h=n[s+1],c=r[s+1];r[s]=u+c,s===o-3&&(n[s+1]=n[s+2],r[s+1]=r[s+2]),o--;var f=Ps(t[h],t,l,u,0,e);l+=f,0!==(u-=f)&&0!==(c=Ds(t[l+u-1],t,h,c,c-1,e))&&(u<=c?function(n,r,o,s){var l=0;for(l=0;l<r;l++)a[l]=t[n+l];var u=0,h=o,c=n;if(t[c++]=t[h++],0==--s){for(l=0;l<r;l++)t[c+l]=a[u+l];return}if(1===r){for(l=0;l<s;l++)t[c+l]=t[h+l];return void(t[c+s]=a[u])}var f,p,d,g=i;for(;;){f=0,p=0,d=!1;do{if(e(t[h],a[u])<0){if(t[c++]=t[h++],p++,f=0,0==--s){d=!0;break}}else if(t[c++]=a[u++],f++,p=0,1==--r){d=!0;break}}while((f|p)<g);if(d)break;do{if(0!==(f=Ps(t[h],a,u,r,0,e))){for(l=0;l<f;l++)t[c+l]=a[u+l];if(c+=f,u+=f,(r-=f)<=1){d=!0;break}}if(t[c++]=t[h++],0==--s){d=!0;break}if(0!==(p=Ds(a[u],t,h,s,0,e))){for(l=0;l<p;l++)t[c+l]=t[h+l];if(c+=p,h+=p,0===(s-=p)){d=!0;break}}if(t[c++]=a[u++],1==--r){d=!0;break}g--}while(f>=zs||p>=zs);if(d)break;g<0&&(g=0),g+=2}if((i=g)<1&&(i=1),1===r){for(l=0;l<s;l++)t[c+l]=t[h+l];t[c+s]=a[u]}else{if(0===r)throw new Error;for(l=0;l<r;l++)t[c+l]=a[u+l]}}(l,u,h,c):function(n,r,o,s){var l=0;for(l=0;l<s;l++)a[l]=t[o+l];var u=n+r-1,h=s-1,c=o+s-1,f=0,p=0;if(t[c--]=t[u--],0==--r){for(f=c-(s-1),l=0;l<s;l++)t[f+l]=a[l];return}if(1===s){for(p=(c-=r)+1,f=(u-=r)+1,l=r-1;l>=0;l--)t[p+l]=t[f+l];return void(t[c]=a[h])}var d=i;for(;;){var g=0,v=0,y=!1;do{if(e(a[h],t[u])<0){if(t[c--]=t[u--],g++,v=0,0==--r){y=!0;break}}else if(t[c--]=a[h--],v++,g=0,1==--s){y=!0;break}}while((g|v)<d);if(y)break;do{if(0!==(g=r-Ps(a[h],t,n,r,r-1,e))){for(r-=g,p=(c-=g)+1,f=(u-=g)+1,l=g-1;l>=0;l--)t[p+l]=t[f+l];if(0===r){y=!0;break}}if(t[c--]=a[h--],1==--s){y=!0;break}if(0!==(v=s-Ds(t[u],a,0,s,s-1,e))){for(s-=v,p=(c-=v)+1,f=(h-=v)+1,l=0;l<v;l++)t[p+l]=a[f+l];if(s<=1){y=!0;break}}if(t[c--]=t[u--],0==--r){y=!0;break}d--}while(g>=zs||v>=zs);if(y)break;d<0&&(d=0),d+=2}(i=d)<1&&(i=1);if(1===s){for(p=(c-=r)+1,f=(u-=r)+1,l=r-1;l>=0;l--)t[p+l]=t[f+l];t[c]=a[h]}else{if(0===s)throw new Error;for(f=c-(s-1),l=0;l<s;l++)t[f+l]=a[l]}}(l,u,h,c))}n=[],r=[],this.mergeRuns=function(){for(;o>1;){var t=o-2;if(t>=1&&r[t-1]<=r[t]+r[t+1]||t>=2&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;s(t)}},this.forceMergeRuns=function(){for(;o>1;){var t=o-2;t>0&&r[t-1]<r[t+1]&&t--,s(t)}},this.pushRun=function(t,e){n[o]=t,r[o]=e,o+=1}}function Ns(t,e,n,r){n||(n=0),r||(r=t.length);var i=r-n;if(!(i<2)){var o=0;if(i<Es)Os(t,n,r,n+(o=Ls(t,n,r,e)),e);else{var a=new Fs(t,e),s=function(t){for(var e=0;t>=Es;)e|=1&t,t>>=1;return t+e}(i);do{if((o=Ls(t,n,r,e))<s){var l=i;l>s&&(l=s),Os(t,n,n+l,n+o,e),o=l}a.pushRun(n,o),a.mergeRuns(),i-=o,n+=o}while(0!==i);a.forceMergeRuns()}}}function Rs(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var Bs=function(){this._roots=[],this._displayList=[],this._displayListLen=0};Bs.prototype={constructor:Bs,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,r=0,i=e.length;r<i;r++)this._updateAndAddDisplayable(e[r],null,t);n.length=this._displayListLen,Gi.canvasSupported&&Ns(n,Rs)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];for(var i=r,o=t;i;)i.parent=o,i.updateTransform(),e.push(i),o=i,i=i.clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof Cs&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof Cs&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var r=t.length;e<r;e++)this.delRoot(t[e])}else{var i=so(this._roots,t);i>=0&&(this.delFromStorage(t),this._roots.splice(i,1),t instanceof Cs&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Rs};var Ws={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1};function js(t,e,n){return Ws.hasOwnProperty(e)?n*t.dpr:n}var Gs={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Hs=9,Us=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],qs=function(t){this.extendFrom(t,!1)};function Vs(t,e,n){var r=null==e.x?0:e.x,i=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(r=r*n.width+n.x,i=i*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),r=isNaN(r)?0:r,i=isNaN(i)?1:i,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(r,o,i,a)}function Ys(t,e,n){var r=n.width,i=n.height,o=Math.min(r,i),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*r+n.x,s=s*i+n.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}qs.prototype={constructor:qs,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){var r=n&&n.style,i=!r||t.__attrCachedBy!==Gs.STYLE_BIND;t.__attrCachedBy=Gs.STYLE_BIND;for(var o=0;o<Us.length;o++){var a=Us[o],s=a[0];(i||this[s]!==r[s])&&(t[s]=js(t,s,this[s]||a[1]))}if((i||this.fill!==r.fill)&&(t.fillStyle=this.fill),(i||this.stroke!==r.stroke)&&(t.strokeStyle=this.stroke),(i||this.opacity!==r.opacity)&&(t.globalAlpha=null==this.opacity?1:this.opacity),(i||this.blend!==r.blend)&&(t.globalCompositeOperation=this.blend||"source-over"),this.hasStroke()){var l=this.lineWidth;t.lineWidth=l/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var r=("radial"===e.type?Ys:Vs)(t,e,n),i=e.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}};for(var $s=qs.prototype,Xs=0;Xs<Us.length;Xs++){var Ks=Us[Xs];Ks[0]in $s||($s[Ks[0]]=Ks[1])}qs.getGradient=$s.getGradient;var Zs=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};function Qs(){return!1}function Js(t,e,n){var r=oo(),i=e.getWidth(),o=e.getHeight(),a=r.style;return a&&(a.position="absolute",a.left=0,a.top=0,a.width=i+"px",a.height=o+"px",r.setAttribute("data-zr-dom-id",t)),r.width=i*n,r.height=o*n,r}Zs.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var tl=function(t,e,n){var r;n=n||ds,"string"==typeof t?r=Js(t,e,n):wo(t)&&(t=(r=t).id),this.id=t,this.dom=r;var i=r.style;i&&(r.onselectstart=Qs,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};tl.prototype={constructor:tl,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Js("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,r=this.dom,i=r.style,o=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),r.width=t*n,r.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,r=this.dom,i=this.ctx,o=r.width,a=r.height,s=(e=e||this.clearColor,this.motionBlur&&!t),l=this.lastFrameAlpha,u=this.dpr;(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(r,0,0,o/u,a/u)),i.clearRect(0,0,o,a),e&&"transparent"!==e)&&(e.colorStops?(n=e.__canvasGradient||qs.getGradient(i,e,{x:0,y:0,width:o,height:a}),e.__canvasGradient=n):e.image&&(n=Zs.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=n||e,i.fillRect(0,0,o,a),i.restore());if(s){var h=this.domBack;i.save(),i.globalAlpha=l,i.drawImage(h,0,0,o,a),i.restore()}}};var el="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},nl=new Ea(50);function rl(t){if("string"==typeof t){var e=nl.get(t);return e&&e.image}return t}function il(t,e,n,r,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var o=nl.get(t),a={hostEl:n,cb:r,cbPayload:i};return o?!al(e=o.image)&&o.pending.push(a):((e=new Image).onload=e.onerror=ol,nl.put(t,e.__cachedImgObj={image:e,pending:[a]}),e.src=e.__zrImageSrc=t),e}return t}return e}function ol(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],r=n.cb;r&&r(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function al(t){return t&&t.width&&t.height}var sl={},ll=0,ul=5e3,hl=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,cl="12px sans-serif",fl={};function pl(t,e){var n=t+":"+(e=e||cl);if(sl[n])return sl[n];for(var r=(t+"").split("\n"),i=0,o=0,a=r.length;o<a;o++)i=Math.max(bl(r[o],e).width,i);return ll>ul&&(ll=0,sl={}),ll++,sl[n]=i,i}function dl(t,e,n,r,i,o,a,s){return a?function(t,e,n,r,i,o,a,s){var l=kl(t,{rich:a,truncate:s,font:e,textAlign:n,textPadding:i,textLineHeight:o}),u=l.outerWidth,h=l.outerHeight,c=gl(0,u,n),f=vl(0,h,r);return new Ts(c,f,u,h)}(t,e,n,r,i,o,a,s):function(t,e,n,r,i,o,a){var s=Sl(t,e,i,o,a),l=pl(t,e);i&&(l+=i[1]+i[3]);var u=s.outerHeight,h=gl(0,l,n),c=vl(0,u,r),f=new Ts(h,c,l,u);return f.lineHeight=s.lineHeight,f}(t,e,n,r,i,o,s)}function gl(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function vl(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function yl(t,e,n,r,i){if(!e)return"";var o=(t+"").split("\n");i=ml(e,n,r,i);for(var a=0,s=o.length;a<s;a++)o[a]=xl(o[a],i);return o.join("\n")}function ml(t,e,n,r){(r=no({},r)).font=e;n=ko(n,"...");r.maxIterations=ko(r.maxIterations,2);var i=r.minChar=ko(r.minChar,0);r.cnCharWidth=pl("",e);var o=r.ascCharWidth=pl("a",e);r.placeholder=ko(r.placeholder,"");for(var a=t=Math.max(0,t-1),s=0;s<i&&a>=o;s++)a-=o;var l=pl(n,e);return l>a&&(n="",l=0),a=t-l,r.ellipsis=n,r.ellipsisWidth=l,r.contentWidth=a,r.containerWidth=t,r}function xl(t,e){var n=e.containerWidth,r=e.font,i=e.contentWidth;if(!n)return"";var o=pl(t,r);if(o<=n)return t;for(var a=0;;a++){if(o<=i||a>=e.maxIterations){t+=e.ellipsis;break}var s=0===a?_l(t,i,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*i/o):0;o=pl(t=t.substr(0,s),r)}return""===t&&(t=e.placeholder),t}function _l(t,e,n,r){for(var i=0,o=0,a=t.length;o<a&&i<e;o++){var s=t.charCodeAt(o);i+=0<=s&&s<=127?n:r}return o}function wl(t){return pl("",t)}function bl(t,e){return fl.measureText(t,e)}function Sl(t,e,n,r,i){null!=t&&(t+="");var o=ko(r,wl(e)),a=t?t.split("\n"):[],s=a.length*o,l=s;if(n&&(l+=n[0]+n[2]),t&&i){var u=i.outerHeight,h=i.outerWidth;if(null!=u&&l>u)t="",a=[];else if(null!=h)for(var c=ml(h-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),f=0,p=a.length;f<p;f++)a[f]=xl(a[f],c)}return{lines:a,height:s,outerHeight:l,lineHeight:o}}function kl(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var r,i=hl.lastIndex=0;null!=(r=hl.exec(t));){var o=r.index;o>i&&Ml(n,t.substring(i,o)),Ml(n,r[2],r[1]),i=hl.lastIndex}i<t.length&&Ml(n,t.substring(i,t.length));var a=n.lines,s=0,l=0,u=[],h=e.textPadding,c=e.truncate,f=c&&c.outerWidth,p=c&&c.outerHeight;h&&(null!=f&&(f-=h[1]+h[3]),null!=p&&(p-=h[0]+h[2]));for(var d=0;d<a.length;d++){for(var g=a[d],v=0,y=0,m=0;m<g.tokens.length;m++){var x=(C=g.tokens[m]).styleName&&e.rich[C.styleName]||{},_=C.textPadding=x.textPadding,w=C.font=x.font||e.font,b=C.textHeight=ko(x.textHeight,wl(w));if(_&&(b+=_[0]+_[2]),C.height=b,C.lineHeight=Mo(x.textLineHeight,e.textLineHeight,b),C.textAlign=x&&x.textAlign||e.textAlign,C.textVerticalAlign=x&&x.textVerticalAlign||"middle",null!=p&&s+C.lineHeight>p)return{lines:[],width:0,height:0};C.textWidth=pl(C.text,w);var S=x.textWidth,k=null==S||"auto"===S;if("string"==typeof S&&"%"===S.charAt(S.length-1))C.percentWidth=S,u.push(C),S=0;else{if(k){S=C.textWidth;var M=x.textBackgroundColor,A=M&&M.image;A&&al(A=rl(A))&&(S=Math.max(S,A.width*b/A.height))}var I=_?_[1]+_[3]:0;S+=I;var T=null!=f?f-y:null;null!=T&&T<S&&(!k||T<I?(C.text="",C.textWidth=S=0):(C.text=yl(C.text,T-I,w,c.ellipsis,{minChar:c.minChar}),C.textWidth=pl(C.text,w),S=C.textWidth+I))}y+=C.width=S,x&&(v=Math.max(v,C.lineHeight))}g.width=y,g.lineHeight=v,s+=v,l=Math.max(l,y)}n.outerWidth=n.width=ko(e.textWidth,l),n.outerHeight=n.height=ko(e.textHeight,s),h&&(n.outerWidth+=h[1]+h[3],n.outerHeight+=h[0]+h[2]);for(d=0;d<u.length;d++){var C,E=(C=u[d]).percentWidth;C.width=parseInt(E,10)/100*l}return n}function Ml(t,e,n){for(var r=""===e,i=e.split("\n"),o=t.lines,a=0;a<i.length;a++){var s=i[a],l={styleName:n,text:s,isLineHolder:!s&&!r};if(a)o.push({tokens:[l]});else{var u=(o[o.length-1]||(o[0]={tokens:[]})).tokens,h=u.length;1===h&&u[0].isLineHolder?u[0]=l:(s||!h||r)&&u.push(l)}}}function Al(t,e){var n,r,i,o,a,s=e.x,l=e.y,u=e.width,h=e.height,c=e.r;u<0&&(s+=u,u=-u),h<0&&(l+=h,h=-h),"number"==typeof c?n=r=i=o=c:c instanceof Array?1===c.length?n=r=i=o=c[0]:2===c.length?(n=i=c[0],r=o=c[1]):3===c.length?(n=c[0],r=o=c[1],i=c[2]):(n=c[0],r=c[1],i=c[2],o=c[3]):n=r=i=o=0,n+r>u&&(n*=u/(a=n+r),r*=u/a),i+o>u&&(i*=u/(a=i+o),o*=u/a),r+i>h&&(r*=h/(a=r+i),i*=h/a),n+o>h&&(n*=h/(a=n+o),o*=h/a),t.moveTo(s+n,l),t.lineTo(s+u-r,l),0!==r&&t.arc(s+u-r,l+r,r,-Math.PI/2,0),t.lineTo(s+u,l+h-i),0!==i&&t.arc(s+u-i,l+h-i,i,0,Math.PI/2),t.lineTo(s+o,l+h),0!==o&&t.arc(s+o,l+h-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}fl.measureText=function(t,e){var n=ao();return n.font=e||cl,n.measureText(t)};var Il=cl,Tl={left:1,right:1,center:1},Cl={top:1,bottom:1,middle:1},El=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]];function zl(t){return Ll(t),co(t.rich,Ll),t}function Ll(t){if(t){t.font=function(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&Io(e)||t.textFont||t.font}(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||Tl[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||Cl[n]?n:"top",t.textPadding&&(t.textPadding=Ao(t.textPadding))}}function Ol(t,e,n,r,i,o){r.rich?function(t,e,n,r,i,o){o!==Hs&&(e.__attrCachedBy=Gs.NONE);var a=t.__textCotentBlock;a&&!t.__dirtyText||(a=t.__textCotentBlock=kl(n,r));!function(t,e,n,r,i){var o=n.width,a=n.outerWidth,s=n.outerHeight,l=r.textPadding,u=Bl(s,r,i),h=u.baseX,c=u.baseY,f=u.textAlign,p=u.textVerticalAlign;Dl(e,r,i,h,c);var d=gl(h,a,f),g=vl(c,s,p),v=d,y=g;l&&(v+=l[3],y+=l[0]);var m=v+o;Fl(r)&&Nl(t,e,r,d,g,a,s);for(var x=0;x<n.lines.length;x++){for(var _,w=n.lines[x],b=w.tokens,S=b.length,k=w.lineHeight,M=w.width,A=0,I=v,T=m,C=S-1;A<S&&(!(_=b[A]).textAlign||"left"===_.textAlign);)Pl(t,e,_,r,k,y,I,"left"),M-=_.width,I+=_.width,A++;for(;C>=0&&"right"===(_=b[C]).textAlign;)Pl(t,e,_,r,k,y,T,"right"),M-=_.width,T-=_.width,C--;for(I+=(o-(I-v)-(m-T)-M)/2;A<=C;)_=b[A],Pl(t,e,_,r,k,y,I+_.width/2,"center"),I+=_.width,A++;y+=k}}(t,e,a,r,i)}(t,e,n,r,i,o):function(t,e,n,r,i,o){var a,s=Fl(r),l=!1,u=e.__attrCachedBy===Gs.PLAIN_TEXT;o!==Hs?(o&&(a=o.style,l=!s&&u&&a),e.__attrCachedBy=s?Gs.NONE:Gs.PLAIN_TEXT):u&&(e.__attrCachedBy=Gs.NONE);var h=r.font||Il;l&&h===(a.font||Il)||(e.font=h);var c=t.__computedFont;t.__styleFont!==h&&(t.__styleFont=h,c=t.__computedFont=e.font);var f=r.textPadding,p=r.textLineHeight,d=t.__textCotentBlock;d&&!t.__dirtyText||(d=t.__textCotentBlock=Sl(n,c,f,p,r.truncate));var g=d.outerHeight,v=d.lines,y=d.lineHeight,m=Bl(g,r,i),x=m.baseX,_=m.baseY,w=m.textAlign||"left",b=m.textVerticalAlign;Dl(e,r,i,x,_);var S=vl(_,g,b),k=x,M=S;if(s||f){var A=pl(n,c),I=A;f&&(I+=f[1]+f[3]);var T=gl(x,I,w);s&&Nl(t,e,r,T,S,I,g),f&&(k=Ul(x,w,f),M+=f[0])}e.textAlign=w,e.textBaseline="middle",e.globalAlpha=r.opacity||1;for(var C=0;C<El.length;C++){var E=El[C],z=E[0],L=E[1],O=r[z];l&&O===a[z]||(e[L]=js(e,L,O||E[2]))}M+=y/2;var D=r.textStrokeWidth,P=l?a.textStrokeWidth:null,F=!l||D!==P,N=!l||F||r.textStroke!==a.textStroke,R=jl(r.textStroke,D),B=Gl(r.textFill);R&&(F&&(e.lineWidth=D),N&&(e.strokeStyle=R));B&&(l&&r.textFill===a.textFill||(e.fillStyle=B));if(1===v.length)R&&e.strokeText(v[0],k,M),B&&e.fillText(v[0],k,M);else for(var C=0;C<v.length;C++)R&&e.strokeText(v[C],k,M),B&&e.fillText(v[C],k,M),M+=y}(t,e,n,r,i,o)}function Dl(t,e,n,r,i){if(n&&e.textRotation){var o=e.textOrigin;"center"===o?(r=n.width/2+n.x,i=n.height/2+n.y):o&&(r=o[0]+n.x,i=o[1]+n.y),t.translate(r,i),t.rotate(-e.textRotation),t.translate(-r,-i)}}function Pl(t,e,n,r,i,o,a,s){var l=r.rich[n.styleName]||{};l.text=n.text;var u=n.textVerticalAlign,h=o+i/2;"top"===u?h=o+n.height/2:"bottom"===u&&(h=o+i-n.height/2),!n.isLineHolder&&Fl(l)&&Nl(t,e,l,"right"===s?a-n.width:"center"===s?a-n.width/2:a,h-n.height/2,n.width,n.height);var c=n.textPadding;c&&(a=Ul(a,s,c),h-=n.height/2-c[2]-n.textHeight/2),Wl(e,"shadowBlur",Mo(l.textShadowBlur,r.textShadowBlur,0)),Wl(e,"shadowColor",l.textShadowColor||r.textShadowColor||"transparent"),Wl(e,"shadowOffsetX",Mo(l.textShadowOffsetX,r.textShadowOffsetX,0)),Wl(e,"shadowOffsetY",Mo(l.textShadowOffsetY,r.textShadowOffsetY,0)),Wl(e,"textAlign",s),Wl(e,"textBaseline","middle"),Wl(e,"font",n.font||Il);var f=jl(l.textStroke||r.textStroke,d),p=Gl(l.textFill||r.textFill),d=ko(l.textStrokeWidth,r.textStrokeWidth);f&&(Wl(e,"lineWidth",d),Wl(e,"strokeStyle",f),e.strokeText(n.text,a,h)),p&&(Wl(e,"fillStyle",p),e.fillText(n.text,a,h))}function Fl(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function Nl(t,e,n,r,i,o,a){var s=n.textBackgroundColor,l=n.textBorderWidth,u=n.textBorderColor,h=_o(s);if(Wl(e,"shadowBlur",n.textBoxShadowBlur||0),Wl(e,"shadowColor",n.textBoxShadowColor||"transparent"),Wl(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),Wl(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),h||l&&u){e.beginPath();var c=n.textBorderRadius;c?Al(e,{x:r,y:i,width:o,height:a,r:c}):e.rect(r,i,o,a),e.closePath()}if(h)if(Wl(e,"fillStyle",s),null!=n.fillOpacity){var f=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=f}else e.fill();else if(wo(s)){var p=s.image;(p=il(p,null,t,Rl,s))&&al(p)&&e.drawImage(p,r,i,o,a)}if(l&&u)if(Wl(e,"lineWidth",l),Wl(e,"strokeStyle",u),null!=n.strokeOpacity){f=e.globalAlpha;e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=f}else e.stroke()}function Rl(t,e){e.image=t}function Bl(t,e,n){var r=e.x||0,i=e.y||0,o=e.textAlign,a=e.textVerticalAlign;if(n){var s=e.textPosition;if(s instanceof Array)r=n.x+Hl(s[0],n.width),i=n.y+Hl(s[1],n.height);else{var l=function(t,e,n){var r=e.x,i=e.y,o=e.height,a=e.width,s=o/2,l="left",u="top";switch(t){case"left":r-=n,i+=s,l="right",u="middle";break;case"right":r+=n+a,i+=s,u="middle";break;case"top":r+=a/2,i-=n,l="center",u="bottom";break;case"bottom":r+=a/2,i+=o+n,l="center";break;case"inside":r+=a/2,i+=s,l="center",u="middle";break;case"insideLeft":r+=n,i+=s,u="middle";break;case"insideRight":r+=a-n,i+=s,l="right",u="middle";break;case"insideTop":r+=a/2,i+=n,l="center";break;case"insideBottom":r+=a/2,i+=o-n,l="center",u="bottom";break;case"insideTopLeft":r+=n,i+=n;break;case"insideTopRight":r+=a-n,i+=n,l="right";break;case"insideBottomLeft":r+=n,i+=o-n,u="bottom";break;case"insideBottomRight":r+=a-n,i+=o-n,l="right",u="bottom"}return{x:r,y:i,textAlign:l,textVerticalAlign:u}}(s,n,e.textDistance);r=l.x,i=l.y,o=o||l.textAlign,a=a||l.textVerticalAlign}var u=e.textOffset;u&&(r+=u[0],i+=u[1])}return{baseX:r,baseY:i,textAlign:o,textVerticalAlign:a}}function Wl(t,e,n){return t[e]=js(t,e,n),t[e]}function jl(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Gl(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Hl(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Ul(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function ql(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}var Vl=new Ts,Yl=function(){};function $l(t){for(var e in t=t||{},_s.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new qs(t.style,this),this._rect=null,this.__clipPaths=[]}function Xl(t){$l.call(this,t)}Yl.prototype={constructor:Yl,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&zl(n);var r=n.text;if(null!=r&&(r+=""),ql(r,n)){t.save();var i=this.transform;n.transformText?this.setTransform(t):i&&(Vl.copy(e),Vl.applyTransform(i),e=Vl),Ol(this,t,r,n,e,Hs),t.restore()}}},$l.prototype={constructor:$l,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?_s.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new qs(t,this),this.dirty(!1),this}},lo($l,_s),uo($l,Yl),Xl.prototype={constructor:Xl,type:"image",brush:function(t,e){var n=this.style,r=n.image;n.bind(t,this,e);var i=this._image=il(r,this._image,this,this.onload);if(i&&al(i)){var o=n.x||0,a=n.y||0,s=n.width,l=n.height,u=i.width/i.height;if(null==s&&null!=l?s=l*u:null==l&&null!=s?l=s/u:null==s&&null==l&&(s=i.width,l=i.height),this.setTransform(t),n.sWidth&&n.sHeight){var h=n.sx||0,c=n.sy||0;t.drawImage(i,h,c,n.sWidth,n.sHeight,o,a,s,l)}else if(n.sx&&n.sy){var f=s-(h=n.sx),p=l-(c=n.sy);t.drawImage(i,h,c,f,p,o,a,s,l)}else t.drawImage(i,o,a,s,l);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new Ts(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},lo(Xl,$l);function Kl(t){return parseInt(t,10)}var Zl=new Ts(0,0,0,0),Ql=new Ts(0,0,0,0);var Jl=function(t,e,n){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=no({},n||{}),this.dpr=n.devicePixelRatio||ds,this._singleCanvas=r,this.root=t;var i=t.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o=this._zlevelList=[],a=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var s=t.width,l=t.height;null!=n.width&&(s=n.width),null!=n.height&&(l=n.height),this.dpr=n.devicePixelRatio||1,t.width=s*this.dpr,t.height=l*this.dpr,this._width=s,this._height=l;var u=new tl(t,this,this.dpr);u.__builtin__=!0,u.initContext(),a[314159]=u,u.zlevel=314159,o.push(314159),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var h=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","overflow:hidden","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(h)}this._hoverlayer=null,this._hoverElements=[]};Jl.prototype={constructor:Jl,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var r=0;r<n.length;r++){var i=n[r],o=this._layers[i];if(!o.__builtin__&&o.refresh){var a=0===r?this._backgroundColor:null;o.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return n.__from=t,t.__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,r=so(n,e);r>=0&&n.splice(r,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var r=e[n].__from;r&&(r.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){Ns(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(1e5));var r={};n.ctx.save();for(var i=0;i<e;){var o=t[i],a=o.__from;a&&a.__zr?(i++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,r))):(t.splice(i,1),a.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var i=this;el(function(){i._paintList(t,e,n)})}}},_compositeManually:function(){var t=this.getLayer(314159).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer(function(r){r.virtual&&t.drawImage(r.dom,0,0,e,n)})},_doPaintList:function(t,e){for(var n=[],r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];(s=this._layers[i]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&n.push(s)}for(var o=!0,a=0;a<n.length;a++){var s,l=(s=n[a]).ctx,u={};l.save();var h=e?s.__startIndex:s.__drawIndex,c=!e&&s.incremental&&Date.now,f=c&&Date.now(),p=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,p);else if(h===s.__startIndex){var d=t[h];d.incremental&&d.notClear&&!e||s.clear(!1,p)}-1===h&&(h=s.__startIndex);for(var g=h;g<s.__endIndex;g++){var v=t[g];if(this._doPaintEl(v,s,e,u),v.__dirty=v.__dirtyText=!1,c)if(Date.now()-f>15)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(o=!1),u.prevElClipPaths&&l.restore(),l.restore()}return Gi.wxa&&co(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),o},_doPaintEl:function(t,e,n,r){var i=e.ctx,o=t.transform;if((e.__dirty||n)&&!t.invisible&&0!==t.style.opacity&&(!o||o[0]||o[3])&&(!t.culling||!function(t,e,n){return Zl.copy(t.getBoundingRect()),t.transform&&Zl.applyTransform(t.transform),Ql.width=e,Ql.height=n,!Zl.intersect(Ql)}(t,this._width,this._height))){var a=t.__clipPaths;r.prevElClipPaths&&!function(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0}(a,r.prevElClipPaths)||(r.prevElClipPaths&&(e.ctx.restore(),r.prevElClipPaths=null,r.prevEl=null),a&&(i.save(),function(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.setTransform(e),e.beginPath(),r.buildPath(e,r.shape),e.clip(),r.restoreTransform(e)}}(a,i),r.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,r.prevEl||null),r.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var n=this._layers[t];return n||((n=new tl("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]&&eo(n,this._layerConfig[t],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,r=this._zlevelList,i=r.length,o=null,a=-1,s=this._domRoot;if(n[t])vs("ZLevel "+t+" has been used already");else if(function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(i>0&&t>r[0]){for(a=0;a<i-1&&!(r[a]<t&&r[a+1]>t);a++);o=n[r[a]]}if(r.splice(a+1,0,t),n[t]=e,!e.virtual)if(o){var l=o.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else vs("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,r,i=this._zlevelList;for(r=0;r<i.length;r++)n=i[r],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__&&t.call(e,n,r)},eachOtherLayer:function(t,e){var n,r,i,o=this._zlevelList;for(i=0;i<o.length;i++)r=o[i],(n=this._layers[r]).__builtin__||t.call(e,n,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){r&&(r.__endIndex!==t&&(r.__dirty=!0),r.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var n=1;n<t.length;n++){if((o=t[n]).zlevel!==t[n-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}}var r=null,i=0;for(n=0;n<t.length;n++){var o,a,s=(o=t[n]).zlevel;o.incremental?((a=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,i=1):a=this.getLayer(s+(i>0?.01:0),this._needsManuallyCompositing),a.__builtin__||vs("ZLevel "+s+" has been used by unkown layer "+a.id),a!==r&&(a.__used=!0,a.__startIndex!==n&&(a.__dirty=!0),a.__startIndex=n,a.incremental?a.__drawIndex=-1:a.__drawIndex=n,e(n),r=a),o.__dirty&&(a.__dirty=!0,a.incremental&&a.__drawIndex<0&&(a.__drawIndex=n))}e(n),this.eachBuiltinLayer(function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?eo(n[t],e,!0):n[t]=e;for(var r=0;r<this._zlevelList.length;r++){var i=this._zlevelList[r];if(i===t||i===t+.01)eo(this._layers[i],n[t],!0)}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],n.splice(so(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var i in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);co(this._progressiveLayers,function(n){n.resize(t,e)}),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(314159).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new tl("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,r=e.dom.height,i=e.ctx;this.eachLayer(function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var l=a[s];this._doPaintEl(l,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],r=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var a=this.root,s=document.defaultView.getComputedStyle(a);return(a[r]||Kl(s[n])||Kl(a.style[n]))-(Kl(s[i])||0)-(Kl(s[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),r=n.getContext("2d"),i=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,l=o.shadowOffsetY*e,u=o.hasStroke()?o.lineWidth:0,h=Math.max(u/2,-s+a),c=Math.max(u/2,s+a),f=Math.max(u/2,-l+a),p=Math.max(u/2,l+a),d=i.width+h+c,g=i.height+f+p;n.width=d*e,n.height=g*e,r.scale(e,e),r.clearRect(0,0,d,g),r.dpr=e;var v={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[h-i.x,f-i.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(r);var y=new Xl({style:{x:0,y:0,image:n}});return null!=v.position&&(y.position=t.position=v.position),null!=v.rotation&&(y.rotation=t.rotation=v.rotation),null!=v.scale&&(y.scale=t.scale=v.scale),y}};var tu=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,Yo.call(this)};tu.prototype={constructor:tu,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=so(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,r=n.length,i=[],o=[],a=0;a<r;a++){var s=n[a],l=s.step(t,e);l&&(i.push(l),o.push(s))}for(a=0;a<r;)n[a]._needsRemove?(n[a]=n[r-1],n.pop(),r--):a++;r=i.length;for(a=0;a<r;a++)o[a].fire(i[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var t=this;this._running=!0,el(function e(){t._running&&(el(e),!t._paused&&t._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var n=new fs(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},uo(tu,Yo);var eu=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],nu=["touchstart","touchend","touchmove"],ru={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},iu=fo(eu,function(t){var e=t.replace("mouse","pointer");return ru[e]?e:t});function ou(t){return"mousewheel"===t&&Gi.browser.firefox?"DOMMouseScroll":t}function au(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}var su={mousemove:function(t){t=Jo(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=Jo(this.dom,t)).toElement||t.relatedTarget;if(e!==this.dom)for(;e&&9!==e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=Jo(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,this.handler.processGesture(this,t,"start"),su.mousemove.call(this,t),su.mousedown.call(this,t),au(this)},touchmove:function(t){(t=Jo(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"change"),su.mousemove.call(this,t),au(this)},touchend:function(t){(t=Jo(this.dom,t)).zrByTouch=!0,this.handler.processGesture(this,t,"end"),su.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&su.click.call(this,t),au(this)},pointerdown:function(t){su.mousedown.call(this,t)},pointermove:function(t){lu(t)||su.mousemove.call(this,t)},pointerup:function(t){su.mouseup.call(this,t)},pointerout:function(t){lu(t)||su.mouseout.call(this,t)}};function lu(t){var e=t.pointerType;return"pen"===e||"touch"===e}function uu(t){var e;function n(e,n){co(e,function(e){!function(t,e,n){Xo?t.addEventListener(e,n):t.attachEvent("on"+e,n)}(t,ou(e),n._handlers[e])},n)}Yo.call(this),this.dom=t,this._touching=!1,this._touchTimer,this._handlers={},e=this,co(nu,function(t){e._handlers[t]=vo(su[t],e)}),co(iu,function(t){e._handlers[t]=vo(su[t],e)}),co(eu,function(t){e._handlers[t]=function(t,e){return function(){if(!e._touching)return t.apply(e,arguments)}}(su[t],e)}),Gi.pointerEventsSupported?n(iu,this):(Gi.touchEventsSupported&&n(nu,this),n(eu,this))}co(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){su[t]=function(e){e=Jo(this.dom,e),this.trigger(t,e)}});var hu=uu.prototype;hu.dispose=function(){for(var t=eu.concat(nu),e=0;e<t.length;e++){var n=t[e];ta(this.dom,ou(n),this._handlers[n])}},hu.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},uo(uu,Yo);var cu=!Gi.canvasSupported,fu={canvas:Jl},pu={};function du(t,e){var n=new gu(ji(),t,e);return pu[n.id]=n,n}var gu=function(t,e,n){n=n||{},this.dom=e,this.id=t;var r=this,i=new Bs,o=n.renderer;if(cu){if(!fu.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&fu[o]||(o="canvas");var a=new fu[o](e,i,n,t);this.storage=i,this.painter=a;var s=Gi.node||Gi.worker?null:new uu(a.getViewportRoot());this.handler=new ua(i,a,s,a.root),this.animation=new tu({stage:{update:vo(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=i.delFromStorage,u=i.addToStorage;i.delFromStorage=function(t){l.call(i,t),t&&t.removeSelfFromZr(r)},i.addToStorage=function(t){u.call(i,t),t.addSelfToZr(r)}};gu.prototype={constructor:gu,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var n=this.painter.addHover(t,e);return this.refreshHover(),n}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete pu[t]}};var vu=Object.freeze({version:"4.0.7",init:du,dispose:function(t){if(t)t.dispose();else{for(var e in pu)pu.hasOwnProperty(e)&&pu[e].dispose();pu={}}return this},getInstance:function(t){return pu[t]},registerPainter:function(t,e){fu[t]=e}});function yu(t){var e={};return t.registerClass=function(t,n){return e[n]=t,t},t.getClass=function(t){return e[t]},t.hasClass=function(t){return!!e[t]},t.getAllClass=function(){return e},t}var mu=Math.pow,xu=Math.sqrt,_u=1e-8,wu=1e-4,bu=xu(3),Su=1/3,ku=Lo(),Mu=Lo(),Au=Lo();function Iu(t){return t>-_u&&t<_u}function Tu(t){return t>_u||t<-_u}function Cu(t,e,n,r,i){var o=1-i;return o*o*(o*t+3*i*e)+i*i*(i*r+3*o*n)}function Eu(t,e,n,r,i){var o=1-i;return 3*(((e-t)*o+2*(n-e)*i)*o+(r-n)*i*i)}function zu(t,e,n,r,i){var o=6*n-12*e+6*t,a=9*e+3*r-3*t-9*n,s=3*e-3*t,l=0;if(Iu(a)){if(Tu(o))(h=-s/o)>=0&&h<=1&&(i[l++]=h)}else{var u=o*o-4*a*s;if(Iu(u))i[0]=-o/(2*a);else if(u>0){var h,c=xu(u),f=(-o-c)/(2*a);(h=(-o+c)/(2*a))>=0&&h<=1&&(i[l++]=h),f>=0&&f<=1&&(i[l++]=f)}}return l}function Lu(t,e,n,r,i,o){var a=(e-t)*i+t,s=(n-e)*i+e,l=(r-n)*i+n,u=(s-a)*i+a,h=(l-s)*i+s,c=(h-u)*i+u;o[0]=t,o[1]=a,o[2]=u,o[3]=c,o[4]=c,o[5]=h,o[6]=l,o[7]=r}function Ou(t,e,n,r){var i=1-r;return i*(i*t+2*r*e)+r*r*n}function Du(t,e,n,r){return 2*((1-r)*(e-t)+r*(n-e))}function Pu(t,e,n){var r=t+n-2*e;return 0===r?.5:(t-e)/r}function Fu(t,e,n,r,i){var o=(e-t)*r+t,a=(n-e)*r+e,s=(a-o)*r+o;i[0]=t,i[1]=o,i[2]=s,i[3]=s,i[4]=a,i[5]=n}var Nu=Math.min,Ru=Math.max,Bu=Math.sin,Wu=Math.cos,ju=2*Math.PI,Gu=Lo(),Hu=Lo(),Uu=Lo();function qu(t,e,n,r,i,o){i[0]=Nu(t,n),i[1]=Nu(e,r),o[0]=Ru(t,n),o[1]=Ru(e,r)}var Vu=[],Yu=[];function $u(t,e,n,r,i,o,a,s,l,u){var h,c=zu,f=Cu,p=c(t,n,i,a,Vu);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,h=0;h<p;h++){var d=f(t,n,i,a,Vu[h]);l[0]=Nu(d,l[0]),u[0]=Ru(d,u[0])}for(p=c(e,r,o,s,Yu),h=0;h<p;h++){var g=f(e,r,o,s,Yu[h]);l[1]=Nu(g,l[1]),u[1]=Ru(g,u[1])}l[0]=Nu(t,l[0]),u[0]=Ru(t,u[0]),l[0]=Nu(a,l[0]),u[0]=Ru(a,u[0]),l[1]=Nu(e,l[1]),u[1]=Ru(e,u[1]),l[1]=Nu(s,l[1]),u[1]=Ru(s,u[1])}function Xu(t,e,n,r,i,o,a,s){var l=Pu,u=Ou,h=Ru(Nu(l(t,n,i),1),0),c=Ru(Nu(l(e,r,o),1),0),f=u(t,n,i,h),p=u(e,r,o,c);a[0]=Nu(t,i,f),a[1]=Nu(e,o,p),s[0]=Ru(t,i,f),s[1]=Ru(e,o,p)}function Ku(t,e,n,r,i,o,a,s,l){var u=Go,h=Ho,c=Math.abs(i-o);if(c%ju<1e-4&&c>1e-4)return s[0]=t-n,s[1]=e-r,l[0]=t+n,void(l[1]=e+r);if(Gu[0]=Wu(i)*n+t,Gu[1]=Bu(i)*r+e,Hu[0]=Wu(o)*n+t,Hu[1]=Bu(o)*r+e,u(s,Gu,Hu),h(l,Gu,Hu),(i%=ju)<0&&(i+=ju),(o%=ju)<0&&(o+=ju),i>o&&!a?o+=ju:i<o&&a&&(i+=ju),a){var f=o;o=i,i=f}for(var p=0;p<o;p+=Math.PI/2)p>i&&(Uu[0]=Wu(p)*n+t,Uu[1]=Bu(p)*r+e,u(s,Uu,s),h(l,Uu,l))}var Zu={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Qu=[],Ju=[],th=[],eh=[],nh=Math.min,rh=Math.max,ih=Math.cos,oh=Math.sin,ah=Math.sqrt,sh=Math.abs,lh="undefined"!=typeof Float32Array,uh=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};function hh(t,e,n,r,i,o,a){if(0===i)return!1;var s=i,l=0;if(a>e+s&&a>r+s||a<e-s&&a<r-s||o>t+s&&o>n+s||o<t-s&&o<n-s)return!1;if(t===n)return Math.abs(o-t)<=s/2;var u=(l=(e-r)/(t-n))*o-a+(t*r-n*e)/(t-n);return u*u/(l*l+1)<=s/2*s/2}function ch(t,e,n,r,i,o,a,s,l,u,h){if(0===l)return!1;var c=l;return!(h>e+c&&h>r+c&&h>o+c&&h>s+c||h<e-c&&h<r-c&&h<o-c&&h<s-c||u>t+c&&u>n+c&&u>i+c&&u>a+c||u<t-c&&u<n-c&&u<i-c&&u<a-c)&&function(t,e,n,r,i,o,a,s,l,u,h){var c,f,p,d,g,v=.005,y=1/0;ku[0]=l,ku[1]=u;for(var m=0;m<1;m+=.05)Mu[0]=Cu(t,n,i,a,m),Mu[1]=Cu(e,r,o,s,m),(d=Wo(ku,Mu))<y&&(c=m,y=d);y=1/0;for(var x=0;x<32&&!(v<wu);x++)f=c-v,p=c+v,Mu[0]=Cu(t,n,i,a,f),Mu[1]=Cu(e,r,o,s,f),d=Wo(Mu,ku),f>=0&&d<y?(c=f,y=d):(Au[0]=Cu(t,n,i,a,p),Au[1]=Cu(e,r,o,s,p),g=Wo(Au,ku),p<=1&&g<y?(c=p,y=g):v*=.5);return h&&(h[0]=Cu(t,n,i,a,c),h[1]=Cu(e,r,o,s,c)),xu(y)}(t,e,n,r,i,o,a,s,u,h,null)<=c/2}function fh(t,e,n,r,i,o,a,s,l){if(0===a)return!1;var u=a;return!(l>e+u&&l>r+u&&l>o+u||l<e-u&&l<r-u&&l<o-u||s>t+u&&s>n+u&&s>i+u||s<t-u&&s<n-u&&s<i-u)&&function(t,e,n,r,i,o,a,s,l){var u,h=.005,c=1/0;ku[0]=a,ku[1]=s;for(var f=0;f<1;f+=.05)Mu[0]=Ou(t,n,i,f),Mu[1]=Ou(e,r,o,f),(v=Wo(ku,Mu))<c&&(u=f,c=v);c=1/0;for(var p=0;p<32&&!(h<wu);p++){var d=u-h,g=u+h;Mu[0]=Ou(t,n,i,d),Mu[1]=Ou(e,r,o,d);var v=Wo(Mu,ku);if(d>=0&&v<c)u=d,c=v;else{Au[0]=Ou(t,n,i,g),Au[1]=Ou(e,r,o,g);var y=Wo(Au,ku);g<=1&&y<c?(u=g,c=y):h*=.5}}return l&&(l[0]=Ou(t,n,i,u),l[1]=Ou(e,r,o,u)),xu(c)}(t,e,n,r,i,o,s,l,null)<=u/2}uh.prototype={constructor:uh,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=sh(1/ds/t)||0,this._uy=sh(1/ds/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(Zu.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=sh(t-this._xi)>this._ux||sh(e-this._yi)>this._uy||this._len<5;return this.addData(Zu.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,r,i,o){return this.addData(Zu.C,t,e,n,r,i,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,r,i,o):this._ctx.bezierCurveTo(t,e,n,r,i,o)),this._xi=i,this._yi=o,this},quadraticCurveTo:function(t,e,n,r){return this.addData(Zu.Q,t,e,n,r),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,r):this._ctx.quadraticCurveTo(t,e,n,r)),this._xi=n,this._yi=r,this},arc:function(t,e,n,r,i,o){return this.addData(Zu.A,t,e,n,n,r,i-r,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,r,i,o),this._xi=ih(i)*n+t,this._yi=oh(i)*n+e,this},arcTo:function(t,e,n,r,i){return this._ctx&&this._ctx.arcTo(t,e,n,r,i),this},rect:function(t,e,n,r){return this._ctx&&this._ctx.rect(t,e,n,r),this.addData(Zu.R,t,e,n,r),this},closePath:function(){this.addData(Zu.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!lh||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,r=this._len,i=0;i<e;i++)n+=t[i].len();lh&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+n));for(i=0;i<e;i++)for(var o=t[i].data,a=0;a<o.length;a++)this.data[r++]=o[a];this._len=r},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,r,i=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,h=t-l,c=e-u,f=ah(h*h+c*c),p=l,d=u,g=a.length;for(h/=f,c/=f,o<0&&(o=i+o),p-=(o%=i)*h,d-=o*c;h>0&&p<=t||h<0&&p>=t||0===h&&(c>0&&d<=e||c<0&&d>=e);)p+=h*(n=a[r=this._dashIdx]),d+=c*n,this._dashIdx=(r+1)%g,h>0&&p<l||h<0&&p>l||c>0&&d<u||c<0&&d>u||s[r%2?"moveTo":"lineTo"](h>=0?nh(p,t):rh(p,t),c>=0?nh(d,e):rh(d,e));h=p-t,c=d-e,this._dashOffset=-ah(h*h+c*c)},_dashedBezierTo:function(t,e,n,r,i,o){var a,s,l,u,h,c=this._dashSum,f=this._dashOffset,p=this._lineDash,d=this._ctx,g=this._xi,v=this._yi,y=Cu,m=0,x=this._dashIdx,_=p.length,w=0;for(f<0&&(f=c+f),f%=c,a=0;a<1;a+=.1)s=y(g,t,n,i,a+.1)-y(g,t,n,i,a),l=y(v,e,r,o,a+.1)-y(v,e,r,o,a),m+=ah(s*s+l*l);for(;x<_&&!((w+=p[x])>f);x++);for(a=(w-f)/m;a<=1;)u=y(g,t,n,i,a),h=y(v,e,r,o,a),x%2?d.moveTo(u,h):d.lineTo(u,h),a+=p[x]/m,x=(x+1)%_;x%2!=0&&d.lineTo(i,o),s=i-u,l=o-h,this._dashOffset=-ah(s*s+l*l)},_dashedQuadraticTo:function(t,e,n,r){var i=n,o=r;n=(n+2*t)/3,r=(r+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,r,i,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,lh&&(this.data=new Float32Array(t)))},getBoundingRect:function(){Qu[0]=Qu[1]=th[0]=th[1]=Number.MAX_VALUE,Ju[0]=Ju[1]=eh[0]=eh[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,r=0,i=0,o=0;o<t.length;){var a=t[o++];switch(1===o&&(r=e=t[o],i=n=t[o+1]),a){case Zu.M:e=r=t[o++],n=i=t[o++],th[0]=r,th[1]=i,eh[0]=r,eh[1]=i;break;case Zu.L:qu(e,n,t[o],t[o+1],th,eh),e=t[o++],n=t[o++];break;case Zu.C:$u(e,n,t[o++],t[o++],t[o++],t[o++],t[o],t[o+1],th,eh),e=t[o++],n=t[o++];break;case Zu.Q:Xu(e,n,t[o++],t[o++],t[o],t[o+1],th,eh),e=t[o++],n=t[o++];break;case Zu.A:var s=t[o++],l=t[o++],u=t[o++],h=t[o++],c=t[o++],f=t[o++]+c;o+=1;var p=1-t[o++];1===o&&(r=ih(c)*u+s,i=oh(c)*h+l),Ku(s,l,u,h,c,f,p,th,eh),e=ih(f)*u+s,n=oh(f)*h+l;break;case Zu.R:qu(r=e=t[o++],i=n=t[o++],r+t[o++],i+t[o++],th,eh);break;case Zu.Z:e=r,n=i}Go(Qu,Qu,th),Ho(Ju,Ju,eh)}return 0===o&&(Qu[0]=Qu[1]=Ju[0]=Ju[1]=0),new Ts(Qu[0],Qu[1],Ju[0]-Qu[0],Ju[1]-Qu[1])},rebuildPath:function(t){for(var e,n,r,i,o,a,s=this.data,l=this._ux,u=this._uy,h=this._len,c=0;c<h;){var f=s[c++];switch(1===c&&(e=r=s[c],n=i=s[c+1]),f){case Zu.M:e=r=s[c++],n=i=s[c++],t.moveTo(r,i);break;case Zu.L:o=s[c++],a=s[c++],(sh(o-r)>l||sh(a-i)>u||c===h-1)&&(t.lineTo(o,a),r=o,i=a);break;case Zu.C:t.bezierCurveTo(s[c++],s[c++],s[c++],s[c++],s[c++],s[c++]),r=s[c-2],i=s[c-1];break;case Zu.Q:t.quadraticCurveTo(s[c++],s[c++],s[c++],s[c++]),r=s[c-2],i=s[c-1];break;case Zu.A:var p=s[c++],d=s[c++],g=s[c++],v=s[c++],y=s[c++],m=s[c++],x=s[c++],_=s[c++],w=g>v?g:v,b=g>v?1:g/v,S=g>v?v/g:1,k=y+m;Math.abs(g-v)>.001?(t.translate(p,d),t.rotate(x),t.scale(b,S),t.arc(0,0,w,y,k,1-_),t.scale(1/b,1/S),t.rotate(-x),t.translate(-p,-d)):t.arc(p,d,w,y,k,1-_),1===c&&(e=ih(y)*g+p,n=oh(y)*v+d),r=ih(k)*g+p,i=oh(k)*v+d;break;case Zu.R:e=r=s[c],n=i=s[c+1],t.rect(s[c++],s[c++],s[c++],s[c++]);break;case Zu.Z:t.closePath(),r=e,i=n}}}},uh.CMD=Zu;var ph=2*Math.PI;function dh(t){return(t%=ph)<0&&(t+=ph),t}var gh=2*Math.PI;function vh(t,e,n,r,i,o,a,s,l){if(0===a)return!1;var u=a;s-=t,l-=e;var h=Math.sqrt(s*s+l*l);if(h-u>n||h+u<n)return!1;if(Math.abs(r-i)%gh<1e-4)return!0;if(o){var c=r;r=dh(i),i=dh(c)}else r=dh(r),i=dh(i);r>i&&(i+=gh);var f=Math.atan2(l,s);return f<0&&(f+=gh),f>=r&&f<=i||f+gh>=r&&f+gh<=i}function yh(t,e,n,r,i,o){if(o>e&&o>r||o<e&&o<r)return 0;if(r===e)return 0;var a=r<e?1:-1,s=(o-e)/(r-e);1!==s&&0!==s||(a=r<e?.5:-.5);var l=s*(n-t)+t;return l===i?1/0:l>i?a:0}var mh=uh.CMD,xh=2*Math.PI,_h=1e-4;var wh=[-1,-1,-1],bh=[-1,-1];function Sh(t,e,n,r,i,o,a,s,l,u){if(u>e&&u>r&&u>o&&u>s||u<e&&u<r&&u<o&&u<s)return 0;var h,c=function(t,e,n,r,i,o){var a=r+3*(e-n)-t,s=3*(n-2*e+t),l=3*(e-t),u=t-i,h=s*s-3*a*l,c=s*l-9*a*u,f=l*l-3*s*u,p=0;if(Iu(h)&&Iu(c))Iu(s)?o[0]=0:(k=-l/s)>=0&&k<=1&&(o[p++]=k);else{var d=c*c-4*h*f;if(Iu(d)){var g=c/h,v=-g/2;(k=-s/a+g)>=0&&k<=1&&(o[p++]=k),v>=0&&v<=1&&(o[p++]=v)}else if(d>0){var y=xu(d),m=h*s+1.5*a*(-c+y),x=h*s+1.5*a*(-c-y);(k=(-s-((m=m<0?-mu(-m,Su):mu(m,Su))+(x=x<0?-mu(-x,Su):mu(x,Su))))/(3*a))>=0&&k<=1&&(o[p++]=k)}else{var _=(2*h*s-3*a*c)/(2*xu(h*h*h)),w=Math.acos(_)/3,b=xu(h),S=Math.cos(w),k=(-s-2*b*S)/(3*a),M=(v=(-s+b*(S+bu*Math.sin(w)))/(3*a),(-s+b*(S-bu*Math.sin(w)))/(3*a));k>=0&&k<=1&&(o[p++]=k),v>=0&&v<=1&&(o[p++]=v),M>=0&&M<=1&&(o[p++]=M)}}return p}(e,r,o,s,u,wh);if(0===c)return 0;for(var f,p,d=0,g=-1,v=0;v<c;v++){var y=wh[v],m=0===y||1===y?.5:1;Cu(t,n,i,a,y)<l||(g<0&&(g=zu(e,r,o,s,bh),bh[1]<bh[0]&&g>1&&(void 0,h=bh[0],bh[0]=bh[1],bh[1]=h),f=Cu(e,r,o,s,bh[0]),g>1&&(p=Cu(e,r,o,s,bh[1]))),2===g?y<bh[0]?d+=f<e?m:-m:y<bh[1]?d+=p<f?m:-m:d+=s<p?m:-m:y<bh[0]?d+=f<e?m:-m:d+=s<f?m:-m)}return d}function kh(t,e,n,r,i,o,a,s){if(s>e&&s>r&&s>o||s<e&&s<r&&s<o)return 0;var l=function(t,e,n,r,i){var o=t-2*e+n,a=2*(e-t),s=t-r,l=0;if(Iu(o))Tu(a)&&(h=-s/a)>=0&&h<=1&&(i[l++]=h);else{var u=a*a-4*o*s;if(Iu(u))(h=-a/(2*o))>=0&&h<=1&&(i[l++]=h);else if(u>0){var h,c=xu(u),f=(-a-c)/(2*o);(h=(-a+c)/(2*o))>=0&&h<=1&&(i[l++]=h),f>=0&&f<=1&&(i[l++]=f)}}return l}(e,r,o,s,wh);if(0===l)return 0;var u=Pu(e,r,o);if(u>=0&&u<=1){for(var h=0,c=Ou(e,r,o,u),f=0;f<l;f++){var p=0===wh[f]||1===wh[f]?.5:1;Ou(t,n,i,wh[f])<a||(wh[f]<u?h+=c<e?p:-p:h+=o<c?p:-p)}return h}p=0===wh[0]||1===wh[0]?.5:1;return Ou(t,n,i,wh[0])<a?0:o<e?p:-p}function Mh(t,e,n,r,i,o,a,s){if((s-=e)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);wh[0]=-l,wh[1]=l;var u=Math.abs(r-i);if(u<1e-4)return 0;if(u%xh<1e-4){r=0,i=xh;var h=o?1:-1;return a>=wh[0]+t&&a<=wh[1]+t?h:0}if(o){l=r;r=dh(i),i=dh(l)}else r=dh(r),i=dh(i);r>i&&(i+=xh);for(var c=0,f=0;f<2;f++){var p=wh[f];if(p+t>a){var d=Math.atan2(s,p);h=o?1:-1;d<0&&(d=xh+d),(d>=r&&d<=i||d+xh>=r&&d+xh<=i)&&(d>Math.PI/2&&d<1.5*Math.PI&&(h=-h),c+=h)}}return c}function Ah(t,e,n,r,i){for(var o,a,s=0,l=0,u=0,h=0,c=0,f=0;f<t.length;){var p=t[f++];switch(p===mh.M&&f>1&&(n||(s+=yh(l,u,h,c,r,i))),1===f&&(h=l=t[f],c=u=t[f+1]),p){case mh.M:l=h=t[f++],u=c=t[f++];break;case mh.L:if(n){if(hh(l,u,t[f],t[f+1],e,r,i))return!0}else s+=yh(l,u,t[f],t[f+1],r,i)||0;l=t[f++],u=t[f++];break;case mh.C:if(n){if(ch(l,u,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],e,r,i))return!0}else s+=Sh(l,u,t[f++],t[f++],t[f++],t[f++],t[f],t[f+1],r,i)||0;l=t[f++],u=t[f++];break;case mh.Q:if(n){if(fh(l,u,t[f++],t[f++],t[f],t[f+1],e,r,i))return!0}else s+=kh(l,u,t[f++],t[f++],t[f],t[f+1],r,i)||0;l=t[f++],u=t[f++];break;case mh.A:var d=t[f++],g=t[f++],v=t[f++],y=t[f++],m=t[f++],x=t[f++];f+=1;var _=1-t[f++],w=Math.cos(m)*v+d,b=Math.sin(m)*y+g;f>1?s+=yh(l,u,w,b,r,i):(h=w,c=b);var S=(r-d)*y/v+d;if(n){if(vh(d,g,y,m,m+x,_,e,S,i))return!0}else s+=Mh(d,g,y,m,m+x,_,S,i);l=Math.cos(m+x)*v+d,u=Math.sin(m+x)*y+g;break;case mh.R:h=l=t[f++],c=u=t[f++];w=h+t[f++],b=c+t[f++];if(n){if(hh(h,c,w,c,e,r,i)||hh(w,c,w,b,e,r,i)||hh(w,b,h,b,e,r,i)||hh(h,b,h,c,e,r,i))return!0}else s+=yh(w,c,w,b,r,i),s+=yh(h,b,h,c,r,i);break;case mh.Z:if(n){if(hh(l,u,h,c,e,r,i))return!0}else s+=yh(l,u,h,c,r,i);l=h,u=c}}return n||(o=u,a=c,Math.abs(o-a)<_h)||(s+=yh(l,u,h,c,r,i)||0),0!==s}var Ih=Zs.prototype.getCanvasPattern,Th=Math.abs,Ch=new uh(!0);function Eh(t){$l.call(this,t),this.path=null}Eh.prototype={constructor:Eh,type:"path",__dirtyPath:!0,strokeContainThreshold:5,subPixelOptimize:!1,brush:function(t,e){var n,r=this.style,i=this.path||Ch,o=r.hasStroke(),a=r.hasFill(),s=r.fill,l=r.stroke,u=a&&!!s.colorStops,h=o&&!!l.colorStops,c=a&&!!s.image,f=o&&!!l.image;(r.bind(t,this,e),this.setTransform(t),this.__dirty)&&(u&&(n=n||this.getBoundingRect(),this._fillGradient=r.getGradient(t,s,n)),h&&(n=n||this.getBoundingRect(),this._strokeGradient=r.getGradient(t,l,n)));u?t.fillStyle=this._fillGradient:c&&(t.fillStyle=Ih.call(s,t)),h?t.strokeStyle=this._strokeGradient:f&&(t.strokeStyle=Ih.call(l,t));var p=r.lineDash,d=r.lineDashOffset,g=!!t.setLineDash,v=this.getGlobalScale();if(i.setScale(v[0],v[1]),this.__dirtyPath||p&&!g&&o?(i.beginPath(t),p&&!g&&(i.setLineDash(p),i.setLineDashOffset(d)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a)if(null!=r.fillOpacity){var y=t.globalAlpha;t.globalAlpha=r.fillOpacity*r.opacity,i.fill(t),t.globalAlpha=y}else i.fill(t);if(p&&g&&(t.setLineDash(p),t.lineDashOffset=d),o)if(null!=r.strokeOpacity){y=t.globalAlpha;t.globalAlpha=r.strokeOpacity*r.opacity,i.stroke(t),t.globalAlpha=y}else i.stroke(t);p&&g&&t.setLineDash([]),null!=r.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new uh},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var r=this.path;r||(r=this.path=new uh),this.__dirtyPath&&(r.beginPath(),this.buildPath(r,this.shape,!1)),t=r.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){i.copy(t);var o=e.lineWidth,a=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(o=Math.max(o,this.strokeContainThreshold||4)),a>1e-10&&(i.width+=o/a,i.height+=o/a,i.x-=o/a/2,i.y-=o/a/2)}return i}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),r=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],r.contain(t,e)){var o=this.path.data;if(i.hasStroke()){var a=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(i.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,n,r){return Ah(t,e,!0,n,r)}(o,a/s,t,e)))return!0}if(i.hasFill())return function(t,e,n){return Ah(t,0,!1,e,n)}(o,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):$l.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(wo(t))for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&Th(t[0]-1)>1e-10&&Th(t[3]-1)>1e-10?Math.sqrt(Th(t[0]*t[3]-t[2]*t[1])):1}},Eh.extend=function(t){var e=function(e){Eh.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var r=this.shape;for(var i in n)!r.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(r[i]=n[i])}t.init&&t.init.call(this,e)};for(var n in lo(e,Eh),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},lo(Eh,$l);var zh=uh.CMD,Lh=[[],[],[]],Oh=Math.sqrt,Dh=Math.atan2;var Ph=Math.sqrt,Fh=Math.sin,Nh=Math.cos,Rh=Math.PI,Bh=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},Wh=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(Bh(t)*Bh(e))},jh=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(Wh(t,e))};function Gh(t,e,n,r,i,o,a,s,l,u,h){var c=l*(Rh/180),f=Nh(c)*(t-n)/2+Fh(c)*(e-r)/2,p=-1*Fh(c)*(t-n)/2+Nh(c)*(e-r)/2,d=f*f/(a*a)+p*p/(s*s);d>1&&(a*=Ph(d),s*=Ph(d));var g=(i===o?-1:1)*Ph((a*a*(s*s)-a*a*(p*p)-s*s*(f*f))/(a*a*(p*p)+s*s*(f*f)))||0,v=g*a*p/s,y=g*-s*f/a,m=(t+n)/2+Nh(c)*v-Fh(c)*y,x=(e+r)/2+Fh(c)*v+Nh(c)*y,_=jh([1,0],[(f-v)/a,(p-y)/s]),w=[(f-v)/a,(p-y)/s],b=[(-1*f-v)/a,(-1*p-y)/s],S=jh(w,b);Wh(w,b)<=-1&&(S=Rh),Wh(w,b)>=1&&(S=0),0===o&&S>0&&(S-=2*Rh),1===o&&S<0&&(S+=2*Rh),h.addData(u,m,x,a,s,_,S,c,o)}var Hh=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,Uh=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function qh(t,e){var n=function(t){if(!t)return new uh;for(var e,n=0,r=0,i=n,o=r,a=new uh,s=uh.CMD,l=t.match(Hh),u=0;u<l.length;u++){for(var h,c=l[u],f=c.charAt(0),p=c.match(Uh)||[],d=p.length,g=0;g<d;g++)p[g]=parseFloat(p[g]);for(var v=0;v<d;){var y,m,x,_,w,b,S,k=n,M=r;switch(f){case"l":n+=p[v++],r+=p[v++],h=s.L,a.addData(h,n,r);break;case"L":n=p[v++],r=p[v++],h=s.L,a.addData(h,n,r);break;case"m":n+=p[v++],r+=p[v++],h=s.M,a.addData(h,n,r),i=n,o=r,f="l";break;case"M":n=p[v++],r=p[v++],h=s.M,a.addData(h,n,r),i=n,o=r,f="L";break;case"h":n+=p[v++],h=s.L,a.addData(h,n,r);break;case"H":n=p[v++],h=s.L,a.addData(h,n,r);break;case"v":r+=p[v++],h=s.L,a.addData(h,n,r);break;case"V":r=p[v++],h=s.L,a.addData(h,n,r);break;case"C":h=s.C,a.addData(h,p[v++],p[v++],p[v++],p[v++],p[v++],p[v++]),n=p[v-2],r=p[v-1];break;case"c":h=s.C,a.addData(h,p[v++]+n,p[v++]+r,p[v++]+n,p[v++]+r,p[v++]+n,p[v++]+r),n+=p[v-2],r+=p[v-1];break;case"S":y=n,m=r;var A=a.len(),I=a.data;e===s.C&&(y+=n-I[A-4],m+=r-I[A-3]),h=s.C,k=p[v++],M=p[v++],n=p[v++],r=p[v++],a.addData(h,y,m,k,M,n,r);break;case"s":y=n,m=r,A=a.len(),I=a.data,e===s.C&&(y+=n-I[A-4],m+=r-I[A-3]),h=s.C,k=n+p[v++],M=r+p[v++],n+=p[v++],r+=p[v++],a.addData(h,y,m,k,M,n,r);break;case"Q":k=p[v++],M=p[v++],n=p[v++],r=p[v++],h=s.Q,a.addData(h,k,M,n,r);break;case"q":k=p[v++]+n,M=p[v++]+r,n+=p[v++],r+=p[v++],h=s.Q,a.addData(h,k,M,n,r);break;case"T":y=n,m=r,A=a.len(),I=a.data,e===s.Q&&(y+=n-I[A-4],m+=r-I[A-3]),n=p[v++],r=p[v++],h=s.Q,a.addData(h,y,m,n,r);break;case"t":y=n,m=r,A=a.len(),I=a.data,e===s.Q&&(y+=n-I[A-4],m+=r-I[A-3]),n+=p[v++],r+=p[v++],h=s.Q,a.addData(h,y,m,n,r);break;case"A":x=p[v++],_=p[v++],w=p[v++],b=p[v++],S=p[v++],Gh(k=n,M=r,n=p[v++],r=p[v++],b,S,x,_,w,h=s.A,a);break;case"a":x=p[v++],_=p[v++],w=p[v++],b=p[v++],S=p[v++],Gh(k=n,M=r,n+=p[v++],r+=p[v++],b,S,x,_,w,h=s.A,a)}}"z"!==f&&"Z"!==f||(h=s.Z,a.addData(h),n=i,r=o),e=h}return a.toStatic(),a}(t);return(e=e||{}).buildPath=function(t){if(t.setData){t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e)}else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){!function(t,e){var n,r,i,o,a,s=t.data,l=zh.M,u=zh.C,h=zh.L,c=zh.R,f=zh.A,p=zh.Q;for(i=0,o=0;i<s.length;){switch(n=s[i++],o=i,r=0,n){case l:case h:r=1;break;case u:r=3;break;case p:r=2;break;case f:var d=e[4],g=e[5],v=Oh(e[0]*e[0]+e[1]*e[1]),y=Oh(e[2]*e[2]+e[3]*e[3]),m=Dh(-e[1]/y,e[0]/v);s[i]*=v,s[i++]+=d,s[i]*=y,s[i++]+=g,s[i++]*=v,s[i++]*=y,s[i++]+=m,s[i++]+=m,o=i+=2;break;case c:x[0]=s[i++],x[1]=s[i++],jo(x,x,e),s[o++]=x[0],s[o++]=x[1],x[0]+=s[i++],x[1]+=s[i++],jo(x,x,e),s[o++]=x[0],s[o++]=x[1]}for(a=0;a<r;a++){var x;(x=Lh[a])[0]=s[i++],x[1]=s[i++],jo(x,x,e),s[o++]=x[0],s[o++]=x[1]}}}(n,t),this.dirty(!0)},e}function Vh(t,e){return new Eh(qh(t,e))}var Yh=function(t){$l.call(this,t)};Yh.prototype={constructor:Yh,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&zl(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var r=n.text;null!=r&&(r+=""),ql(r,n)?(this.setTransform(t),Ol(this,t,r,n,null,e),this.restoreTransform(t)):t.__attrCachedBy=Gs.NONE},getBoundingRect:function(){var t=this.style;if(this.__dirty&&zl(t),!this._rect){var e=t.text;null!=e?e+="":e="";var n=dl(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,jl(t.textStroke,t.textStrokeWidth)){var r=t.textStrokeWidth;n.x-=r/2,n.y-=r/2,n.width+=r,n.height+=r}this._rect=n}return this._rect}},lo(Yh,$l);var $h=Eh.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),Xh=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]];var Kh,Zh=Eh.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:(Kh=Eh.prototype.brush,Gi.browser.ie&&Gi.browser.version>=11?function(){var t,e=this.__clipPaths,n=this.style;if(e)for(var r=0;r<e.length;r++){var i=e[r],o=i&&i.shape,a=i&&i.type;if(o&&("sector"===a&&o.startAngle===o.endAngle||"rect"===a&&(!o.width||!o.height))){for(var s=0;s<Xh.length;s++)Xh[s][2]=n[Xh[s][0]],n[Xh[s][0]]=Xh[s][1];t=!0;break}}if(Kh.apply(this,arguments),t)for(s=0;s<Xh.length;s++)n[Xh[s][0]]=Xh[s][2]}:Kh),buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(a),h=Math.sin(a);t.moveTo(u*i+n,h*i+r),t.lineTo(u*o+n,h*o+r),t.arc(n,r,o,a,s,!l),t.lineTo(Math.cos(s)*i+n,Math.sin(s)*i+r),0!==i&&t.arc(n,r,i,s,a,l),t.closePath()}}),Qh=Eh.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=2*Math.PI;t.moveTo(n+e.r,r),t.arc(n,r,e.r,0,i,!1),t.moveTo(n+e.r0,r),t.arc(n,r,e.r0,0,i,!0)}});function Jh(t,e,n,r,i,o,a){var s=.5*(n-t),l=.5*(r-e);return(2*(e-n)+s+l)*a+(-3*(e-n)-2*s-l)*o+s*i+e}function tc(t,e,n){var r=e.points,i=e.smooth;if(r&&r.length>=2){if(i&&"spline"!==i){var o=function(t,e,n,r){var i,o,a,s,l=[],u=[],h=[],c=[];if(r){a=[1/0,1/0],s=[-1/0,-1/0];for(var f=0,p=t.length;f<p;f++)Go(a,a,t[f]),Ho(s,s,t[f]);Go(a,a,r[0]),Ho(s,s,r[1])}for(f=0,p=t.length;f<p;f++){var d=t[f];if(n)i=t[f?f-1:p-1],o=t[(f+1)%p];else{if(0===f||f===p-1){l.push(Oo(t[f]));continue}i=t[f-1],o=t[f+1]}Po(u,o,i),Fo(u,u,e);var g=Ro(d,i),v=Ro(d,o),y=g+v;0!==y&&(g/=y,v/=y),Fo(h,u,-g),Fo(c,u,v);var m=Do([],d,h),x=Do([],d,c);r&&(Ho(m,m,a),Go(m,m,s),Ho(x,x,a),Go(x,x,s)),l.push(m),l.push(x)}return n&&l.push(l.shift()),l}(r,i,n,e.smoothConstraint);t.moveTo(r[0][0],r[0][1]);for(var a=r.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],h=r[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],h[0],h[1])}}else{"spline"===i&&(r=function(t,e){for(var n=t.length,r=[],i=0,o=1;o<n;o++)i+=Ro(t[o-1],t[o]);var a=i/2;for(a=a<n?n:a,o=0;o<a;o++){var s,l,u,h=o/(a-1)*(e?n:n-1),c=Math.floor(h),f=h-c,p=t[c%n];e?(s=t[(c-1+n)%n],l=t[(c+1)%n],u=t[(c+2)%n]):(s=t[0===c?c:c-1],l=t[c>n-2?n-1:c+1],u=t[c>n-3?n-1:c+2]);var d=f*f,g=f*d;r.push([Jh(s[0],p[0],l[0],u[0],f,d,g),Jh(s[1],p[1],l[1],u[1],f,d,g)])}return r}(r,n)),t.moveTo(r[0][0],r[0][1]);s=1;for(var c=r.length;s<c;s++)t.lineTo(r[s][0],r[s][1])}n&&t.closePath()}}var ec=Eh.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){tc(t,e,!0)}}),nc=Eh.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){tc(t,e,!1)}}),rc=Math.round;function ic(t,e,n){var r=rc(2*t);return(r+rc(e))%2==0?r/2:(r+(n?1:-1))/2}var oc={},ac=Eh.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n,r,i,o;this.subPixelOptimize?(!function(t,e,n){var r=n&&n.lineWidth;if(e&&r){var i=e.x,o=e.y,a=e.width,s=e.height;t.x=ic(i,r,!0),t.y=ic(o,r,!0),t.width=Math.max(ic(i+a,r,!1)-t.x,0===a?0:1),t.height=Math.max(ic(o+s,r,!1)-t.y,0===s?0:1)}}(oc,e,this.style),n=oc.x,r=oc.y,i=oc.width,o=oc.height,oc.r=e.r,e=oc):(n=e.x,r=e.y,i=e.width,o=e.height),e.r?Al(t,e):t.rect(n,r,i,o),t.closePath()}}),sc={},lc=Eh.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,r,i,o;this.subPixelOptimize?(!function(t,e,n){var r=n&&n.lineWidth;if(e&&r){var i=e.x1,o=e.x2,a=e.y1,s=e.y2;rc(2*i)===rc(2*o)?t.x1=t.x2=ic(i,r,!0):(t.x1=i,t.x2=o),rc(2*a)===rc(2*s)?t.y1=t.y2=ic(a,r,!0):(t.y1=a,t.y2=s)}}(sc,e,this.style),n=sc.x1,r=sc.y1,i=sc.x2,o=sc.y2):(n=e.x1,r=e.y1,i=e.x2,o=e.y2);var a=e.percent;0!==a&&(t.moveTo(n,r),a<1&&(i=n*(1-a)+i*a,o=r*(1-a)+o*a),t.lineTo(i,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),uc=[];function hc(t,e,n){var r=t.cpx2,i=t.cpy2;return null===r||null===i?[(n?Eu:Cu)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?Eu:Cu)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Du:Ou)(t.x1,t.cpx1,t.x2,e),(n?Du:Ou)(t.y1,t.cpy1,t.y2,e)]}var cc=Eh.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,h=e.percent;0!==h&&(t.moveTo(n,r),null==l||null==u?(h<1&&(Fu(n,a,i,h,uc),a=uc[1],i=uc[2],Fu(r,s,o,h,uc),s=uc[1],o=uc[2]),t.quadraticCurveTo(a,s,i,o)):(h<1&&(Lu(n,a,l,i,h,uc),a=uc[1],l=uc[2],i=uc[3],Lu(r,s,u,o,h,uc),s=uc[1],u=uc[2],o=uc[3]),t.bezierCurveTo(a,s,l,u,i,o)))},pointAt:function(t){return hc(this.shape,t,!1)},tangentAt:function(t){var e=hc(this.shape,t,!0);return No(e,e)}}),fc=Eh.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),u=Math.sin(o);t.moveTo(l*i+n,u*i+r),t.arc(n,r,i,o,a,!s)}}),pc=function(t){this.colorStops=t||[]};pc.prototype={constructor:pc,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var dc=function(t,e,n,r,i,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==r?0:r,this.type="linear",this.global=o||!1,pc.call(this,i)};dc.prototype={constructor:dc},lo(dc,pc);var gc=function(t,e,n,r,i){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=i||!1,pc.call(this,r)};function vc(t){var e,n,r,i;return"number"==typeof t?e=n=r=i=t:t instanceof Array?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=0,{r1:e,r2:n,r3:r,r4:i}}gc.prototype={constructor:gc},lo(gc,pc);var yc=Eh.extend({type:"borderRect",shape:{r:0,borderEnable:1,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height;e.r||1!==e.borderEnable&&0!==e.borderEnable?function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,a=e.r;i<0&&(n+=i,i=-i),o<0&&(r+=o,o=-o);var s,l=vc(a),u=l.r1,h=l.r2,c=l.r3,f=l.r4,p=vc(e.borderEnable),d=p.r1,g=p.r2,v=p.r3,y=p.r4;u+h>i&&(u*=i/(s=u+h),h*=i/s),c+f>i&&(c*=i/(s=c+f),f*=i/s),h+c>o&&(h*=o/(s=h+c),c*=o/s),u+f>o&&(u*=o/(s=u+f),f*=o/s),d&&(t.moveTo(n+u,r),t.lineTo(n+i-h,r),0!==h&&t.arc(n+i-h,r+h,h,-Math.PI/2,0)),g&&(t.moveTo(n+i-h,r),t.lineTo(n+i,r+o-c),0!==c&&t.arc(n+i-c,r+o-c,c,0,Math.PI/2)),v&&(t.moveTo(n+i,r+o-c),t.lineTo(n+f,r+o),0!==f&&t.arc(n+f,r+o-f,f,Math.PI/2,Math.PI)),y&&(t.moveTo(n+f,r+o),t.lineTo(n,r+u),0!==u&&t.arc(n+u,r+u,u,Math.PI,1.5*Math.PI))}(t,e):t.rect(n,r,i,o),t.closePath()}}),mc=Math.PI,xc=2*mc,_c=xc-1e-6;function wc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function bc(){return new wc}function Sc(t){return function(){return t}}function kc(t){this._context=t}function Mc(t){return new kc(t)}function Ac(t){return t[0]}function Ic(t){return t[1]}function Tc(){var t=Ac,e=Ic,n=Sc(!0),r=null,i=Mc,o=null;function a(a){var s,l,u,h=a.length,c=!1;for(null==r&&(o=i(u=bc())),s=0;s<=h;++s)!(s<h&&n(l=a[s],s,a))===c&&((c=!c)?o.lineStart():o.lineEnd()),c&&o.point(+t(l,s,a),+e(l,s,a));if(u)return o=null,u+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Sc(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Sc(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Sc(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}wc.prototype=bc.prototype={constructor:wc,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,u=o-t,h=a-e,c=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>1e-6)if(Math.abs(h*s-l*u)>1e-6&&i){var f=n-o,p=r-a,d=s*s+l*l,g=f*f+p*p,v=Math.sqrt(d),y=Math.sqrt(c),m=i*Math.tan((mc-Math.acos((d+c-g)/(2*v*y)))/2),x=m/y,_=m/v;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*u)+","+(e+x*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>u*p)+","+(this._x1=t+_*s)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,u=e+s,h=1^o,c=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(c<0&&(c=c%xc+xc),c>_c?this._+="A"+n+","+n+",0,1,"+h+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):c>1e-6&&(this._+="A"+n+","+n+",0,"+ +(c>=mc)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},kc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Cc=Eh.extend({type:"d3-line",shape:{data:[],x:void 0,y:void 0,defined:void 0,curve:void 0,yStart:0,percent:1},style:{stroke:"#000",fill:null},updateLine:function(){!this.line&&(this.line=Tc());var t=this.line,e=this.shape;for(var n in e)!~["data","percent","yStart"].indexOf(n)&&t[n]&&void 0!==e[n]&&("y"===n?function(){var r=e[n],i=xo(r),o=e.percent,a=e.yStart,s=xo(a);t[n](function(t,e,n){var l=i?r(t,e,n):r;return void 0===a?l:l*o+(s?a(t,e,n):a)*(1-o)})}():t[n](e[n]))},buildPath:function(t,e){this.updateLine(),this.line.context(t)(e.data)}}),Ec=Math.round;function zc(t){return Eh.extend(t)}function Lc(t,e,n,r){var i=Vh(t,e),o=i.getBoundingRect();if(n){var a=o.width/o.height;if("center"===r){var s,l=n.height*a;s=l<=n.width?n.height:(l=n.width)/a;var u=n.x+n.width/2,h=n.y+n.height/2;n.x=u-l/2,n.y=h-s/2,n.width=l,n.height=s}Pc(i,n)}return i}function Oc(t,e,n){var r=new Xl({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var i={width:t.width,height:t.height};r.setStyle(function(t,e){var n,r=e.width/e.height,i=t.height*r;i<=t.width?n=t.height:(i=t.width,n=i/r);var o=t.x+t.width/2,a=t.y+t.height/2;return{x:o-i/2,y:a-n/2,width:i,height:n}}(e,i))}}});return r}var Dc=function(t,e){for(var n=[],r=t.length,i=0;i<r;i++){var o=t[i];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}var a=new Eh(e);return a.createPathProxy(),a.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},a};function Pc(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function Fc(t){var e=t.shape,n=t.position||[0,0],r=t.style.lineWidth;return Ec(2*e.x1)===Ec(2*e.x2)&&(e.x1=e.x2=Rc(e.x1,r,!0,n[0])),Ec(2*e.y1)===Ec(2*e.y2)&&(e.y1=e.y2=Rc(e.y1,r,!0,n[1])),t}function Nc(t){if(!t.style.stroke)return t;var e=t.shape,n=t.style.lineWidth,r=e.x,i=e.y,o=e.width<0,a=e.height<0,s=Math.abs(e.width),l=Math.abs(e.height);return e.x=Rc(e.x,n,!0),e.y=Rc(e.y,n,!0),e.width=Math.max(Rc(r+s,n,!1)-e.x,0===s?0:1),o&&(e.width=-e.width),e.height=Math.max(Rc(i+l,n,!1)-e.y,0===l?0:1),a&&(e.height=-e.height),t}function Rc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],r=arguments[3],i=Ec(2*t);return(i+Ec(e)+(r?Ec(2*r):0))%2==0?i/2:(i+(n?1:-1))/2}function Bc(t){return null!=t&&"none"!=t}function Wc(t){return"string"==typeof t?Va(t,-.1):t}function jc(t){if(t.__hoverStlDirty){var e=t.style.stroke,n=t.style.fill,r=t.__hoverStl;r.fill=r.fill||(Bc(n)?Wc(n):null),r.stroke=r.stroke||(Bc(e)?Wc(e):null);var i={};for(var o in r)r.hasOwnProperty(o)&&(i[o]=t.style[o]);t.__normalStl=i,t.__hoverStlDirty=!1}}function Gc(t){t.__isHover||(jc(t),t.useHoverLayer?t.__zr&&t.__zr.addHover(t,t.__hoverStl):(t.setStyle(t.__hoverStl),t.z2+=1),t.__isHover=!0)}function Hc(t){if(t.__isHover){var e=t.__normalStl;t.useHoverLayer?t.__zr&&t.__zr.removeHover(t):(e&&t.setStyle(e),t.z2-=1),t.__isHover=!1}}function Uc(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&Gc(t)}):Gc(t)}function qc(t){"group"===t.type?t.traverse(function(t){"group"!==t.type&&Hc(t)}):Hc(t)}function Vc(t,e){t.__hoverStl=t.hoverStyle||e||{},t.__hoverStlDirty=!0,t.__isHover&&jc(t)}function Yc(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&Uc(this)}function $c(t){this.__hoverSilentOnTouch&&t.zrByTouch||!this.__isEmphasis&&qc(this)}function Xc(){this.__isEmphasis=!0,Uc(this)}function Kc(){this.__isEmphasis=!1,qc(this)}function Zc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{disableMouse:!1};t.__hoverSilentOnTouch=n&&n.hoverSilentOnTouch,"group"===t.type?t.traverse(function(t){"group"!==t.type&&Vc(t,e)}):Vc(t,e),n&&n.disableMouse||t.on("mouseover",Yc).on("mouseout",$c),t.on("emphasis",Xc).on("normal",Kc)}var Qc=["fill","stroke","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","position","offset","lineWidth"],Jc=["textFill","textStroke","textShadowBlur","textShadowColor","textShadowOffsetX","textShadowOffsetY","textPosition","textOffset","textLineWidth"];function tf(t){if(t){var e=t.style?t.style:t;return e.rich&&co(e.rich,function(t){tf(t)}),co(Qc,function(t,n){void 0!==e[t]&&(e[Jc[n]]=e[t],delete e[t])}),t}}var ef=wo,nf=to,rf=fo;function of(t,e){if(ef(t)){var n=t.colorStops,r=e&&1!==e?rf(nf(n).reverse(),function(t){var n=t.offset;return{color:t.color,offset:1-n*(1-e)}}):[];t.colorStops=rf(n,function(t){var n=t.offset;return{color:t.color,offset:e?e*n:1-n}}).concat(r)}}function af(t,e){if(t){if(t.hasOwnProperty("fill")&&ef(t.fill)||t.hasOwnProperty("stroke")&&ef(t.stroke)){var n=nf(t);return of(n.fill,e),of(n.stroke,e),n}return t}}function sf(t,e,n){var r=n.onDragStart,i=n.onDragging,o=n.onDragEnd,a=!1,s=void 0;function l(t){a||(a=!0,s=t.target,r&&r(t))}function u(t){a&&(t.target=s,i&&i(t))}function h(t){a&&(t.target=s,o&&o(t),a=!1,s=void 0)}t.on("mousedown",l),e.on("mousemove",u),e.on("mouseup",h),e.on("globalout",h),t.disableDrag=function(){t.off("mousedown",l),e.off("mousedown",u),e.off("mousedown",h)}}var lf=Object.freeze({extendShape:zc,extendPath:function(t,e){return function(t,e){return Eh.extend(qh(t,e))}(t,e)},PathString:function(t,e){return Vh(t,e)},makePath:Lc,makeImage:Oc,mergePath:Dc,resizePath:Pc,subPixelOptimizeLine:Fc,subPixelOptimizeRect:Nc,subPixelOptimize:Rc,setHoverStyle:Zc,formatTextStyle:tf,reverseStyleStops:af,enableDrag:sf,Path:Eh,Group:Cs,Image:Xl,Text:Yh,Circle:$h,Sector:Zh,Ring:Qh,Polygon:ec,Polyline:nc,Rect:ac,Line:lc,D3Line:Cc,BorderRoundRect:yc,BezierCurve:cc,Arc:fc,LinearGradient:dc,RadialGradient:gc,BoundingRect:Ts,colorTool:Qa});function uf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(void 0!==t){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?(n=t,n.replace(/^\s+/,"").replace(/\s+$/,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):"number"==typeof t?t:null==t?NaN:+t;var n}}function hf(t,e,n){if(t&&e)for(var r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return r}function cf(t,e,n){if(t&&e){for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(i);return r}}function ff(t,e){return mo(t)?{width:uf(t[0],e),height:uf(t[1],e)}:{width:uf(t,e),height:uf(t,e)}}function pf(t){return Object.prototype.toString.call(t).slice(8,-1)}function df(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=0,a=t;for(e=e.split(".");o<e.length-1;o++)a[e[o]]=a[e[o]]||{},a=a[e[o]];return"Object"===pf(n)&&r?a[e[o]]=eo(a[e[o]]||{},n,i):a[e[o]]=n,t}function gf(t,e){var n=t,r=0;for(e=e.split(".");r<e.length-1;r++){if(!n[e[r]])return;n=n[e[r]]}return n[e[r]]}var vf=Object.freeze({parsePercent:uf,findAll:function(t,e,n){if(t&&e){for(var r=[],i=0,o=t.length;i<o;i++)e.call(n,t[i],i,t)&&r.push(t[i]);return r}},findIndex:hf,findAllIndex:cf,parseSize:ff,typeOf:pf,setObjectKV:df,getObjectKV:gf,enableClassManagement:yu,$override:Ji,clone:to,merge:eo,mergeAll:function(t,e){for(var n=t[0],r=1,i=t.length;r<i;r++)n=eo(n,t[r],e);return n},extend:no,defaults:ro,createCanvas:oo,getContext:ao,indexOf:so,inherits:lo,mixin:uo,isArrayLike:ho,each:co,map:fo,reduce:function(t,e,n,r){if(t&&e){if(t.reduce&&t.reduce===Zi)return t.reduce(e,n,r);for(var i=0,o=t.length;i<o;i++)n=e.call(r,n,t[i],i,t);return n}},filter:po,find:go,bind:vo,curry:yo,isArray:mo,isFunction:xo,isString:_o,isObject:wo,isBuiltInObject:bo,isTypedArray:function(t){return!!Ui[qi.call(t)]},isDom:So,eqNaN:function(t){return t!=t},retrieve:function(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]},retrieve2:ko,retrieve3:Mo,slice:function(){return Function.call.apply(Xi,arguments)},normalizeCssArray:Ao,assert:function(t,e){if(!t)throw new Error(e)},trim:Io,setAsPrimitive:function(t){t[To]=!0},isPrimitive:Co,createHashMap:function(t){return new Eo(t)},concatArray:function(t,e){for(var n=new t.constructor(t.length+e.length),r=0;r<t.length;r++)n[r]=t[r];var i=t.length;for(r=0;r<e.length;r++)n[r+i]=e[r];return n},noop:function(){}}),yf=function(){function t(){s(this,t),this._shapeMap={},this.group=new Cs}return t.prototype.set=function(e,n){var r=this.group,i=this.getShape(e);return i&&(n instanceof t?r.remove(i.group):r.remove(i)),n instanceof t?(r.add(n.group),n.group.groupShape=n):r.add(n),this._shapeMap[e]=n,n},t.prototype.getShape=function(t,e){var n=this._shapeMap[t];return n&&n instanceof Cs?void 0===e?n:!!(n=n.childOfName(e))&&(n.groupShape?n.groupShape:n):n},t.prototype.eachShape=function(t){co(this._shapeMap,t)},t.prototype.setShape=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.animation,a=i.animateFrom,s=i.duration,l=void 0===s?500:s,u=i.easing,h=void 0===u?"cubicOut":u,c=i.animateList,f=arguments[4],p=this.group,d=this.getShape(e),g=!1;if(o&&void 0===c&&(c=a),d)if(o){var v=mf(c,r),y=mf(c,d._shapeMap?d._shapeMap:d);d.attr(r),d.attr(y),d.animateTo(v,l,h)}else d.attr(r);else if((d=mo(r)?new(Function.prototype.bind.apply(n,[null].concat(r))):new n(r))instanceof t?(p.add(d.group),d.group.groupShape=d):p.add(d),g=!0,o&&a){var m=mf(a,r);d.attr(a),d.animateTo(m,l,h)}return this._shapeMap[e]=d,g&&f&&f(d),d},t.prototype.setShapeGroup=function(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.animation,a=i.animateFrom,s=i.duration,l=void 0===s?500:s,u=i.easing,c=void 0===u?"cubicOut":u,f=i.animateList,p=i.animateLeave,d=arguments[4],g=arguments[5],v=this.group,y=this.getShape(e),m=(r.length,void 0),x=!1;y||(y=new Cs,v.add(y),x=!0);var _,w=function(t,e,n){for(var r={},i=t.length,o=0;o<i;o++){var a=t[o];a._index=o,void 0===a.key?(a.name=o,r[o]=a):(a.name=a.key,r[a.key]=a,delete a.key)}return r}(r),b=(_={},y.eachChild(function(t,e){void 0===t.name?(t.name=e,_[e]=t):_[t.name]=t}),_);return o&&void 0===f&&(f=a),function(t,e){co(e,function(e,n){t[n]?e.action={type:"UPDATE",payload:{oldChild:t[n],index:e._index}}:e.action={type:"CREATE",payload:{index:e._index}},delete e._index}),co(t,function(t,n){e[n]||(e[n]=t,e[n].action={type:"REMOVE",payload:{oldChild:t}})})}(b,w),co(w,function(e,r){var i=e.action,s=i.type,u=i.payload,d=h(e,["action"]);switch(s){case"CREATE":if((m=new n(d))instanceof t?(y.add(m.group),m.group.groupShape=m):y.add(m),o&&a){var v=mo(a)?a[u.index]:to(a),x=mf(v,d);m.attr(v),m.animateTo(x,l,c)}g&&g(m);break;case"UPDATE":if((m=u.oldChild).groupShape&&(m=m.groupShape),o){var _=mo(f)?f[u.index]:f,w=mf(_,d),b=mf(_,m._shapeMap?m._shapeMap:m);m.attr(d),m.attr(b),m.animateTo(w,l,c)}else m.attr(d);break;case"REMOVE":o&&p?u.oldChild.animateTo(p,l,function(){y.remove(u.oldChild)}):y.remove(u.oldChild)}}),this._shapeMap[e]=y,x&&d&&d(y),y},t.prototype.removeShape=function(t){var e=this.getShape(t);e&&(this.group.remove(e.group?e.group:e),delete this._shapeMap[t])},t.prototype.remove=function(){for(var t in this.group.removeAll(),this.group.dirty(),this._shapeMap){var e=this._shapeMap[t];e.group?e.group.off():e.off(),delete this._shapeMap[t]}},t}();function mf(t,e){if(wo(t)){var n=mo(t)?[]:{};for(var r in t)wo(t[r])?e[r]&&(n[r]=mf(t[r],e[r])):n[r]=e[r];return n}return e}var xf={viewDidRenderAfterSetOption:"VIEW_DID_RENDER_AFTER_SET_OPTION",viewDidRender:"VIEW_DID_RENDER"},_f={titleClick:"TITLE_CLICK"},wf={move:"AXIS_MOVE",out:"AXIS_OUT",zoomChange:"AXIS_ZOOM_CHANGED",domainChange:"AXIS_DOMAIN_CHANGED"},bf={move:"RADAR_AXIS_MOVE",out:"RADAR_AXIS_OUT"},Sf={over:"GEO_AXIS_OVER",out:"GEO_AXIS_OUT",itemClick:"GEO_AXIS_ITEM_CLICK"},kf={move:"AXISPOINTER_MOVE",out:"AXISPOINTER_OUT",before:"BEFORE_AXISPOINTER_MOVE",after:"AFTER_AXISPOINTER_MOVE"},Mf={start:"ZOOM_MOVE_START",moving:"ZOOM_MOVING",end:"ZOOM_MOVE_END",wheel:"ZOOM_WHEEL",change:"ZOOM_CHANGE"},Af={itemClick:"ITEM_CLICK",dblClick:"DBL_CLICK",selectedListChange:"SELECTEDLIST_CHANGE",mouseover:"ITEM_MOUSEOVER",mouseout:"ITEM_MOUSEOUT",mousemove:"ITEM_MOUSEMOVE"},If={click:"LEGEND_CLICK",mouseover:"LEGEND_MOUSEOVER",mouseout:"LEGEND_MOUSEOUT",mousemove:"LEGEND_MOUSEMOVE"},Tf={showLabel:"LABEL",markerClick:"LABEL_NAME",itemClick:"ITEM_CLICK",mouseout:"ITEM_MOUSEOUT",mouseover:"ITEM_MOUSEMOVE"},Cf={pointMousemove:"MARKPOINT_MOUSEMOVE",pointMouseout:"MARKPOINT_MOUSEOUT",pointMouseover:"MARKPOINT_MOUSEOVER",pointClick:"MARKPOINT_CLICK"},Ef={lineMousemove:"MARKLINE_MOUSEMOVE",lineMouseout:"MARKLINE_MOUSEOUT",lineMouseover:"MARKLINE_MOUSEOVER",lineClick:"MARKLINE_CLICK"},zf={nodeClick:"NODE_CLICK",nodeMouseover:"NODE_MOUSEOVER",nodeMousemove:"NODE_MOUSEMOVE",nodeMouseout:"NODE_MOUSEOUT",edgeClick:"EDGE_CLICK",edgeMouseover:"EDGE_MOUSEOVER",edgeMousemove:"EDGE_MOUSEMOVE",edgeMouseout:"EDGE_MOUSEOUT"},Lf={itemClick:"ITEM_CLICK"},Of={nodeClick:"FOCUS_NODE",linkClick:"FOCUS_EDGE"},Df={willUpdate:"MODEL_WILL_UPDATE",didUpdate:"MODEL_DID_UPDATE"},Pf={didRender:"VIEW_DID_RENDER"},Ff={update:"PROVIDER_UPDATE"},Nf={update:"POOL_UPDATE"},Rf=Object.freeze({markPointActions:Cf,markLineActions:Ef,dataProviderActions:Ff,dataPoolActions:Nf,titleActions:_f,axisActions:wf,radarAxisActions:bf,axisPointerActions:kf,dataZoomActions:Mf,seriesActions:Af,legendActions:If,geoActions:Tf,geoAxisActions:Sf,dagrexActions:zf,sketchActions:Lf,forceActions:Of,viewActions:Pf,modelActions:Df,instanceActions:xf}),Bf="view",Wf=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=Bf,o._lastUpdateTag=void 0,o.setRoam(n,r,i),o}return u(e,t),e.prototype.zoomable=function(t,e,n){var r=!(t.get("roam")||{}).enable;t.set({roam:{enable:r}})},e.prototype.setRoam=function(t,e,n){var r=this,i=t.get("roam")||{},o=e.get("roam"),a=e.get("preventDefaultMouseWheel");eo(i,o);var s=void 0;if(i.inGrid){var l=t.get("$gridIndex");s=e.getComponentByIndex("grid",l)}n.on("mousewheel",function(t){var e=t.event,n=t.offsetX,o=t.offsetY,l=t.wheelDelta;i.inGrid||s&&!s.isPointInGrid(n,o)||!i.enable||r.scale(n,o,l,i),a&&e.preventDefault&&e.preventDefault()}),n.on("pinch",function(t){t.offsetX,t.offsetY;var e=t.pinchX,n=t.pinchY;s&&!s.isPointInGrid(e,n)||!i.enable||r.scale(e,n,t.pinchScale-1,i)}),this._roaming=!1;var u=void 0,h=void 0,c=void 0;n.on("mousedown",function(t){var e=t.offsetX,n=t.offsetY,o=t.target;if((!s||s.isPointInGrid(e,n))&&i.enable){var a=r.group;if(!a||!i.onTarget&&o)return;r._roaming=!0,u=e,h=n,c=[a.position[0],a.position[1]]}}),n.on("mousemove",function(t){var e=t.offsetX,o=t.offsetY;if(r._roaming){var a=r.group,s=0,l=0;if(i.horiDrag&&(s=e-u),i.vertiDrag&&(l=o-h),i.inGrid){var f=a.getBoundingRect(),p=n.getWidth(),d=n.getHeight();s=Math.max(-f.x,Math.min(p-f.width-f.x,c[0]+s)),l=Math.max(-f.y,Math.min(d-f.height-f.y,c[1]+l))}else s+=c[0],l+=c[1];a.attr({position:[s,l]})}}),n.on("mouseup",function(t){r._roaming=!1}),this.roam=i},e.prototype.scale=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=this.group;if(i){var o=.1*n+1,a=i.getLocalTransform(),s=r.scaleMax||1/0,l=r.scaleMin||-1/0;a[0]*o<=s&&a[3]*o<=s&&a[3]*o>=l&&a[3]*o>=l&&(ga(a,a,[-t,-e]),va(a,a,[o,o]),ga(a,a,[t,e]),i.transform=a,i.decomposeTransform(),i.dirty())}},e.prototype.updateZ=function(t){var e=t.get("z"),n=t.get("zlevel");this.group.traverse(function(t){"group"!==t.type&&(!isNaN(e)&&(t.z=e),!isNaN(n)&&(t.zlevel=n))})},e.prototype.__render=function(t,e,n){this._lastUpdateTag!==t._updateTag&&(this.render(t,e,n),this.updateZ(t),this._lastUpdateTag=t._updateTag,t.get("enableEdit")?this.renderEdit(t,e,n):this.removeEdit(),n.dispatchAction(t,Pf.didRender,{model:t,view:this}))},e.prototype.render=function(t,e,n){},e.prototype.renderEdit=function(t,e,n){},e.prototype.removeEdit=function(){var t=this;this.eachShape(function(e,n){0===n.indexOf("_edit_")&&(e.disableDrag&&e.disableDrag(),t.removeShape(n))})},e.prototype.remove=function(){var e;(e=t.prototype.remove).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))},e}(yf);Wf.type=Bf;var jf=yu(Wf),Gf="chart",Hf=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Gf,c(r,n)}return u(e,t),e.prototype.highlight=function(t,e,n,r){},e.prototype.downplay=function(t,e,n,r){},e}(jf);Hf.type=Gf;var Uf=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.type=n.constructor.type,n}return u(e,t),e}(jf);Uf.type="component";var qf={dependentWillUpdate:"DEPENDENT_WILL_UPDATE",seriesWillUpdate:"SERIES_WILL_UPDATE",dataUpdate:"DATA_UPDATED",setOption:"SET_OPTION",mergeOption:"MERGE_OPTION"},Vf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],r=arguments[2],i=arguments[3];s(this,t),this.__dirty=!0,this._updateTime=0,this.option=e,this.parentModel=n,this.globalModel=r,this.global=i}return t.prototype.dirty=function(t){var e=this.globalModel;return!(t&&!this.shouldModelDirty(t,this,e))&&(this.__dirty=!0,e&&e!==this&&e.dirty(this,t),!0)},t.prototype.shouldModelDirty=function(t,e,n){return!0},t.prototype.update=function(){},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.__update=function(t){(this.isDirty()||t)&&(this.global.dispatchAction(this,Df.willUpdate,{model:this,option:this._option},!1),this.beforeUpdate(t),this.update(t),this.__dirty=!1,this._updateTag=++this._updateTime+"|"+this.id,this.global.dispatchAction(this,Df.didUpdate,{model:this,option:this._option},!1),this.afterUpdate(t))},t.prototype.isDirty=function(){return this.__dirty},t.prototype.get=function(t){return t?this._option[t]:this._option},t.prototype.set=function(t,e){var n;!_o(t)||this._option[t]===e&&"object"!==(void 0===e?"undefined":a(e))?wo(t)&&(eo(this._option,t,!0),this.dirty({type:qf.mergeOption,payload:t})):(this._option[t]=e,this.dirty({type:qf.setOption,payload:(n={},n[t]=e,n)}))},t}();"undefined"!=typeof navigator&&navigator.platform;var Yf={textStyle:{fontFamily:"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},roam:{enable:!1,inGrid:!1,horiDrag:!0,vertiDrag:!0},backgroundColor:void 0,preventDefaultMouseWheel:!0,animation:!0,animationDuration:500,animationEasing:"cubicOut"},$f=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Xf=function(t){function e(n,r,i,o,a){s(this,e);var l=c(this,t.apply(this,arguments));for(var u in l.__dataDirty=!0,a)l[u]=a[u];var h=n.data,f=n.originData;return delete n.data,delete n.originData,l.option=to(l.option),void 0!==h&&(n.data=l.option.data=h),void 0!==f&&(n.originData=l.option.originData=f),l.formatOption(l.option),l._option=eo(l.option,l.constructor.defaultOption,!1),l}return u(e,t),e.prototype.formatOption=function(t){var e=this.constructor.emphasisList,n=t.emphasis||{};e&&co(e,function(e){var r=t[e];r?r.normal||r.emphasis||(r.style&&(r.style.normal||r.style.emphasis)?(r.style.normal&&(t[e]={normal:l({},r,{style:r.style.normal})}),r.style.emphasis&&(t[e].emphasis=l({},r,{style:r.style.emphasis}))):(t[e]={normal:r},n[e]&&(t[e].emphasis=n[e]))):n[e]&&(t[e]={emphasis:n[e]})})},e.prototype.getAxisModel=function(t){var e=this.globalModel,n=this.get("$axisIndex"),r=void 0;if(mo(n))co(n,function(n){var i=e.getComponentByIndex("axis",n);i&&i.get("xOrY")===t&&(r=i)});else if(void 0!==n){var i=e.getComponentByIndex("axis",n);i&&i.get("xOrY")===t&&(r=i)}return r},e.prototype.updateData=function(){var t=this.get("data"),e=this.get("$dataIndex"),n=!0;if(void 0!==e){var r=this.globalModel.getComponentByIndex("data",e),i=this.get("dataKey"),o=r.getData(i);o?this._data=o:n=!1}else if(void 0!==t){var a=t.dataIndex;if(void 0===a)this._data=t;else{var s=this.globalModel.getComponentByIndex("data",a);this._data=s.getData(t.key)}}else n=!1,this.__dataDirty=!1;n&&(this.formatData&&(this._data=this.formatData(this._data)),this.__dataDirty=!1,this.dirty({type:qf.dataUpdate,payload:{}}))},e.prototype.getData=function(t){if(void 0!==this._data)return void 0===t?this._data:this._data[t]},e.prototype.getRealData=function(t){var e=this.data||this._data;if(void 0!==e)return void 0===t?e:e[t]},e.prototype.dataDirty=function(t){return this.__dataDirty=!0,!0},e.prototype.isDataDirty=function(){return this.__dataDirty},e.prototype.get=function(t){return t?void 0!==Yf[t]&&void 0===this.option[t]?this.globalModel.get(t):this._option[t]:this._option},e.prototype.set=function(e,n){"data"===e&&this.dataDirty(),t.prototype.set.call(this,e,n)},e}(Vf);Xf.type="component",Xf.emphasisList=void 0;var Kf=yu(Xf),Zf="series",Qf=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.type=Zf,n.global.registerAction(n,Af.unselected,function(){n.onUnSelected&&n.onUnSelected()}),n}return u(e,t),e.prototype.getSeriesColor=function(t){var e=void 0,n=void 0;if(arguments.length&&this.get("name")!==t){var r=this.findDataNamed(t);r&&(e=r.itemStyle,n=r.color)}else e=this.get("itemStyle"),n=this.get("color");return n||(e&&e.normal?e.normal.stroke||e.normal.fill:void 0)},e.prototype.findDataNamed=function(t){var e=this.getData();if(wo(e)&&!mo(e)){var n=e.values||e.value||e.data;void 0!==n&&(e=n),!mo(e)&&(e=[e])}return function(t,e){return go(t,function(t){return t.name===e})}(e,t)},e.prototype.getDataExtent=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=this.getData();function o(t){if(t){var e="x"===t.get("xOrY")?0:1;if("ordinal"===t.getAxisType()){var n=t.startIndex,r=t.endIndex;i=po(i,function(t){return t[e]>=n&&t[e]<=r})}else{var o=t.domain[0],a=t.domain[1];i=po(i,function(t){return t[e]>=o&&t[e]<=a})}}}r&&(o(this.getAxisModel("x")),"scatter"===this.get("type")&&o(this.getAxisModel("y")));var a=i.length;if("average"===t){for(var s=0,l=0;l<a;l++){var u=i[l][e];mo(u)&&(u=u[n]),s+=u}return s/a}if("left"===t||"right"===t){var h="left"===t?0:a-1,c=i[h][e];mo(c)&&(c=c[n]);var f=c;return[i[h],f]}for(var p="max"===t,d=p?-1/0:1/0,g=void 0,v=0;v<a;v++){var y=i[v][e];mo(y)&&(y=y[n]),p?d<y&&(d=y,g=v):d>y&&(d=y,g=v)}return[i[g],d]},e.prototype.getData=function(){var e,n=(e=t.prototype.getData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)));if(arguments.length)return n;var r=this.get("$visualMapIndex"),i=this.globalModel.getComponentByIndex("visualMap",r);if(i){var o=this.get("$geoIndex"),a=this.get("$calendarIndex"),s=this.get("$axisIndex");return void 0!==o?fo(n,function(t){return i.isInRange(t[2])?t:null}):void 0!==a?fo(n,function(t){return i.isInRange(t[1])?t:null}):void 0!==s?["scatter","heatmap"].indexOf(this.get("type"))>-1?fo(n,function(t){return i.isInRange(t[2])?t:null}):fo(n,function(t){return i.isInRange(t[1])?t:null}):n}return n},e}(Kf);Qf.type=Zf,qp(Qf);var Jf=Eh.extend({type:"lineCircle",shape:{cx:0,cy:0,r:0,angle:-45,step:3},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.r,o=e.angle,a=e.step;o=o/180*Math.PI;var s=Math.tan(o),l=a/Math.cos(o+Math.PI/2);function u(e){for(var n=0,r=0;n<i;){var o=1+Math.pow(s,2),l=2*s*r,u=Math.pow(i,2)-Math.pow(r,2),h=Math.pow(l,2)/4/Math.pow(o,2)+u/o,c=Math.sqrt(h)-l/2/o,f=-Math.sqrt(h)-l/2/o,p=s*c+r,d=s*f+r;t.moveTo(c,p),t.lineTo(f,d),r+=e,n+=a}}t.arc(n,r,i,0,2*Math.PI,!0),u(l),u(-l)}}),tp=zc({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r+o),t.lineTo(n-i,r+o),t.closePath()}}),ep=zc({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.width/2,o=e.height/2;t.moveTo(n,r-o),t.lineTo(n+i,r),t.lineTo(n,r+o),t.lineTo(n-i,r),t.closePath()}}),np=zc({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width/5*3,o=Math.max(i,e.height),a=i/2,s=a*a/(o-a),l=r-o+a+s,u=Math.asin(s/a),h=Math.cos(u)*a,c=Math.sin(u),f=Math.cos(u);t.arc(n,l,a,Math.PI-u,2*Math.PI+u);var p=.6*a,d=.7*a;t.bezierCurveTo(n+h-c*p,l+s+f*p,n,r-d,n,r),t.bezierCurveTo(n,r-d,n-h+c*p,l+s+f*p,n-h,l+s),t.closePath()}}),rp=zc({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,r=e.width,i=e.x,o=e.y,a=r/3*2;t.moveTo(i,o),t.lineTo(i+a,o+n),t.lineTo(i,o+n/4*3),t.lineTo(i-a,o+n),t.lineTo(i,o),t.closePath()}}),ip={line:lc,rect:ac,roundRect:ac,square:ac,circle:$h,diamond:ep,pin:np,arrow:rp,triangle:tp,lineCircle:Jf},op={line:function(t,e,n,r,i,o){o.offsetPoint?(i.x1=t,i.y1=e,i.x2=t+o.offsetPoint[0],i.y2=e+o.offsetPoint[1]):(i.x1=t,i.y1=e+r/2,i.x2=t+n,i.y2=e+r/2)},rect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r},roundRect:function(t,e,n,r,i){i.x=t,i.y=e,i.width=n,i.height=r,i.r=Math.min(n,r)/4},square:function(t,e,n,r,i){var o=Math.min(n,r);i.x=t,i.y=e,i.width=o,i.height=o},circle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2},diamond:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},pin:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},arrow:function(t,e,n,r,i){i.x=t+n/2,i.y=e+r/2,i.width=n,i.height=r},triangle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.width=n,i.height=r},lineCircle:function(t,e,n,r,i){i.cx=t+n/2,i.cy=e+r/2,i.r=Math.min(n,r)/2}},ap={};for(var sp in ip)ip.hasOwnProperty(sp)&&(ap[sp]=new ip[sp]);var lp=zc({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var r=e.symbolType;if(0===r.indexOf("path://")){this.lastSymbolType;var i=this.lastShape;for(var o in e)if(!i||e[o]!=i[o]){this.proxyPath=Lc(r.slice(7),{},new Ts(e.x,e.y,e.width,e.height),!1!==e.center&&"center"),this.lastSymbolType=r,this.lastShape=to(e);break}t.data=t.data||[],this.proxyPath.buildPath(t)}else if(0===r.indexOf("image://")){this.lastSymbolType;var a=this.lastShape;for(var s in e)if(!a||e[s]!=a[s]){this.proxyPath=Oc(r.slice(8),new Ts(e.x,e.y,e.width,e.height),!1!==e.center&&"center"),this.lastSymbolType=r,this.lastShape=to(e);break}t.data=t.data||[],this.proxyPath.brush(t._ctx,this.lastShape)}else{var l=ap[r];"none"!==e.symbolType&&(l||(l=ap[r="rect"]),op[r](e.x,e.y,e.width,e.height,l.shape,e),l.buildPath(t,l.shape,n))}},setColor:up});function up(t){if("image"!==this.type){var e=this.style,n=this.shape;n&&"line"===n.symbolType?e.stroke=t:this.__isEmptyBrush?(e.stroke=t,e.fill="#fff"):(e.fill&&(e.fill=t),e.stroke&&(e.stroke=t)),this.dirty(!1)}}var hp=zc({type:"largeSymbol",shape:{points:[]},buildPath:function(t,e,n){var r=this;co(e.points,function(e){lp.prototype.buildPath.call(r,t,e,!0)})}}),cp=Object.freeze({createSymbol:function(t,e,n,r,i,o){var a,s=0===t.indexOf("empty");return s&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(a=0===t.indexOf("image://")?new Xl({style:{image:t.slice(8),x:e,y:n,width:r,height:i}}):0===t.indexOf("path://")?Lc(t.slice(7),{},new Ts(e,n,r,i)):new lp({shape:{symbolType:t,x:e,y:n,width:r,height:i}})).__isEmptyBrush=s,a.setColor=up,a.setColor(o),a},Symbol:lp,LargeSymbol:hp}),fp="global",pp=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=fp,r._option={},r._componentsMap={},c(r,n)}return u(e,t),e.prototype.setOption=function(t){var e=this,n=this._componentsMap,r=this.global;t=l({},t),this._option=eo(t,to(Yf),!1),co(t,function(t,i){if(Kf.hasClass(i)){var o="series"===i;n[i]=[],!mo(t)&&(t=[t]),co(t,function(t,a){var s=t.id,l=t.name,u=t.type,h=void 0,c=void 0,f=o?u:i;(h=Kf.getClass(f))&&((c=new h(t,e,e,r,{id:i+"_"+a+"_"+(o?u:" ")+"_"+(s||l||" "),index:a})).type=f,n[i][a]=c)})}else Yf.hasOwnProperty(i)}),this._afterSetOption()},e.prototype.clear=function(){this._componentsMap={}},e.prototype._afterSetOption=function(){this._setDepAndSup(),this._setAxisIndex(),this.updateData(),this._setSeriesSelected(),this.dirty()},e.prototype._setDepAndSup=function(){var t=this;if(!this.global.isError()){var e=this._componentsMap,n=(this.global,/^\$(.*)Index$/),r={};for(var i in this.eachComponent("series",function(e){var n=e._option.$axisIndex;if(n&&2===n.length){var r=t.getComponentByIndex("axis",n[0]),i=t.getComponentByIndex("axis",n[1]);r&&i&&("y"===r.get("xOrY")?r._option.$axisIndex=n[1]:i._option.$axisIndex=n[0])}}),this.eachComponent(function(e,i,o){var a={},s={};co(i._option,function(i,s){var l=s.match(n);if(l&&void 0!==i){if(mo(i))i=fo(i,function(e){if(_o(e)){var n=t.getComponentById(l[1],e);return n?n.index:e}return e});else if(_o(i)){var u=t.getComponentById(l[1],i);u&&(i=u.index)}a[l[1]]=i,!r[l[1]]&&(r[l[1]]=[]),mo(i)?co(i,function(t){!r[l[1]][t]&&(r[l[1]][t]={}),!r[l[1]][t][e]&&(r[l[1]][t][e]=[]),r[l[1]][t][e].push(o)}):(!r[l[1]][i]&&(r[l[1]][i]={}),!r[l[1]][i][e]&&(r[l[1]][i][e]=[]),r[l[1]][i][e].push(o))}}),co(a,function(e,n){mo(e)?s[n]=fo(e,function(e){return t.getComponentByIndex(n,e)}):s[n]=t.getComponentByIndex(n,e)}),i.dependencies=a,i.dependentModels=s},!1),r)for(var o=r[i].length;o--;)if(r[i][o]){if(!e[i]||!e[i][o]){return co(r[i][o],function(t,e){e+"["+t.toString()+"], "}),void(""+i+"["+o+"]setOption")}e[i][o].supports=r[i][o]}}},e.prototype._setAxisIndex=function(){this.global.isError()||this.eachComponent("series",function(t){var e=t.getAxisModel("x");if(e){t.axisIndex=e.index;var n=t.getAxisModel("y");if(n){var r=t.get("stack"),i=t.get("overlap");t.axisIndex+="/"+(r?r+"-"+n.index:"_"),t.axisIndex+="/"+(i?i+"-"+n.index:"_")}}})},e.prototype._setSeriesSelected=function(){var t=this;this.global.isError()||this.eachComponent("series",function(e){t.eachComponent("legend",function(t){var n=t.get("selected");n?co(n,function(t,n){e.get("name")===n?e._option.selected=t:e.findDataNamed(n)&&(!e._option.selected&&(e._option.selected={}),e._option.selected[n]=t)}):co(t.get("data"),function(t){e.get("name")===t?e._option.selected=!0:e.findDataNamed(t)&&(!e._option.selected&&(e._option.selected={}),e._option.selected[t]=!0)})})})},e.prototype.updateData=function(t){if(!this.global.isError()){var e=this._componentsMap;t?"data"===t.type&&t.isDirty()&&(t.__update(),function t(e,n){co(n,function(n,r){for(var i=n.length;i--;){var o=e[r][n[i]];o&&o.isDataDirty()&&("data"===o.type?(o.__update(),t(e,o.supports)):o.updateData())}})}(e,t.supports)):(this.eachComponent("data",function(t){t.isDirty()&&(gp(e,t.dependencies,t.type,t.index,!0),t.__update())}),this.eachComponent(function(t,e){"data"!==t&&e.isDataDirty()&&e.updateData()}))}},e.prototype.beforeUpdate=function(){this._setSeriesIndex("bar"),this._setSeriesIndex("line"),this._setStackData()},e.prototype._setSeriesIndex=function(t){if(!this.global.isError()){var e={},n={};this.eachComponent("series",function(r){if(r.type===t&&void 0!==r.axisIndex){var i=r.get("overlap"),o=r.get("stack"),a=r.axisIndex,s=t+"Index",l=t.slice(0,1).toUpperCase()+t.slice(1),u=r.getAxisModel("y");if(u){var h=u.get("$gridIndex"),c=n[h]=n[h]||{};!e[h]&&(e[h]=0),o||i?void 0===c[a]&&(c[a]=e[h]++):c[a]=e[h]++,r["last"+l+"Index"]=r[s],r[s]=c[a]}}}),this.eachComponent("series",function(n){if(n.type===t){var r=n.getAxisModel("y");if(r){var i=r.get("$gridIndex"),o=t.slice(0,1).toUpperCase()+t.slice(1);!1===n.get("selected")?(n["last"+o+"Total"]=void 0,n[t+"Total"]=void 0):(n["last"+o+"Total"]=n[t+"Total"],n[t+"Total"]=e[i])}}},!1)}},e.prototype._setStackData=function(){if(!this.global.isError()){var t={},e={},n=[];this.eachComponent("series",function(t){var e=t.getData();if(t.get("stack")&&!1!==t.get("selected")&&e)if(n.length){var r=[],i=void 0,o=void 0;for(i=0,o=0;i<e.length&&o<n.length;){var a=e[i][0],s=n[o];a<s?(r.push(e[i][0]),i++):a===s?(r.push(e[i][0]),i++,o++):(r.push(n[o]),o++)}for(;i<e.length;)r.push(e[i][0]),i++;for(;o<n.length;)r.push(n[o]),o++;n=r}else n=fo(e,function(t){return t[0]})}),this.eachComponent("series",function(r){var i=r.get("stack");if(i){var o=r.getData();if(r._stackName=i=i+"|"+r.axisIndex,!t[i]&&(t[i]=[]),r.get("stackByPercent")&&(e[i]=!0),!1===r.get("selected")||!o)return void(r.stackTotal=void 0);var a=t[i],s=a.length,l=[],u=[],h=void 0,c=void 0;for(h=0,c=0;h<o.length&&c<n.length;){var f=o[h][0],p=n[c];f<p?(u.push(o[h]),h++):f===p?(u.push(o[h]),h++,c++):(0===h?u.push([n[c],0]):u.push([n[c],o[h-1][1]]),c++)}for(;c<n.length;)0===h?u.push([n[c],0]):u.push([n[c],o[h-1][1]]),c++;if(s)l=fo(a[s-1],function(t,e){var n=0;if(u[e][1]>=0){for(var r=a.length;r--;)if(a[r][e][1][1]>=0){n=a[r][e][1][1];break}}else for(var i=a.length;i--;)if(a[i][e][1][1]<0){n=a[i][e][1][1];break}return[t[0],[n,n+("number"==typeof u[e][1]?u[e][1]:0)],u[e]]});else l=fo(u,function(t){return[t[0],[0,"number"==typeof t[1]?t[1]:0],t]});a.push(l),r.lastStackIndex=r.stackIndex,r.stackIndex=s,r.stackData=l}},!1),this.eachComponent("series",function(n){var r=n._stackName;if(r){if(e[r]){var i=t[r][t[r].length-1],o=n.stackData;n.stackData=fo(o,function(t,e){return[t[0],[t[1][0]/i[e][1][1],t[1][1]/i[e][1][1]],t[2],Math.abs(t[1][0]-t[1][1])/i[e][1][1]]}),n._stackByPercent=!0}n.lastStackTotal=n.stackTotal,n.stackTotal=t[r].length}})}},e.prototype.update=function(t){if(!this.global.isError()){var e=this._componentsMap;t&&this.eachComponent(function(t,e){e.__dirty=!0}),this.eachComponent(function(t,n){n.isDirty()&&!n.isPending&&(gp(e,n.dependencies,n.type,n.index),n.__update())})}},e.prototype.dirty=function(t,e){if(!this.global.isError()){var n=this._componentsMap;if(t&&("data"===t.type?(vp(n,t,e,"dataDirty"),this.updateData(t)):(t.isDataDirty()&&t.updateData(),vp(n,t,e)),t instanceof Qf&&t.get("$axisIndex"))){var r=t.getAxisModel("x"),i=t.getAxisModel("y"),o={type:qf.seriesWillUpdate,payload:{series:t,action:e}};r&&!r.isDirty()&&r.dirty(o),i&&!i.isDirty()&&i.dirty(o)}this.__dirty=!0}},e.prototype.eachComponentType=function(t,e){co(this._componentsMap,function(n,r){t.call(e,r,dp(n))})},e.prototype.eachComponent=function(t,e,n,r){var i=this._componentsMap;"function"==typeof t?(r=n,n=void 0===e||e,e=t,co(i,function(t,i){co(n?dp(t):t,function(t,n){e.call(r,i,t,n)})})):_o(t)&&(void 0===n&&(n=!0),co(n?dp(i[t]):i[t],e,r))},e.prototype.getComponentByIndex=function(t,e){return"string"==typeof e?this.getComponentById(t,e):this._componentsMap[t]&&this._componentsMap[t][e]},e.prototype.getComponentByName=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.getComponent(t,function(t){return t.get("name")===e},n)},e.prototype.getComponentById=function(t,e){return this.getComponent(t,function(t){return t.get("id")===e},!1)[0]},e.prototype.getSeriesByAxis=function(t){var e=this;return po(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]?dp(this._componentsMap.series):this._componentsMap.series,function(n){var r=n.get("$axisIndex"),i=n.get("$radarAxisIndex");if(void 0!==r){!mo(r)&&(r=[r]);for(var o=0;o<r.length;o++){var a=e.getComponentByIndex("axis",r[o]);if(a&&a.index===t)return!0}}if(void 0!==i){!mo(i)&&(i=[i]);for(var s=0;s<i.length;s++){var l=e.getComponentByIndex("radarAxis",i[s]);if(l&&l.index===t)return!0}}})},e.prototype.getComponent=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return po(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?dp(this._componentsMap[t]):this._componentsMap[t],e)},e.prototype.getSeriesByName=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.getComponent("series",function(e){return e.get("name")===t},e)},e.prototype.getFormattedText=function(t){var e=t.style?t.style:t,n=this.get("textStyle");return e.color&&!e.fill&&(e.fill=e.color),co(n,function(t,n){void 0===e[n]&&(e[n]=t)}),e.color&&!e.fill&&(e.fill=e.color),e=tf(e),t},e}(Vf);function dp(t){return po(t,function(t){return!(t instanceof Qf)||!1!==t.get("selected")})}function gp(t,e,n,r,i){co(e,function(e,n){if(mo(e))for(var r=e.length;r--;){var o=t[n]&&t[n][e[r]];o&&o.isDirty()&&(gp(t,o.dependencies,o.type,o.index,i),i&&o.updateData(),!o.isPending&&o.__update())}else{var a=t[n]&&t[n][e];a.isDirty()&&(gp(t,a.dependencies,a.type,a.index,i),i&&a.updateData(),!a.isPending&&a.__update())}})}function vp(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"dirty",i=e.supports,o={type:qf.dependentWillUpdate,payload:{dependent:e,action:n}};co(i,function(e,n){for(var i=e.length;i--;){var a=t[n][e[i]];a&&!a["dirty"===r?"isDirty":"isDataDirty"]()&&a[r](o)&&vp(t,a,o,r)}})}pp.type=fp;var yp=function(){function t(){s(this,t)}return t.prototype.getShape=function(t){},t.prototype.getDrawData=function(t){t.name,t.xScale,t.yScale,t.data,t.model},t}();yp.type="indicatorBase";var mp=yu(yp),xp="0.4.20",_p=function(){var t=!1;if("undefined"!=typeof wx&&wx.request&&wx.getSystemInfoSync){var e=wx.getSystemInfoSync();t=e&&e.version}return t}(),wp=function(){this.id=0,this.ld=this.getLd();try{"undefined"!=typeof external&&void 0!==external.createObject&&(this.ld="client")}catch(t){}var t="undefined"!=typeof document&&"https:"==document.location.protocol?"https:":"http:";this._top=!0,"undefined"!=typeof screen&&(this.size=screen.width+"x"+screen.height),this._base=t+"//stat.10jqka.com.cn/q?",this._sid="__ths_stat__",this._imgs={}};wp.prototype.getLd=function(){if(_p)return"wx";var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("android")?"mobile":-1!=t.indexOf("iphone")?"mobile":-1!=t.indexOf("ipad")?"mobile":"browser"},wp.prototype._navigate=function(t){if(_p)wx.request({url:t});else{var e=this._imgs[this._sid];e||(e=new Image(0,0),this._imgs[this._sid]=e),e.src=t}},wp.prototype.add=function(t,e){if(t&&e)this.id=t,this.ld=e;else if(t instanceof Object)for(var n in t)this[n]=t[n];else t&&(this.id=t)},wp.prototype._setLocation=function(){if(!_p){if(this._top&&top)try{this.ref||(this.ref=top.document.referrer),this.url||(this.url=top.location.href)}catch(t){}this.ref||(this.ref=document.referrer?document.referrer:null),this.url||(this.url=window.location.href),document.body&&(this.cs=document.body.clientWidth+"x"+document.body.clientHeight),this.ts=(new Date).getTime()}},wp.prototype._getUrl=function(){this._setLocation();var t=[];for(var e in this)e&&"_"!=e.charAt(0)&&this[e]&&"function"!=typeof this[e]&&(t.length&&t.push("&"),t=t.concat([encodeURIComponent(e),"=",encodeURIComponent(this[e])]));return this._base+t.join("")},wp.prototype.log=function(){this._navigate(this._getUrl())};var bp=!0;var Sp={},kp=[];function Mp(t,e,n){arguments.length>3&&void 0!==arguments[3]&&arguments[3]?kp.push(t):co(t,function(t,r){if("series"===r){if(e.hasClass&&e.hasClass(r))if(mo(t)){var i=[];co(t,function(t){var e=t.aliasType||t.type;Sp[e]||(Sp[e]=0);var n=!1;go(i,function(t){t===e&&(n=!0)}),n||(i.push(e),Sp[e]++)})}else{var o=t.aliasType||t.type;Sp[o]||(Sp[o]=0),Sp[o]++}}else n.hasClass(r)&&(Sp[r]||(Sp[r]=0),Sp[r]++)})}var Ap,Ip,Tp,Cp=(Ap=function(t){if(bp){var e="";t&&t.datavTrackId&&(e=t.datavTrackId+"."),function(){var t=new wp;t.add.apply(t,arguments),t.log()}({_sid:e+"iwencai_datav_d3charts.load",id:e+"iwencai_datav_d3charts.load",datavIwencai:"iwencai_datav_d3charts.load",version:xp,widgetN:(n="",kp.length&&co(kp,function(t){var e="hqd"+t.type+(t.dType||"");Sp[e]||(Sp[e]=0),Sp[e]++}),co(Sp,function(t,e){n+=e+"-"+t+"|"}),n=n.slice(0,-1)),fid:"iwencai_datav"})}var n},Ip=3e3,Tp=null,function(t){clearTimeout(Tp),Tp=setTimeout(function(){Ap(t)},Ip)}),Ep=_o,zp=co,Lp=hf,Op=xo,Dp="__",Pp={},Fp=new Date-0,Np=new Yo,Rp=xf,Bp=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","mousewheel","pinch","contextmenu"],Wp=function(t){function e(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s(this,e),Cp(i);var o=c(this,t.apply(this,arguments));o.id=Dp+Fp++,o._viewMap={},o._model=void 0,o.isEnableEdit=!1,o.isEnableSketch=!1,o._dom=Ep(n)?document.getElementById(n):n;var a=o._zr=du(o._dom,i);return i.backgroundColor&&a.setBackgroundColor(i.backgroundColor),o._model=new pp(null,null,null,o),o._actionQueue=[],o.initEvents(),a.animation.on("frame",function(){if(!this.isError())try{for(var t=this._actionQueue;t.length;){var e=t.shift();this.trigger(e[0],e[1])}this._model.isDirty()&&this.update()}catch(t){throw this.error(),t}},o),o}return u(e,t),e.prototype.initEvents=function(){var t=this;zp(Bp,function(e){t._zr.on(e,function(n){t.trigger(e,n)})})},e.prototype.setOption=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Mp(t,Qf,Kf),this.clear(),this._model.setOption(t),this.toggleEdit(this.isEnableEdit),function(){var t=this;this._model.eachComponent(function(e,n){jp.call(t,n)})}.call(this),this.__AFTER_SET_OPTION=!0,e||this.update(!1,n),this},e.prototype.update=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._model.__update(t),function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._viewMap,r=this._model;r.eachComponent(function(e,i){var o=n[i.id];jf.getClass(i.type)&&(o||(o=jp.call(t,i)),o.__render(i,r,t))}),this.__AFTER_SET_OPTION&&(this.__AFTER_SET_OPTION=!1,e[Rp.viewDidRenderAfterSetOption]&&e[Rp.viewDidRenderAfterSetOption](),this.trigger(Rp.viewDidRenderAfterSetOption));this.trigger(Rp.viewDidRender)}.call(this,e);var n=this._model.get("backgroundColor");n&&this._zr.setBackgroundColor(n)},e.prototype.clear=function(){var t=this._zr;return this._model.clear(),zp(this._viewMap,function(e){e.remove(),t.remove(e.group)}),this._viewMap={},this.off(),this.error(!1),this},e.prototype.error=function(t){this._isError=void 0===t||t},e.prototype.isError=function(){return this._isError},e.prototype.resize=function(t){this._zr.resize(t),this.update(!0)},e.prototype.dispatchAction=function(t,e,n){if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3]){var r=Lp(this._actionQueue,function(n){return n[0]===t.id&&n[1]===e});r>-1&&this._actionQueue.splice(r,1),this._actionQueue.push([t.id+"_"+e,n])}else this.trigger(t.id+"_"+e,n)},e.prototype.registerAction=function(t,e,n,r){this.on(t.id+"_"+e,n,r||t)},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getModel=function(t,e){return 2!==arguments.length?1===arguments.length?this._model._componentsMap[t]:this._model:"number"==typeof e?this._model.getComponentByIndex(t,e):Ep(e)?this._model.getComponentById(t,e):Op(e)?this._model.getComponent(t,e,!1):void 0},e.prototype.getDataModel=function(t){return this._model.getComponentByIndex("data",t)},e.prototype.getZr=function(){return this._zr},e.prototype.getDom=function(){return this._dom},e.prototype.getViewOfComponentModel=function(t){return this._viewMap[t.id]},e.prototype.getRenderedCanvas=function(t){if(Gi.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,this.stopAnimation(),this._zr.painter.getRenderedCanvas(t)},e.prototype.stopAnimation=function(){var t=this._zr.storage.getDisplayList(!0);zp(t,function(t){t.stopAnimation(!0)})},e.prototype.getDataUrl=function(t){var e={width:this.getWidth(),height:this.getHeight()};(t=t||{}).size&&(this.resize(t.size),this.stopAnimation());var n=this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return t.size&&(this.resize(e),this.stopAnimation()),n},e.prototype.toggleEdit=function(t){void 0===t&&(t=!this.isEnableEdit),this._model.eachComponent(function(e,n){n.set("enableEdit",t)}),this.isEnableEdit=t},e}(Yo);function jp(t){var e=this._viewMap,n=this._model,r=this._zr,i=void 0,o=void 0;return(i=jf.getClass(t.type))&&((o=new i(t,n,this)).type=t.type,e[t.id]=o,r.add(o.group)),o}function Gp(t){Kf.registerClass(t,t.type)}function Hp(t){jf.registerClass(t,t.type)}function Up(t){mp.registerClass(t,t.type)}function qp(t,e){var n,r;(t&&Gp(t),e&&Hp(e),!t&&e)&&Gp((r=n=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e}(Kf),n.type=e.type,r))}var Vp=Math.abs,Yp=Math.atan2,$p=Math.cos,Xp=Math.max,Kp=Math.min,Zp=Math.sin,Qp=Math.sqrt,Jp=1e-12,td=Math.PI,ed=td/2,nd=2*td;function rd(t){return t>=1?ed:t<=-1?-ed:Math.asin(t)}function id(t){return t.innerRadius}function od(t){return t.outerRadius}function ad(t){return t.startAngle}function sd(t){return t.endAngle}function ld(t){return t&&t.padAngle}function ud(t,e,n,r,i,o,a){var s=t-n,l=e-r,u=(a?o:-o)/Qp(s*s+l*l),h=u*l,c=-u*s,f=t+h,p=e+c,d=n+h,g=r+c,v=(f+d)/2,y=(p+g)/2,m=d-f,x=g-p,_=m*m+x*x,w=i-o,b=f*g-d*p,S=(x<0?-1:1)*Qp(Xp(0,w*w*_-b*b)),k=(b*x-m*S)/_,M=(-b*m-x*S)/_,A=(b*x+m*S)/_,I=(-b*m+x*S)/_,T=k-v,C=M-y,E=A-v,z=I-y;return T*T+C*C>E*E+z*z&&(k=A,M=I),{cx:k,cy:M,x01:-h,y01:-c,x11:k*(i/w-1),y11:M*(i/w-1)}}function hd(){var t=id,e=od,n=Sc(0),r=null,i=ad,o=sd,a=ld,s=null;function l(){var l,u,h,c=+t.apply(this,arguments),f=+e.apply(this,arguments),p=i.apply(this,arguments)-ed,d=o.apply(this,arguments)-ed,g=Vp(d-p),v=d>p;if(s||(s=l=bc()),f<c&&(u=f,f=c,c=u),f>Jp)if(g>nd-Jp)s.moveTo(f*$p(p),f*Zp(p)),s.arc(0,0,f,p,d,!v),c>Jp&&(s.moveTo(c*$p(d),c*Zp(d)),s.arc(0,0,c,d,p,v));else{var y,m,x=p,_=d,w=p,b=d,S=g,k=g,M=a.apply(this,arguments)/2,A=M>Jp&&(r?+r.apply(this,arguments):Qp(c*c+f*f)),I=Kp(Vp(f-c)/2,+n.apply(this,arguments)),T=I,C=I;if(A>Jp){var E=rd(A/c*Zp(M)),z=rd(A/f*Zp(M));(S-=2*E)>Jp?(w+=E*=v?1:-1,b-=E):(S=0,w=b=(p+d)/2),(k-=2*z)>Jp?(x+=z*=v?1:-1,_-=z):(k=0,x=_=(p+d)/2)}var L=f*$p(x),O=f*Zp(x),D=c*$p(b),P=c*Zp(b);if(I>Jp){var F=f*$p(_),N=f*Zp(_),R=c*$p(w),B=c*Zp(w);if(g<td){var W=S>Jp?function(t,e,n,r,i,o,a,s){var l=n-t,u=r-e,h=a-i,c=s-o,f=(h*(e-o)-c*(t-i))/(c*l-h*u);return[t+f*l,e+f*u]}(L,O,R,B,F,N,D,P):[D,P],j=L-W[0],G=O-W[1],H=F-W[0],U=N-W[1],q=1/Zp(((h=(j*H+G*U)/(Qp(j*j+G*G)*Qp(H*H+U*U)))>1?0:h<-1?td:Math.acos(h))/2),V=Qp(W[0]*W[0]+W[1]*W[1]);T=Kp(I,(c-V)/(q-1)),C=Kp(I,(f-V)/(q+1))}}k>Jp?C>Jp?(y=ud(R,B,L,O,f,C,v),m=ud(F,N,D,P,f,C,v),s.moveTo(y.cx+y.x01,y.cy+y.y01),C<I?s.arc(y.cx,y.cy,C,Yp(y.y01,y.x01),Yp(m.y01,m.x01),!v):(s.arc(y.cx,y.cy,C,Yp(y.y01,y.x01),Yp(y.y11,y.x11),!v),s.arc(0,0,f,Yp(y.cy+y.y11,y.cx+y.x11),Yp(m.cy+m.y11,m.cx+m.x11),!v),s.arc(m.cx,m.cy,C,Yp(m.y11,m.x11),Yp(m.y01,m.x01),!v))):(s.moveTo(L,O),s.arc(0,0,f,x,_,!v)):s.moveTo(L,O),c>Jp&&S>Jp?T>Jp?(y=ud(D,P,F,N,c,-T,v),m=ud(L,O,R,B,c,-T,v),s.lineTo(y.cx+y.x01,y.cy+y.y01),T<I?s.arc(y.cx,y.cy,T,Yp(y.y01,y.x01),Yp(m.y01,m.x01),!v):(s.arc(y.cx,y.cy,T,Yp(y.y01,y.x01),Yp(y.y11,y.x11),!v),s.arc(0,0,c,Yp(y.cy+y.y11,y.cx+y.x11),Yp(m.cy+m.y11,m.cx+m.x11),v),s.arc(m.cx,m.cy,T,Yp(m.y11,m.x11),Yp(m.y01,m.x01),!v))):s.arc(0,0,c,b,w,v):s.lineTo(D,P)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-td/2;return[$p(r)*n,Zp(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Sc(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Sc(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Sc(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Sc(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Sc(+t),l):i},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Sc(+t),l):o},l.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Sc(+t),l):a},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}var cd=Eh.extend({type:"d3-arc",shape:{innerRadius:0,outerRadius:0,cornerRadius:0,padRadius:0,startAngle:0,endAngle:2*Math.PI,padAngle:0},style:{stroke:null,fill:null},updateArc:function(){!this.arc&&(this.arc=hd());var t=this.arc,e=this.shape;for(var n in e)!isNaN(e[n])&&t[n]&&t[n](e[n])},buildPath:function(t,e){this.updateArc(),this.arc.context(t)()}});function fd(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function pd(t){var e;return 1===t.length&&(e=t,t=function(t,n){return fd(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}var dd=pd(fd).right;function gd(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var vd=Math.sqrt(50),yd=Math.sqrt(10),md=Math.sqrt(2);function xd(t,e,n){var r,i,o,a=e<t,s=-1;if(a&&(r=t,t=e,e=r),0===(o=_d(t,e,n))||!isFinite(o))return[];if(o>0)for(t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(r=Math.ceil(e-t+1));++s<r;)i[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),i=new Array(r=Math.ceil(t-e+1));++s<r;)i[s]=(t-s)/o;return a&&i.reverse(),i}function _d(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=vd?10:o>=yd?5:o>=md?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=vd?10:o>=yd?5:o>=md?2:1)}function wd(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=vd?i*=10:o>=yd?i*=5:o>=md&&(i*=2),e<t?-i:i}function bd(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}function Sd(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}function kd(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}function Md(){}function Ad(t,e){var n=new Md;if(t instanceof Md)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function Id(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,u,h,c=-1,f=n.length,p=r[i++],d=Ad(),g=a();++c<f;)(h=d.get(l=p(u=n[c])+""))?h.push(u):d.set(l,[u]);return d.each(function(t,e){s(g,e,o(t,i,a,s))}),g}return n={object:function(t){return o(t,0,Td,Cd)},map:function(t){return o(t,0,Ed,zd)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(o(t,0,Ed,zd),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function Td(){return{}}function Cd(t,e,n){t[e]=n}function Ed(){return Ad()}function zd(t,e,n){t.set(e,n)}function Ld(){}Md.prototype=Ad.prototype={constructor:Md,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Od=Ad.prototype;Ld.prototype=function(t,e){var n=new Ld;if(t instanceof Ld)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:Ld,has:Od.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Od.remove,clear:Od.clear,values:Od.keys,size:Od.size,empty:Od.empty,each:Od.each};var Dd=Array.prototype,Pd=Dd.map,Fd=Dd.slice,Nd={name:"implicit"};function Rd(t){var e=Ad(),n=[],r=Nd;function i(i){var o=i+"",a=e.get(o);if(!a){if(r!==Nd)return r;e.set(o,a=n.push(i))}return t[(a-1)%t.length]}return t=null==t?[]:Fd.call(t),i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=Ad();for(var r,o,a=-1,s=t.length;++a<s;)e.has(o=(r=t[a])+"")||e.set(o,n.push(r));return i},i.range=function(e){return arguments.length?(t=Fd.call(e),i):t.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Rd().domain(n).range(t).unknown(r)},i}function Bd(){var t,e,n=Rd().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,l=0,u=.5;function h(){var n=r().length,h=o[1]<o[0],c=o[h-0],f=o[1-h];t=(f-c)/Math.max(1,n-s+2*l),a&&(t=Math.floor(t)),c+=(f-c-t*(n-s))*u,e=t*(1-s),a&&(c=Math.round(c),e=Math.round(e));var p=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}(n).map(function(e){return c+t*e});return i(h?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],h()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(s=l=Math.max(0,Math.min(1,t)),h()):s},n.paddingInner=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),h()):s},n.paddingOuter=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),h()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return Bd().domain(r()).range(o).round(a).paddingInner(s).paddingOuter(l).align(u)},h()}function Wd(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jd(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gd(){}var Hd="\\s*([+-]?\\d+)\\s*",Ud="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",qd="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vd=/^#([0-9a-f]{3})$/,Yd=/^#([0-9a-f]{6})$/,$d=new RegExp("^rgb\\("+[Hd,Hd,Hd]+"\\)$"),Xd=new RegExp("^rgb\\("+[qd,qd,qd]+"\\)$"),Kd=new RegExp("^rgba\\("+[Hd,Hd,Hd,Ud]+"\\)$"),Zd=new RegExp("^rgba\\("+[qd,qd,qd,Ud]+"\\)$"),Qd=new RegExp("^hsl\\("+[Ud,qd,qd]+"\\)$"),Jd=new RegExp("^hsla\\("+[Ud,qd,qd,Ud]+"\\)$"),tg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function eg(t){var e;return t=(t+"").trim().toLowerCase(),(e=Vd.exec(t))?new ag((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Yd.exec(t))?ng(parseInt(e[1],16)):(e=$d.exec(t))?new ag(e[1],e[2],e[3],1):(e=Xd.exec(t))?new ag(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Kd.exec(t))?rg(e[1],e[2],e[3],e[4]):(e=Zd.exec(t))?rg(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Qd.exec(t))?lg(e[1],e[2]/100,e[3]/100,1):(e=Jd.exec(t))?lg(e[1],e[2]/100,e[3]/100,e[4]):tg.hasOwnProperty(t)?ng(tg[t]):"transparent"===t?new ag(NaN,NaN,NaN,0):null}function ng(t){return new ag(t>>16&255,t>>8&255,255&t,1)}function rg(t,e,n,r){return r<=0&&(t=e=n=NaN),new ag(t,e,n,r)}function ig(t){return t instanceof Gd||(t=eg(t)),t?new ag((t=t.rgb()).r,t.g,t.b,t.opacity):new ag}function og(t,e,n,r){return 1===arguments.length?ig(t):new ag(t,e,n,null==r?1:r)}function ag(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function sg(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function lg(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new hg(t,e,n,r)}function ug(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof hg)return new hg(t.h,t.s,t.l,t.opacity);if(t instanceof Gd||(t=eg(t)),!t)return new hg;if(t instanceof hg)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new hg(a,s,l,t.opacity)}(t):new hg(t,e,n,null==r?1:r)}function hg(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function cg(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Wd(Gd,eg,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Wd(ag,og,jd(Gd,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ag(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ag(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+sg(this.r)+sg(this.g)+sg(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Wd(hg,ug,jd(Gd,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new hg(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new hg(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ag(cg(t>=240?t-240:t+120,i,r),cg(t,i,r),cg(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var fg=Math.PI/180,pg=180/Math.PI,dg=.96422,gg=1,vg=.82521,yg=4/29,mg=6/29,xg=3*mg*mg,_g=mg*mg*mg;function wg(t){if(t instanceof Sg)return new Sg(t.l,t.a,t.b,t.opacity);if(t instanceof Eg){if(isNaN(t.h))return new Sg(t.l,0,0,t.opacity);var e=t.h*fg;return new Sg(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof ag||(t=ig(t));var n,r,i=Ig(t.r),o=Ig(t.g),a=Ig(t.b),s=kg((.2225045*i+.7168786*o+.0606169*a)/gg);return i===o&&o===a?n=r=s:(n=kg((.4360747*i+.3850649*o+.1430804*a)/dg),r=kg((.0139322*i+.0971045*o+.7141733*a)/vg)),new Sg(116*s-16,500*(n-s),200*(s-r),t.opacity)}function bg(t,e,n,r){return 1===arguments.length?wg(t):new Sg(t,e,n,null==r?1:r)}function Sg(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function kg(t){return t>_g?Math.pow(t,1/3):t/xg+yg}function Mg(t){return t>mg?t*t*t:xg*(t-yg)}function Ag(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ig(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tg(t){if(t instanceof Eg)return new Eg(t.h,t.c,t.l,t.opacity);if(t instanceof Sg||(t=wg(t)),0===t.a&&0===t.b)return new Eg(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*pg;return new Eg(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Cg(t,e,n,r){return 1===arguments.length?Tg(t):new Eg(t,e,n,null==r?1:r)}function Eg(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Wd(Sg,bg,jd(Gd,{brighter:function(t){return new Sg(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Sg(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new ag(Ag(3.1338561*(e=dg*Mg(e))-1.6168667*(t=gg*Mg(t))-.4906146*(n=vg*Mg(n))),Ag(-.9787684*e+1.9161415*t+.033454*n),Ag(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Wd(Eg,Cg,jd(Gd,{brighter:function(t){return new Eg(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Eg(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return wg(this).rgb()}}));var zg=-.14861,Lg=1.78277,Og=-.29227,Dg=-.90649,Pg=1.97294,Fg=Pg*Dg,Ng=Pg*Lg,Rg=Lg*Og-Dg*zg;function Bg(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Wg)return new Wg(t.h,t.s,t.l,t.opacity);t instanceof ag||(t=ig(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Rg*r+Fg*e-Ng*n)/(Rg+Fg-Ng),o=r-i,a=(Pg*(n-i)-Og*o)/Dg,s=Math.sqrt(a*a+o*o)/(Pg*i*(1-i)),l=s?Math.atan2(a,o)*pg-120:NaN;return new Wg(l<0?l+360:l,s,i,t.opacity)}(t):new Wg(t,e,n,null==r?1:r)}function Wg(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Wd(Wg,Bg,jd(Gd,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Wg(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wg(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*fg,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new ag(255*(e+n*(zg*r+Lg*i)),255*(e+n*(Og*r+Dg*i)),255*(e+n*(Pg*r)),this.opacity)}}));var jg=Object.freeze({color:eg,rgb:og,hsl:ug,lab:bg,hcl:Cg,lch:function(t,e,n,r){return 1===arguments.length?Tg(t):new Eg(n,e,t,null==r?1:r)},gray:function(t,e){return new Sg(t,0,0,null==e?1:e)},cubehelix:Bg});function Gg(t){return function(){return t}}function Hg(t){return 1==(t=+t)?Ug:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Gg(isNaN(e)?n:e)}}function Ug(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Gg(isNaN(t)?e:t)}var qg=function t(e){var n=Hg(e);function r(t,e){var r=n((t=og(t)).r,(e=og(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Ug(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Vg(t,e){return e-=t=+t,function(n){return t+e*n}}var Yg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$g=new RegExp(Yg.source,"g");function Xg(t,e){var n,r=void 0===e?"undefined":a(e);return null==e||"boolean"===r?Gg(e):("number"===r?Vg:"string"===r?(n=eg(e))?(e=n,qg):function(t,e){var n,r,i,o=Yg.lastIndex=$g.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Yg.exec(t))&&(r=$g.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Vg(n,r)})),o=$g.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}:e instanceof eg?qg:e instanceof Date?function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}}:Array.isArray(e)?function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Xg(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?function(t,e){var n,r={},i={};for(n in null!==t&&"object"===(void 0===t?"undefined":a(t))||(t={}),null!==e&&"object"===(void 0===e?"undefined":a(e))||(e={}),e)n in t?r[n]=Xg(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}:Vg)(t,e)}function Kg(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}}Math.PI,Math.SQRT2;function Zg(t){return function(){return t}}function Qg(t){return+t}var Jg=[0,1];function tv(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Zg(e)}function ev(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return o<i?(i=n(o,i),a=r(s,a)):(i=n(i,o),a=r(a,s)),function(t){return a(i(t))}}function nv(t,e,n,r){var i=Math.min(t.length,e.length)-1,o=new Array(i),a=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)o[s]=n(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(e){var n=dd(t,e,1,i)-1;return a[n](o[n](e))}}function rv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function iv(t,e){var n,r,i,o=Jg,a=Jg,s=Xg,l=!1;function u(){return n=Math.min(o.length,a.length)>2?nv:ev,r=i=null,h}function h(e){return(r||(r=n(o,a,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=e?0:t>=n?1:r(t)}}}(t):t,s)))(+e)}return h.invert=function(t){return(i||(i=n(a,o,tv,l?function(t){return function(e,n){var r=t(e=+e,n=+n);return function(t){return t<=0?e:t>=1?n:r(t)}}}(e):e)))(+t)},h.domain=function(t){return arguments.length?(o=Pd.call(t,Qg),u()):o.slice()},h.range=function(t){return arguments.length?(a=Fd.call(t),u()):a.slice()},h.rangeRound=function(t){return a=Fd.call(t),s=Kg,u()},h.clamp=function(t){return arguments.length?(l=!!t,u()):l},h.interpolate=function(t){return arguments.length?(s=t,u()):s},u()}function ov(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function av(t){return(t=ov(Math.abs(t)))?t[1]:NaN}var sv,lv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uv(t){return new hv(t)}function hv(t){if(!(e=lv.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}function cv(t,e){var n=ov(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}uv.prototype=hv.prototype,hv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var fv={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return cv(100*t,e)},r:cv,s:function(t,e){var n=ov(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(sv=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ov(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function pv(t){return t}var dv,gv,vv,yv=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mv(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):pv,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):pv,s=t.percent||"%";function l(t){var e=(t=uv(t)).fill,n=t.align,l=t.sign,u=t.symbol,h=t.zero,c=t.width,f=t.comma,p=t.precision,d=t.trim,g=t.type;"n"===g?(f=!0,g="g"):fv[g]||(null==p&&(p=12),d=!0,g="g"),(h||"0"===e&&"="===n)&&(h=!0,e="0",n="=");var v="$"===u?i[0]:"#"===u&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y="$"===u?i[1]:/[%p]/.test(g)?s:"",m=fv[g],x=/[defgprs%]/.test(g);function _(t){var i,s,u,_=v,w=y;if("c"===g)w=m(t)+w,t="";else{var b=(t=+t)<0;if(t=m(Math.abs(t),p),d&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),b&&0==+t&&(b=!1),_=(b?"("===l?l:"-":"-"===l||"("===l?"":l)+_,w=("s"===g?yv[8+sv/3]:"")+w+(b&&"("===l?")":""),x)for(i=-1,s=t.length;++i<s;)if(48>(u=t.charCodeAt(i))||u>57){w=(46===u?o+t.slice(i+1):t.slice(i))+w,t=t.slice(0,i);break}}f&&!h&&(t=r(t,1/0));var S=_.length+t.length+w.length,k=S<c?new Array(c-S+1).join(e):"";switch(f&&h&&(t=r(k+t,k.length?c-w.length:1/0),k=""),n){case"<":t=_+t+w+k;break;case"=":t=_+k+t+w;break;case"^":t=k.slice(0,S=k.length>>1)+_+t+w+k.slice(S);break;default:t=k+_+t+w}return a(t)}return p=null==p?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),_.toString=function(){return t+""},_}return{format:l,formatPrefix:function(t,e){var n=l(((t=uv(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(av(e)/3))),i=Math.pow(10,-r),o=yv[8+r/3];return function(t){return n(i*t)+o}}}}function xv(t,e,n){var r,i=t[0],o=t[t.length-1],a=wd(i,o,null==e?10:e);switch((n=uv(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(av(e)/3)))-av(Math.abs(t)))}(a,s))||(n.precision=r),vv(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,av(e)-av(t))+1}(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=function(t){return Math.max(0,-av(Math.abs(t)))}(a))||(n.precision=r-2*("%"===n.type))}return gv(n)}function _v(){var t=iv(tv,Vg);return t.copy=function(){return rv(t,_v())},function(t){var e=t.domain;return t.ticks=function(t){var n=e();return xd(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){return xv(e(),t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),(r=_d(s,l,n))>0?r=_d(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=_d(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,e(i)),t},t}(t)}function wv(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function bv(t,e){return(e=Math.log(e/t))?function(n){return Math.log(n/t)/e}:Zg(e)}function Sv(t,e){return t<0?function(n){return-Math.pow(-e,n)*Math.pow(-t,1-n)}:function(n){return Math.pow(e,n)*Math.pow(t,1-n)}}function kv(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Mv(t){return 10===t?kv:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function Av(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function Iv(t){return function(e){return-t(-e)}}dv=mv({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),gv=dv.format,vv=dv.formatPrefix;var Tv=new Date,Cv=new Date;function Ev(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Ev(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return Tv.setTime(+e),Cv.setTime(+r),t(Tv),t(Cv),Math.floor(n(Tv,Cv))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var zv=Ev(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});zv.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Ev(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):zv:null};var Lv=zv.range,Ov=6e4,Dv=6048e5,Pv=Ev(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),Fv=Pv.range,Nv=Ev(function(t){t.setTime(Math.floor(t/Ov)*Ov)},function(t,e){t.setTime(+t+e*Ov)},function(t,e){return(e-t)/Ov},function(t){return t.getMinutes()}),Rv=Nv.range,Bv=Ev(function(t){var e=t.getTimezoneOffset()*Ov%36e5;e<0&&(e+=36e5),t.setTime(36e5*Math.floor((+t-e)/36e5)+e)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Wv=Bv.range,jv=Ev(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ov)/864e5},function(t){return t.getDate()-1}),Gv=jv.range;function Hv(t){return Ev(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ov)/Dv})}var Uv=Hv(0),qv=Hv(1),Vv=Hv(2),Yv=Hv(3),$v=Hv(4),Xv=Hv(5),Kv=Hv(6),Zv=Uv.range,Qv=qv.range,Jv=Vv.range,ty=Yv.range,ey=$v.range,ny=Xv.range,ry=Kv.range,iy=Ev(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),oy=iy.range,ay=Ev(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});ay.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ev(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var sy=ay.range,ly=Ev(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Ov)},function(t,e){return(e-t)/Ov},function(t){return t.getUTCMinutes()}),uy=ly.range,hy=Ev(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),cy=hy.range,fy=Ev(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),py=fy.range;function dy(t){return Ev(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Dv})}var gy=dy(0),vy=dy(1),yy=dy(2),my=dy(3),xy=dy(4),_y=dy(5),wy=dy(6),by=gy.range,Sy=vy.range,ky=yy.range,My=my.range,Ay=xy.range,Iy=_y.range,Ty=wy.range,Cy=Ev(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Ey=Cy.range,zy=Ev(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});zy.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Ev(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Ly=zy.range,Oy=Object.freeze({timeInterval:Ev,timeMillisecond:zv,timeMilliseconds:Lv,utcMillisecond:zv,utcMilliseconds:Lv,timeSecond:Pv,timeSeconds:Fv,utcSecond:Pv,utcSeconds:Fv,timeMinute:Nv,timeMinutes:Rv,timeHour:Bv,timeHours:Wv,timeDay:jv,timeDays:Gv,timeWeek:Uv,timeWeeks:Zv,timeSunday:Uv,timeSundays:Zv,timeMonday:qv,timeMondays:Qv,timeTuesday:Vv,timeTuesdays:Jv,timeWednesday:Yv,timeWednesdays:ty,timeThursday:$v,timeThursdays:ey,timeFriday:Xv,timeFridays:ny,timeSaturday:Kv,timeSaturdays:ry,timeMonth:iy,timeMonths:oy,timeYear:ay,timeYears:sy,utcMinute:ly,utcMinutes:uy,utcHour:hy,utcHours:cy,utcDay:fy,utcDays:py,utcWeek:gy,utcWeeks:by,utcSunday:gy,utcSundays:by,utcMonday:vy,utcMondays:Sy,utcTuesday:yy,utcTuesdays:ky,utcWednesday:my,utcWednesdays:My,utcThursday:xy,utcThursdays:Ay,utcFriday:_y,utcFridays:Iy,utcSaturday:wy,utcSaturdays:Ty,utcMonth:Cy,utcMonths:Ey,utcYear:zy,utcYears:Ly});function Dy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Py(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Fy(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}var Ny,Ry,By,Wy,jy={"-":"",_:" ",0:"0"},Gy=/^\s*\d+/,Hy=/^%/,Uy=/[\\^$*+?|[\]().{}]/g;function qy(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Vy(t){return t.replace(Uy,"\\$&")}function Yy(t){return new RegExp("^(?:"+t.map(Vy).join("|")+")","i")}function $y(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Xy(t,e,n){var r=Gy.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ky(t,e,n){var r=Gy.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Zy(t,e,n){var r=Gy.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Qy(t,e,n){var r=Gy.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Jy(t,e,n){var r=Gy.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function tm(t,e,n){var r=Gy.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function em(t,e,n){var r=Gy.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nm(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rm(t,e,n){var r=Gy.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function im(t,e,n){var r=Gy.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function om(t,e,n){var r=Gy.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function am(t,e,n){var r=Gy.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sm(t,e,n){var r=Gy.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function lm(t,e,n){var r=Gy.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function um(t,e,n){var r=Gy.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hm(t,e,n){var r=Gy.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function cm(t,e,n){var r=Hy.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function fm(t,e,n){var r=Gy.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function pm(t,e,n){var r=Gy.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function dm(t,e){return qy(t.getDate(),e,2)}function gm(t,e){return qy(t.getHours(),e,2)}function vm(t,e){return qy(t.getHours()%12||12,e,2)}function ym(t,e){return qy(1+jv.count(ay(t),t),e,3)}function mm(t,e){return qy(t.getMilliseconds(),e,3)}function xm(t,e){return mm(t,e)+"000"}function _m(t,e){return qy(t.getMonth()+1,e,2)}function wm(t,e){return qy(t.getMinutes(),e,2)}function bm(t,e){return qy(t.getSeconds(),e,2)}function Sm(t){var e=t.getDay();return 0===e?7:e}function km(t,e){return qy(Uv.count(ay(t),t),e,2)}function Mm(t,e){var n=t.getDay();return t=n>=4||0===n?$v(t):$v.ceil(t),qy($v.count(ay(t),t)+(4===ay(t).getDay()),e,2)}function Am(t){return t.getDay()}function Im(t,e){return qy(qv.count(ay(t),t),e,2)}function Tm(t,e){return qy(t.getFullYear()%100,e,2)}function Cm(t,e){return qy(t.getFullYear()%1e4,e,4)}function Em(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qy(e/60|0,"0",2)+qy(e%60,"0",2)}function zm(t,e){return qy(t.getUTCDate(),e,2)}function Lm(t,e){return qy(t.getUTCHours(),e,2)}function Om(t,e){return qy(t.getUTCHours()%12||12,e,2)}function Dm(t,e){return qy(1+fy.count(zy(t),t),e,3)}function Pm(t,e){return qy(t.getUTCMilliseconds(),e,3)}function Fm(t,e){return Pm(t,e)+"000"}function Nm(t,e){return qy(t.getUTCMonth()+1,e,2)}function Rm(t,e){return qy(t.getUTCMinutes(),e,2)}function Bm(t,e){return qy(t.getUTCSeconds(),e,2)}function Wm(t){var e=t.getUTCDay();return 0===e?7:e}function jm(t,e){return qy(gy.count(zy(t),t),e,2)}function Gm(t,e){var n=t.getUTCDay();return t=n>=4||0===n?xy(t):xy.ceil(t),qy(xy.count(zy(t),t)+(4===zy(t).getUTCDay()),e,2)}function Hm(t){return t.getUTCDay()}function Um(t,e){return qy(vy.count(zy(t),t),e,2)}function qm(t,e){return qy(t.getUTCFullYear()%100,e,2)}function Vm(t,e){return qy(t.getUTCFullYear()%1e4,e,4)}function Ym(){return"+0000"}function $m(){return"%"}function Xm(t){return+t}function Km(t){return Math.floor(+t/1e3)}!function(t){Ny=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Yy(i),h=$y(i),c=Yy(o),f=$y(o),p=Yy(a),d=$y(a),g=Yy(s),v=$y(s),y=Yy(l),m=$y(l),x={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:dm,e:dm,f:xm,H:gm,I:vm,j:ym,L:mm,m:_m,M:wm,p:function(t){return i[+(t.getHours()>=12)]},Q:Xm,s:Km,S:bm,u:Sm,U:km,V:Mm,w:Am,W:Im,x:null,X:null,y:Tm,Y:Cm,Z:Em,"%":$m},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:zm,e:zm,f:Fm,H:Lm,I:Om,j:Dm,L:Pm,m:Nm,M:Rm,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:Xm,s:Km,S:Bm,u:Wm,U:jm,V:Gm,w:Hm,W:Um,x:null,X:null,y:qm,Y:Vm,Z:Ym,"%":$m},w={a:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:im,e:im,f:hm,H:am,I:am,j:om,L:um,m:rm,M:sm,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=h[r[0].toLowerCase()],n+r[0].length):-1},Q:fm,s:pm,S:lm,u:Ky,U:Zy,V:Qy,w:Xy,W:Jy,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:em,Y:tm,Z:nm,"%":cm};function b(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=jy[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function S(t,e){return function(n){var r,i,o=Fy(1900);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=(r=Py(Fy(o.y))).getUTCDay())>4||0===i?vy.ceil(r):vy(r),r=fy.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=(i=(r=e(Fy(o.y))).getDay())>4||0===i?qv.ceil(r):qv(r),r=jv.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Py(Fy(o.y)).getUTCDay():e(Fy(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Py(o)):e(o)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=w[i in jy?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return x.x=b(n,x),x.X=b(r,x),x.c=b(e,x),_.x=b(n,_),_.X=b(r,_),_.c=b(e,_),{format:function(t){var e=b(t+="",x);return e.toString=function(){return t},e},parse:function(t){var e=S(t+="",Dy);return e.toString=function(){return t},e},utcFormat:function(t){var e=b(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=S(t,Py);return e.toString=function(){return t},e}}}(t),Ry=Ny.format,Ny.parse,By=Ny.utcFormat,Wy=Ny.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Date.prototype.toISOString||By("%Y-%m-%dT%H:%M:%S.%LZ");+new Date("2000-01-01T00:00:00.000Z")||Wy("%Y-%m-%dT%H:%M:%S.%LZ");var Zm="arc",Qm=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Zm,c(r,n)}return u(e,t),e.prototype.getPoint=function(t,e,n,r){var i=Math.cos,o=Math.sin;return[t+i(r)*n,e+o(r)*n]},e.prototype.getAttrs=function(t,e,n,r,i){for(var o=t,a=e,s=n.symbolStyle.angleWithItem?r:2*Math.PI,l=n.symbolStyle.edgePadding,u=n.outerRadius,h=s/4/Math.PI*360/l,c=[],f=0;f<h;f++){var p=this.getPoint(o,a,u,s/h*f+0-Math.PI/2);c.push({shape:{symbolType:i,x:p[0]-n.symbolStyle.radius,y:p[1]-n.symbolStyle.radius,width:2*n.symbolStyle.radius,height:2*n.symbolStyle.radius},cursor:"default",style:{stroke:n.symbolStyle.stroke,fill:n.symbolStyle.fill}})}return c},e.prototype.render=function(t,e,n){this.remove();this.group;var r=t.getData();if(r){t.get("z"),t.get("zlevel");var i=t.get("itemStyle"),o=t.get("circleStyle"),a=t.get("startArc"),s=t.get("endArc"),u=t.get("center"),h=t.get("radius"),c=n.getWidth(),f=n.getHeight(),p="string"==typeof u[0]?parseInt(parseFloat(u[0].split("%")[0])/100*c):parseInt(u[0]),d="string"==typeof u[1]?parseInt(parseFloat(u[1].split("%")[0])/100*f):parseInt(u[1]),g="string"==typeof h[0]?parseInt(parseFloat(h[0].split("%")[0])/100*c):parseInt(h[0]),v="string"==typeof h[1]?parseInt(parseFloat(h[1].split("%")[0])/100*f):parseInt(h[1]),y=_v().domain([0,2*Math.PI]).range([0,360]),m=r.values[0].value/(r.max-r.min),x=a.angleCross,_=s.angleCross,w=0,b=0;0!==m&&(w=y.invert(x),b=y.invert(_));var S=m||0==m?m*(2*Math.PI):Math.PI,k=t.get("animation")?0:S,M=new cd({shape:{innerRadius:g,outerRadius:v,startAngle:0,endAngle:k,cornerRadius:i.normal.cornerRadius,data:r},position:[p,d],style:i.normal,cursor:"default"}),A=void 0;a.show&&0!==a.angleCross&&(A=new cd({shape:{innerRadius:g,outerRadius:v,startAngle:0,endAngle:w,cornerRadius:a.normal.cornerRadius},position:[p,d],style:a.normal,cursor:"default"}));var I=void 0;if(s.show&&0!==s.angleCross&&(I=new cd({shape:{innerRadius:g,outerRadius:v,startAngle:t.get("animation")?0:S,endAngle:t.get("animation")?0:S+b,cornerRadius:s.normal.cornerRadius},position:[p,d],style:s.normal,cursor:"default"}),t.get("animation")&&I.animateTo({shape:{startAngle:S,endAngle:S+b}},800,"cubicOut")),t.get("animation")&&M.animateTo({shape:{endAngle:S}},800,"cubicOut"),o.show){if("line"==o.outerType)this.setShape("outline",lp,{shape:{symbolType:"circle",x:p-o.outerRadius,y:d-o.outerRadius,width:2*o.outerRadius,height:2*o.outerRadius},cursor:"default",style:{stroke:o.outerStrokeColor,fill:o.outerFillColor}});else if("dotted"==o.outerType){var T=this.getAttrs(p,d,o,S,"circle");this.setShapeGroup("outline",lp,T)}else{var C=this.getAttrs(p,d,o,S,"square");this.setShapeGroup("outline",lp,C)}this.setShape("innerPie",lp,{shape:{symbolType:"circle",x:p-o.innerRadius,y:d-o.innerRadius,width:2*o.innerRadius,height:2*o.innerRadius},cursor:"default",style:{stroke:o.innerStrokeColor,fill:o.innerFillColor}})}this.group.add(M),this.group.add(A),this.group.add(I);var E=i.formatter,z=i.offsetCenter,L="string"==typeof z[0]?parseFloat(z[0].split("%")[0])/100*c:z[0],O="string"==typeof z[1]?parseFloat(z[1].split("%")[0])/100*f:z[1],D=new Yh({cursor:"default",style:e.getFormattedText(l({text:E(r.values[0],m),x:p-L,y:d-O},i.textStyle))});if(this.group.add(D),r.title){var P=t.get("title"),F="string"==typeof P.offsetCenter[0]?parseFloat(P.offsetCenter[0].split("%")[0])/100*c:P.offsetCenter[0],N="string"==typeof P.offsetCenter[1]?parseFloat(P.offsetCenter[1].split("%")[0])/100*f:P.offsetCenter[1],R=new Yh({cursor:"default",style:{text:r.title,x:p-F,y:d-N,font:P.textStyle.fontWeight+" "+P.textStyle.fontSize+"px "+P.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:P.textStyle.color}});this.group.add(R)}}},e}(Hf);Qm.type=Zm;var Jm="arc",tx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Jm,c(r,n)}return u(e,t),e}(Qf);tx.type=Jm,tx.defaultOption={zlevel:0,z:1,data:void 0,$dataIndex:void 0,center:["50%","50%"],radius:[10,20],title:{offsetCenter:[0,0],textStyle:{color:"#333",fontStyle:"normal",fontFamily:"sans-serif",fontWeight:"normal",fontSize:14}},circleStyle:{show:!1,innerRadius:55,outerRadius:70,innerType:"line",outerType:"line",symbolStyle:{angleWithItem:!1,edgePadding:1,radius:3,stroke:"#000",fill:"#000"},innerStrokeColor:"#333",innerFillColor:"#F04927",outerFillColor:"#F04927",outerStrokeColor:"#F04927"},animation:!0,itemStyle:{offsetCenter:[0,0],normal:{stroke:"#333",fill:"#333",cornerRadius:0},formatter:function(t,e){return e},textStyle:{position:"center",textBaseline:"middle",textAlign:"center",color:"#333",fontFamily:"sans-serif",fontWeight:"normal",fontSize:12}},startArc:{show:!1,angleCross:1,normal:{fill:"#576AD0",stroke:"#576AD0",cornerRadius:0}},endArc:{show:!1,angleCross:1,normal:{fill:"#576AD0",stroke:"#576AD0",cornerRadius:0}}},qp(tx,Qm);var ex="pie",nx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=ex,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t._updateTime<=1,o=t.drawData,s=0;if(o){var u=ao(),h=Math.PI,c=2*h,f=this.group,p=(t.get("z"),t.get("zlevel"),t.get("label")),d=t.get("label").symbol,g=t.get("circleStyle"),v=t.get("itemStyle"),y=t.get("item").normal.style,m=t.get("item").emphasis.style,x=this,_=t.get("center"),w=t.get("radius"),b=t.get("likeAlipay"),S=(e.getComponentByIndex("grid",0)||{position:{width:n.getWidth(),height:n.getHeight(),left:0,top:0}}).position,k=S.width,M=S.height,A=S.left,I=S.top,T=k||n.getWidth(),C=M||n.getHeight(),E="string"==typeof _[0]?parseInt(parseFloat(_[0].split("%")[0])/100*T):parseInt(_[0]),z="string"==typeof _[1]?parseInt(parseFloat(_[1].split("%")[0])/100*C):parseInt(_[1]),L=t.get("theme");E+=A,z+=I;var O=void 0,D=void 0,P=void 0,F=Math.min(T,C);void 0==w?(O=F/4,P=(D=F/2.5)+10):(O="string"==typeof w[0]?parseInt(parseFloat(w[0].split("%")[0])/100*F):parseInt(w[0]),D="string"==typeof w[1]?parseInt(parseFloat(w[1].split("%")[0])/100*F):parseInt(w[1]),P="string"==typeof w[2]?parseInt(parseFloat(w[2].split("%")[0])/100*F):w[2]?parseInt(w[2]):D+8);var N=p.position,R=!("center"!=N),B=!("inner"!=N),W=!("both"!=N),j=p.lineLen||[15,15],G=mo(j)?j[0]:j,H=mo(j)?j[1]:j,U=p.formatter,q=[],V=[],Y=[],$=[],X=t.get("animation"),K=o.values,Z=0,Q=void 0,J=void 0,tt=void 0,et=!!v.shadowRadius;et&&this.setShapeGroup("gray",cd,[{key:"gray",shape:{outerRadius:D,innerRadius:O},style:{fill:v.shadowColor},position:[E,z]}],{animation:X,animateFrom:[{position:[E,z]}]});var nt=t.get("avoidLabelGap");this.onShape=Ct,this.offShape=Et,this.onEmphasis=zt,this.onNormal=function(){Lt.call(x)};var rt={};if(o.max&&o.min){var it=Math.abs(o.values[0].value/(o.max-o.min));(it>=1||!it)&&(it=1);var ot=o.values[0].color,at=it*c;Tt.call(this,{endAngle:at,itemValue:it,strokeColor:ot,startAngle:0},i)}else{for(var st=K.length,lt=0,ut=0;ut<st;ut++)Z+=K[ut].value-0;(Q=_v()).domain(gd(K,function(t){return t.value})),Q.range([1.2*O,D]),isNaN(Z)&&(Z=0);for(var ht,ct=0;ct<st;ct++){ht=K[ct];var ft=Z?Math.abs(ht.value/Z):1/st,pt=lt+ft*c,dt=ht.color||L[ct%L.length],gt=P-D,vt=P,yt=D,mt=O;"rose"==v.type&&(vt=(yt=Q(ht.value))+gt);var xt={itemValue:ft,inner:mt,outer:yt,hover:vt,startAngle:lt,endAngle:pt,strokeColor:dt,itemName:ht.name,value:ht.value,dataIndex:ht.dataIndex,name:ht.name};Tt.call(this,xt,ct),lt=pt}}if("outer"===N&&t.get("avoidLabelOverlap")){var _t=fo(V,function(t){return{x:t.style.x,y:t.style.y,position:"outer",height:new Yh(t).getBoundingRect().height,len:G,len2:H}});!function(t,e,n,r,i,o){for(var a=[],s=[],l=0;l<t.length;l++)t[l].x<e?a.push(t[l]):s.push(t[l]);for(It(s,e,n,r,1,0,o),It(a,e,n,r,-1,0,o),l=0;l<Y.length;l++){var u=Y[l].shape.data;if(u){var h=u[1][0]-u[2][0],c=t[l].x<e;u[2][0]=t[l].x,u[1][1]=u[2][1]=t[l].y,u[1][0]=u[2][0]+h,p.outerOffset&&(u[2][0]=t[l].x=c?p.outerOffset:k-p.outerOffset),t[l].x<e?u[2][0]+=5:u[2][0]-=5,$.length&&($[l].position=[].concat(u[0]))}}}(_t,E,z,D,0,C),co(V,function(t,e){t.style.x=_t[e].x,t.style.y=_t[e].y})}this._shape=this.setShapeGroup("shape",cd,q,{animation:X,animateList:{shape:{endAngle:0,startAngle:0}}},function(e){e.off("mouseover"),e.off("mouseout"),e.on("click",function(e){e.target.node;n.dispatchAction(t,Af.itemClick,e)}),e.on("dblclick",function(e){e.target.node;n.dispatchAction(t,Af.dblClick,e)}),t.get("hoverAnimation")&&(e.on("mouseover",function(e){var r=e.target;zt.call(r),n.dispatchAction(t,Af.mouseover,e)}),e.on("mouseout",function(e){e.target;Lt.call(x),n.dispatchAction(t,Af.mouseout,e)}),e.on("mousemove",function(e){n.dispatchAction(t,Af.mousemove,e)}))});var wt=this.setShapeGroup("line",Cc,Y,{animation:X,animateList:{shape:{data:[[0,0],[0,0],[0,0]]}}}),bt=this.setShapeGroup("text",Yh,V,{animation:X,animateList:{style:{x:0,y:0}}}),St=this.setShapeGroup("labelSymbol",lp,$,{animation:X,animateList:{position:[0,0]}});if(r&&X&&f.setClipPath(function(){var t=this.setShape("shape_clip",cd,{shape:{outerRadius:Math.max(T,C)/2,innerRadius:0,startAngle:0,endAngle:0},position:[E,z]});return t.animateTo({shape:{endAngle:c}},300,"linear",function(){f.removeClipPath()}),t}.call(this)),o.title){var kt=t.get("title"),Mt="string"==typeof kt.offsetCenter[0]?parseFloat(kt.offsetCenter[0].split("%")[0])/100*T:kt.offsetCenter[0],At="string"==typeof kt.offsetCenter[1]?parseFloat(kt.offsetCenter[1].split("%")[0])/100*C:kt.offsetCenter[1];this.setShapeGroup("title_text",Yh,[{style:l({text:o.title,x:E-Mt,y:z-At,font:kt.textStyle.fontWeight+" "+kt.textStyle.fontSize+"px "+kt.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:kt.textStyle.color},kt.textStyle)}])}}function It(t,e,n,r,i,o,a){function s(e,n,r,i){for(var o=e;o<n;o++)if(t[o].y+=r,o>e&&o+1<n&&t[o+1].y>t[o].y+t[o].height)return void l(o,r/2);l(n-1,r/2)}function l(e,n){for(var r=e;r>=0&&(t[r].y-=n,!(r>0&&t[r].y>t[r-1].y+t[r-1].height));r--);}function u(t,e,n,r,i,o){for(var a=e?Number.MAX_VALUE:0,s=0,l=t.length;s<l;s++)if("center"!==t[s].position){var u=Math.abs(t[s].y-r),h=t[s].len,c=t[s].len2,f=u<i+h?Math.sqrt((i+h+c)*(i+h+c)-u*u):Math.abs(t[s].x-n);e&&f>=a&&(f=a-10),!e&&f<=a&&(f=a+10),t[s].x=n+f*o,a=f}}t.sort(function(t,e){return t.y-e.y});for(var h,c=0,f=t.length,p=[],d=[],g=0;g<f;g++)(h=t[g].y-c)<0&&s(g,f,-h),c=t[g].y+t[g].height+nt;a-c<0&&l(f-1,c-a);for(g=0;g<f;g++)t[g].y>=n?d.push(t[g]):p.push(t[g]);u(p,!1,e,n,r,i),u(d,!0,e,n,r,i)}function Tt(e,n){var r=e.endAngle,i=e.inner,o=e.outer,a=(e.hover,e.startAngle),s=e.strokeColor,u=e.itemValue,h=e.itemName,f=(e.value,void 0);q.push({shape:{outerRadius:o,innerRadius:i,endAngle:r,startAngle:a},key:h,position:[E,z],style:l({fill:s},y),seriesIndex:t.index,data:{name:h,value:(100*u).toFixed(0)+"%",item:e},z:10}),e.loopKey=e.dataIndex,void 0===p.show&&(R?J?f=J:(tt=function(t){var e=g&&g.innerCircleRadius||t.inner-8,n=g.fillColor||t.strokeColor;return this.setShapeGroup("innerCircle",cd,[{key:"innerCircle",shape:{outerRadius:e,innerRadius:0,endAngle:c,startAngle:0},position:[E,z],style:{fill:n,stroke:null}}],{animation:X,animateFrom:[{position:[E,z]}]})}.call(this,e),f=Dt.call(this,e,!0),J=f):(e.itemName="",f=Dt.call(this,e)))}function Ct(t){var e={opacity:1};bt.childOfName(t).setStyle(e),wt.childOfName(t).setStyle(e),St.childOfName(t).setStyle(e)}function Et(t){var e={opacity:0};bt.eachChild(function(t){return t.setStyle(e)}),wt.eachChild(function(t){return t.setStyle(e)}),St.eachChild(function(t){return t.setStyle(e)})}function zt(){Lt.call(x);var t=this.data.item,e=this.name;tt&&(g.fillColor||tt.childAt(0).setStyle({fill:t.strokeColor}),bt&&bt.childAt(0).setStyle({text:U(t,t.itemValue)+(t.itemName?"\n{a|"+t.itemName+"}":""),fill:p.emphasis&&p.emphasis.color||p.color||t.strokeColor})),this.stopAnimation(!0);var n=eo(to(y),m,!0);this.animateTo({shape:{innerRadius:et?t.inner+v.shadowRadius:t.inner,outerRadius:t.hover},style:l({},n),z2:++s},300,"elasticOut"),b&&(Et(),Ct(e))}function Lt(){this._shape.eachChild(function(t){var e=t.data.item;t.animateTo({shape:{outerRadius:e.outer,innerRadius:e.inner},style:l({},y)},50,"elasticOut")}),b&&Et()}function Ot(t){if("object"!==(void 0===t?"undefined":a(t)))return t;var e=t.colorStops;return e[e.length-1].color}function Dt(t,e){var r=t.endAngle,i=t.startAngle,o=t.strokeColor,a=t.itemValue,s=t.value,c=(r+i)/2-h/2,f=(D+O)/2,g=Math.cos(c),y=Math.sin(c),m=e?0:g*f,x=e?0:y*f,_=b?2*(P-D):0,w=(B?(D+O)/2*g:(D+_)*g)+E,S=(B?(D+O)/2*y:(D+_)*y)+z,k=w+g*G,M=S+y*G;if(b){var A=k;g>0&&(A=n.getWidth()-k),t.validWidth=A,t.labelFontSize=p.textStyle.fontSize}var I=void 0,T=void 0,C=[],L="center",F=p.textStyle.color,N=U(t,a),j=b?0:1;if(!1===N)return!1;if(R)I=E,T=z;else if(B)I=E+m,T=z+x;else{var q=rt[N]||function(t){u.save(),u.font=(p.textStyle.fontSize||12)+"px sans-serif";var e=Math.max.apply(Math,t.split("\n").map(function(t){return u.measureText(t).width}));return u.restore(),e}(N);rt[N]=q,b&&(H=q);var X=k+(g<0?-1:1)*H,K=M;L=B?"center":g>0?"left":"right",F=F&&"auto"!=F?F:o,b?(I=k+(g<0?-1:0)*q,T=M-2,L=p.textStyle.textAlign):(I=X+(g<0?-5:5),T=K),W&&(V.push({key:"both"+t.name,style:eo({text:N,x:E+m,y:z+x,fontSize:p.textStyle.fontSize,fontFamily:p.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:Ot(F)},p.textStyle,!0),silent:!0,z:11}),N=t.name),"rose"==v.type&&(w=Q(s)*g+E,S=Q(s)*y+z),C=[[w,S],[k,M],[X,K]],Y.push({shape:{data:C},key:t.name,style:{stroke:Ot(p.lineColor||F),opacity:j}}),d.show&&$.push({key:t.name,shape:{symbolType:d.type,x:-d.size/2,y:-d.size/2,width:d.size,height:d.size},style:l({fill:F,opacity:j},d.style),position:[w,S]})}return V.push({key:t.name,style:eo({opacity:j,text:N+(t.itemName?"\n{a|"+t.itemName+"}":""),x:I,y:T,fontSize:p.textStyle.fontSize,fontFamily:p.textStyle.fontFamily,textBaseline:b?"bottom":"middle",textAlign:L,textFill:Ot(F),rich:{a:{fontSize:p.subTextStyle.fontSize,textLineHeight:p.subTextStyle.textLineHeight}}},p.textStyle,!0),silent:!0,z:11}),!0}},e}(Hf);nx.type=ex;var rx="pie",ix=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=rx,c(r,n)}return u(e,t),e.prototype.update=function(){this.globalModel;var t=this.getData(),e=t.values;e[0]&&e[0][0]&&e.forEach(function(t){t.name=t[0],t.value=t[1],t.color=t[2]});var n=this.get("selected"),r=po(t.values,function(t,e){return t.dataIndex=e,!(n&&!1===n[t.name])});if(r.length>=0){if("nice"==this.get("itemStyle").order){r.sort(function(t,e){return t.value-e.value});var i=r.pop();i&&r.splice(0,0,i)}var o=t.max,a=t.min,s=t.title;this.drawData={max:o,min:a,title:s,values:r}}},e.prototype.getSeriesColor=function(t){var e=this.get("theme"),n=this.getData().values.findIndex(function(e){return e.name==t}),r=void 0,i=void 0;if(arguments.length&&this.get("name")!==t){var o=this.findDataNamed(t);o&&(r=o.itemStyle,i=o.color)}else r=this.get("itemStyle"),i=this.get("color");return i||(r&&r.normal?r.normal.stroke||r.normal.fill:e[n%e.length])},e}(Qf);ix.type=rx,ix.defaultOption={theme:$f,center:["50%","50%"],radius:[50,"30%"],hoverAnimation:!0,avoidLabelOverlap:!0,avoidLabelGap:6,likeAlipay:!1,itemStyle:{shadowRadius:0,shadowColor:"#e4e4e4",order:"nice"},item:{normal:{style:{}},emphasis:{style:{}}},label:{lineColor:"",position:"inner",outerOffset:0,textStyle:{color:""},subTextStyle:{fontSize:14,textLineHeight:30},symbol:{show:!1,size:5,type:"circle",style:{}}},title:{offsetCenter:[0,0],textStyle:{color:"#333",fontFamily:"sans-serif",fontWeight:"normal",fontSize:18}}},qp(ix,nx);var ox=Math.PI,ax=Math.cos,sx=Math.sin,lx=Eh.extend({type:"arcline",shape:{cx:0,cy:0,r:0,r1:0,endAngle:-ox/2,startAngle:-ox/2,edgePadding:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,r=e.cy,i=e.endAngle,o=e.startAngle,a=e.edgePadding,s=n,l=.97*r>>0,u=e.r,h=e.r1||.8*u>>0,c=i/4/ox*360/a;function f(t,e,n,r){return[t+ax(r)*n,e+sx(r)*n]}for(var p=0;p<c;p++){var d=f(n,r,u,i/c*p+o),g=f(s,l,h,i/c*p+o);t.moveTo.apply(t,d),t.lineTo.apply(t,g)}}}),ux="arcline",hx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=ux,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){this.remove();var r=Math.PI,i=(this.group,t.drawData),o=(t.get("z"),t.get("zlevel"),t.get("itemStyle")),a=o.normal.lineWidth,s=o.emphasis.lineWidth,l=t.get("circleStyle"),u=t.get("center"),h=t.get("radius"),c=n.getWidth(),f=n.getHeight(),p="string"==typeof u[0]?parseInt(parseFloat(u[0].split("%")[0])/100*c):parseInt(u[0]),d="string"==typeof u[1]?parseInt(parseFloat(u[1].split("%")[0])/100*f):parseInt(u[1]),g="string"==typeof h[0]?parseInt(parseFloat(h[0].split("%")[0])/100*c):parseInt(h[0]),v="string"==typeof h[1]?parseInt(parseFloat(h[1].split("%")[0])/100*f):parseInt(h[1]),y=l.edgePadding||2,m=o.formatter,x=void 0,_=[],w=i.values,b=0;function S(t){var e=t.endAngle,n=t.startAngle,r=t.strokeColor,i=t.itemValue,o=this.setShape(Math.random(),lx,{shape:{cx:p,cy:d,r:v,r1:g,endAngle:e,startAngle:n,edgePadding:y},style:{fill:null,stroke:r}}),l=void 0;return o.on("mouseover",function(){clearTimeout(l),l=setTimeout(function(){x.setStyle({text:m(null,i),fill:r}),o.stopAnimation(!0),o.animateTo({shape:{r:v+8},style:{lineWidth:s}},300,"elasticOut")},50)}),o.on("mouseout",function(){clearTimeout(l),o.stopAnimation(!0),l=setTimeout(function(){o.animateTo({shape:{r:v},style:{lineWidth:a}},300,"elasticOut")},50)}),o}function k(t,e){return x=new Yh({style:{text:m(null,t),x:p,y:.97*d,font:o.textStyle.fontWeight+" "+o.textStyle.fontSize+"px "+o.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:e}}),this.group.add(x),x}if(function(){var t=new lx({shape:{cx:p,cy:d,r:v,r1:g,edgePadding:y,endAngle:2*Math.PI},style:{stroke:l.backgroundColor||"#223272"}}),e=new $h({shape:{cx:p,cy:d,r:v+3},style:{fill:null,stroke:l.outerCircleColor||"#101851"}}),n=new $h({shape:{cx:p,cy:.97*d,r:g-3},style:{fill:null,stroke:l.innerCircleColor||"#314b89"}});this.group.add(e),this.group.add(n),this.group.add(t)}.call(this),w.length>1){for(var M=w.length,A=-r/2,I=void 0,T=void 0,C=0;C<M;C++)b+=w[C].value;for(var E,z=0;z<M;z++){E=w[z];var L=Math.abs(E.value/b),O=L*(2*Math.PI),D={itemValue:L,startAngle:A,endAngle:O,strokeColor:E.color};0==z&&(I=L,T=E.color),S.call(this,D),A+=O}k.call(this,I,T)}else{var P=Math.abs(i.values[0].value/(i.max-i.min));P>=1&&(P=1);var F=i.values[0].color,N=P*(2*Math.PI)||0;S.call(this,{endAngle:N,itemValue:P,strokeColor:F,startAngle:-r/2}),k.call(this,P,F)}for(var R=0;R<_.length;R++)this.group.add(arc);if(i.title){var B=t.get("title"),W="string"==typeof B.offsetCenter[0]?parseFloat(B.offsetCenter[0].split("%")[0])/100*c:B.offsetCenter[0],j="string"==typeof B.offsetCenter[1]?parseFloat(B.offsetCenter[1].split("%")[0])/100*f:B.offsetCenter[1],G=new Yh({style:{text:i.title,x:p-W,y:d-j,font:B.textStyle.fontWeight+" "+B.textStyle.fontSize+"px "+B.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:B.textStyle.color}});this.group.add(G)}},e}(Hf);hx.type=ux;var cx="arcline",fx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=cx,c(r,n)}return u(e,t),e.prototype.update=function(){this.globalModel;var t=this.getData(),e=this.get("selected"),n=po(t.values,function(t,n){return!(e&&!1===e[t.name])});if(n.length>0){n.sort(function(t,e){return e.value-t.value});var r=t.max,i=t.min;this.drawData={max:r,min:i,values:n}}},e}(Qf);fx.type=cx,fx.defaultOption={zlevel:0,z:1,center:["50%","50%"],radius:[10,20],title:{offsetCenter:[0,0],textStyle:{color:"#333",fontStyle:"normal",fontFamily:"sans-serif",fontWeight:"normal",fontSize:14}},circleStyle:{show:!1,innerRadius:55,outerRadius:70,innerStrokeColor:"#333",innerFillColor:"#F04927",outerFillColor:"#F04927"},itemStyle:{normal:{stroke:"#333",fill:"#333",cornerRadius:0,lineWidth:1},formatter:function(t,e){return e},textStyle:{position:null,color:"#333",fontFamily:"sans-serif",fontWeight:"normal",fontSize:12},emphasis:{lineWidth:2}}},qp(fx,hx);var px="arcbar",dx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=px,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){this.remove();var r=Math.PI,i=2*r,o=(this.group,t.getData()),s=(t.get("z"),t.get("zlevel"),t.get("itemStyle")),l=t.get("circleStyle"),u=t.get("hoverStyle"),h=(t.get("colors"),t.get("center")),c=t.get("radius"),f=n.getWidth(),p=n.getHeight(),d=Math.min(f,p),g="string"==typeof h[0]?parseInt(parseFloat(h[0].split("%")[0])/100*f):parseInt(h[0]),v="string"==typeof h[1]?parseInt(parseFloat(h[1].split("%")[0])/100*p):parseInt(h[1]),y=s.itemRadius||6,m="string"==typeof c?parseInt(parseFloat(c.split("%")[0])/100*d)/2:parseInt(c),x=m-y+1,_=(l.edgePadding,u.formatter),w=void 0,b=[],S=o.values,k=0;function M(t,n){var o,s,u,h,c,f=t.endAngle,p=(t.startAngle,t.strokeColor,t.itemValue),d=t.itemName,y=(s=void 0,u=void 0,h=void 0,c=void 0,(o=f)<r/2&&o>=0?(s=u=0,h=c=1):o>=r/2&&o<r?(s=u=0,h=Math.cos(r+o)/2,c=1):o>=r&&o<1.5*r?(s=Math.sin(o-r)/(1+Math.sin(o-r)),u=0,h=0,c=(Math.cos(o-r)+1)/2):o>=1.5*r&&o<i&&(s=.5,u=0,h=(1-Math.sin(i-o))/2,c=(1-Math.cos(i-o))/2),{x:s,y:u,x2:h,y2:c}),b=S[n].color||l.color||["#2bbdb9","#2bbdb9"];("object"!==(void 0===b?"undefined":a(b))||b.length<=1)&&(b=[b,eg(b).brighter()]);var k=new cd({shape:{outerRadius:m,innerRadius:x,endAngle:0,startAngle:0,cornerRadius:4},position:[g,v],style:{fill:{type:"linear",x:y.x,y:y.y,x2:y.x2,y2:y.y2,colorStops:[{offset:0,color:b[0]},{offset:1,color:b[1]}],globalCoord:!1},stroke:null}}),M=void 0;k.on("mouseover",function(){clearTimeout(M),M=setTimeout(function(){w&&w.setStyle("text",_(p)),k.stopAnimation(!0),k.animateTo({shape:{r:m+8}},300,"elasticOut")},50)}),k.on("mouseout",function(){clearTimeout(M),k.stopAnimation(!0),M=setTimeout(function(){k.animateTo({shape:{r:m}},300,"elasticOut")},50)}),k.animateTo({shape:{endAngle:f}},500,"linear"),this.group.add(k);var A=e.get("tooltip")&&e.get("tooltip").formatter;return A||(A=function(t,e){return t+": "+(100*e).toFixed(0)+"%"}),k.data={value:A(d,p)},k}function A(t){if(!1!==u.show)return w=new Yh({style:{text:_(t),x:g,y:.97*v,font:u.textStyle.fontWeight+" "+u.textStyle.fontSize+"px "+u.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:u.textStyle.color}}),this.group.add(w),w}if(function(){var t=l.borderColor,e=(m+x)/2,n=new cd({shape:{outerRadius:e+.5,innerRadius:e-.5,endAngle:0,startAngle:i,cornerRadius:4},position:[g,v],style:{fill:t}});this.group.add(n)}.call(this),S.length>1){var I=S.length,T=void 0;k=gd(S,function(t){return t.value})[1];for(var C,E=0;E<I;E++){C=S[E];var z=Math.abs(C.value/k),L={itemValue:z,startAngle:0,endAngle:z*l.maxAngle/180*r||3*z/4*(2*r)||r,strokeColor:C.color,itemName:C.name};0==E&&(T=z),M.call(this,L,E),x-=y,m-=y}A.call(this,T)}else{var O=Math.abs(o.values[0].value/(o.max-o.min)),D=o.values[0].color,P=o.values[0].name,F=O*l.maxAngle/180*r||O*(2*Math.PI)||0;l.shadowColor&&function(t){var e=t.endAngle,n=new cd({shape:{outerRadius:m,innerRadius:0,endAngle:0,startAngle:0,cornerRadius:0},position:[g,v],style:{fill:l.shadowColor}});n.animateTo({shape:{endAngle:e}},500,"linear"),this.group.add(n)}.call(this,{endAngle:F}),M.call(this,{endAngle:F,itemValue:O,strokeColor:D,startAngle:-r/2,itemName:P},0),A.call(this,O)}for(var N=0;N<b.length;N++)this.group.add(arc);if(o.title){var R=t.get("title"),B="string"==typeof R.offsetCenter[0]?parseFloat(R.offsetCenter[0].split("%")[0])/100*f:R.offsetCenter[0],W="string"==typeof R.offsetCenter[1]?parseFloat(R.offsetCenter[1].split("%")[0])/100*p:R.offsetCenter[1],j=new Yh({style:{text:o.title,x:g-B,y:v-W,font:R.textStyle.fontWeight+" "+R.textStyle.fontSize+"px "+R.textStyle.fontFamily,textBaseline:"middle",textAlign:"center",textFill:R.textStyle.color}});this.group.add(j)}},e}(Hf);dx.type=px;var gx="arcbar",vx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=gx,c(r,n)}return u(e,t),e}(Qf);vx.type=gx,vx.defaultOption={zlevel:0,z:1,center:["50%","50%"],radius:[10,20],title:{offsetCenter:[0,0],textStyle:{color:"#333",fontStyle:"normal",fontFamily:"sans-serif",fontWeight:"normal",fontSize:14}},circleStyle:{maxAngle:270},hoverStyle:{formatter:function(t){return t},textStyle:{position:null,color:"#333",fontFamily:"sans-serif",fontWeight:"normal",fontSize:12}},itemStyle:{normal:{stroke:"#333",fill:"#333",cornerRadius:0}}},qp(vx,dx);var yx="radar",mx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=yx,c(r,n)}return u(e,t),e}(Qf);mx.type=yx,mx.defaultOption={$radarAxisIndex:0,name:void 0,animation:!0,duration:500,easing:"cubicOut",symbol:"circle",symbolSize:3,label:{normal:{show:!1,distanceOffset:1,offset:[0,15],formatter:void 0,textBaseline:"middle",textAlign:"center"},emphasis:{show:!1}},itemStyle:{normal:{lineWidth:1,borderType:"solid",fill:"auto",opacity:.6},emphasis:{lineWidth:1,borderType:"solid",fill:"auto",opacity:.8}},tooltip:{formatter:function(t){for(var e=t.data.name+":<br />",n=0;n<t.indicator.length;n++)e+=t.indicator[n].name+": "+t.data.value[n]+"<br />";return e}},zlevel:0,z:2};var xx=jg,_x=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=yx,c(r,n)}return u(e,t),e.prototype.getBrighterColor=function(t,e){return"auto"==e?t.toString():"hidden"==e?void 0:e},e.prototype.render=function(t,e,n){for(var r,i,o=Math.cos,a=Math.sin,s=["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],u=t.getData(),h=t.get("$radarAxisIndex"),c=e.getComponentByIndex("radarAxis",h),f=c.radiusScaleArr,p=c.angleScale,d=t.get("itemStyle"),g=t.get("label"),v=t.get("label").normal.distanceOffset,y=t.get("duration"),m=t.get("easing"),x=t.get("symbol"),_=t.get("animation"),w=(t.get("$legendIndex"),t.get("selected")),b=n.getWidth(),S=n.getHeight(),k=c.get("center"),M="string"==typeof k[0]?parseInt(parseFloat(k[0].split("%")[0])/100*b):parseInt(k[0]),A="string"==typeof k[1]?parseInt(parseFloat(k[1].split("%")[0])/100*S):parseInt(k[1]),I=[],T=[],C=0;C<u.length;C++){var E=u[C],z=E.value,L=void 0,O=void 0,D=void 0;wo(x)?(L=x.normal.style.stroke?x.normal.style.stroke:s[C],O=x.normal.size,D=x.normal.style.fill?x.normal.style.fill:"#fff"):(L=t.get("color")?t.get("color"):s[C],O=t.get("symbolSize"),D="#fff");var P=(L=xx.color(L)).toString();L.opacity=d.normal.opacity;var F=this.getBrighterColor(L,d.normal.fill),N=[];T=[];for(var R=0;R<z.length;R++){var B=f[R](z[R]),W=B*o(p(R)),j=B*a(p(R)),G=(B+10*v)*o(p(R)),H=(B+10*v)*a(p(R));N.push([W,j,G,H]),T.push([0,0])}w&&!1===w[E.name]||I.push({shape:{points:N},position:[M,A],key:E.name,style:l({stroke:P},d.normal,{fill:F}),data:{value:t.get("tooltip").formatter({seriesIndex:C,color:P,data:E,indicator:c.get("indicator")})}});for(var U=[],q=[],V=0;V<N.length;V++){U.push({z2:4,shape:{cx:N[V][0],cy:N[V][1],r:O},key:"symbol_"+C+"_"+V,position:[M,A],style:{stroke:P,fill:D},data:{value:t.get("tooltip").formatter({seriesIndex:C,color:P,data:E,indicator:c.get("indicator")})}});var Y=N[V][0],$=N[V][1],X=0==Y.toFixed(6)?"center":Y.toFixed(6)<0?"right":"left",K=0==Y.toFixed(6)?$<0?"bottom":"top":void 0;q.push({z2:5,key:"label_"+C+"_"+V,style:l({text:"function"==typeof g.normal.formatter?g.normal.formatter(z[V]):z[V],x:N[V][2]-g.normal.offset[0],y:N[V][3]-g.normal.offset[1],textFill:P},g.normal,{textAlign:X,textVerticalAlign:K}),position:[M,A],data:{value:t.get("tooltip").formatter({seriesIndex:C,color:P,data:E,indicator:c.get("indicator")})}})}this.setShapeGroup("symbolGroup"+C,$h,U,{animation:_,animateFrom:{shape:{r:0}},duration:y,easing:m},void 0,function(t){t.on("mouseover",function(t){var e=t.target;r._children[e.name.split("_")[1]].trigger("mouseover")}),t.on("mouseout",function(t){var e=t.target;r._children[e.name.split("_")[1]].trigger("mouseout")})}),i=this.setShapeGroup("labelGroup"+C,Yh,q),g.normal.show?i.show():i.hide()}var Z=this;r=this.setShapeGroup("polygon",ec,I,{animation:_,animateFrom:{shape:{points:T}},duration:y,easing:m},void 0,function(e){e.on("mouseover",function(){g.emphasis.show?(i.eachChild(function(t){var e=t.style.textAlign;t.setStyle(l({},g.emphasis,{textAlign:e})),t.z2=3}),i.show()):i.hide();var e=xx.color(this.style.stroke);e.opacity=d.emphasis.opacity,this.setStyle(l({},d.emphasis,{fill:Z.getBrighterColor(e,d.emphasis.fill)})),this.z2=3,n.dispatchAction(t,Af.mouseover,this)}),e.on("mouseout",function(){g.normal.show?(i.eachChild(function(t){var e=t.style.textAlign;t.setStyle(l({},g.normal,{textAlign:e})),t.z2=0}),i.show()):i.hide();var e=xx.color(this.style.stroke);e.opacity=d.normal.opacity,this.setStyle(l({},d.normal,{fill:Z.getBrighterColor(e,d.normal.fill)})),this.z2=0,n.dispatchAction(t,Af.mouseout,this)}),e.on("click",function(e){var r=e.target;n.dispatchAction(t,Af.itemClick,r)})})},e}(Hf);_x.type=yx,qp(mx,_x);var bx=Eh.extend({type:"d3-area",shape:{data:[],x:void 0,x0:void 0,x1:void 0,y:void 0,y0:void 0,y1:void 0,defined:void 0,curve:void 0,yStart:0,percent:1},style:{stroke:null,fill:"#000"},updateArea:function(){!this.area&&(this.area=function(){var t=Ac,e=null,n=Sc(0),r=Ic,i=Sc(!0),o=null,a=Mc,s=null;function l(l){var u,h,c,f,p,d=l.length,g=!1,v=new Array(d),y=new Array(d);for(null==o&&(s=a(p=bc())),u=0;u<=d;++u){if(!(u<d&&i(f=l[u],u,l))===g)if(g=!g)h=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),c=u-1;c>=h;--c)s.point(v[c],y[c]);s.lineEnd(),s.areaEnd()}g&&(v[u]=+t(f,u,l),y[u]=+n(f,u,l),s.point(e?+e(f,u,l):v[u],r?+r(f,u,l):y[u]))}if(p)return s=null,p+""||null}function u(){return Tc().defined(i).curve(a).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:Sc(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:Sc(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Sc(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:Sc(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:Sc(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Sc(+t),l):r},l.lineX0=l.lineY0=function(){return u().x(t).y(n)},l.lineY1=function(){return u().x(t).y(r)},l.lineX1=function(){return u().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:Sc(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}());var t=this.area,e=this.shape;for(var n in e)!~["data","percent","yStart"].indexOf(n)&&t[n]&&void 0!==e[n]&&("y1"===n||"y0"===n?function(){var r=e[n],i=xo(r),o=e.percent,a=e["y1"===n?"y1Start":"y0Start"],s=xo(a);t[n](function(t,e,n){return(i?r(t,e,n):r)*o+(a?(s?a(t,e,n):a)*(1-o):0)})}():t[n](e[n]))},buildPath:function(t,e){this.updateArea(),this.area.context(t)(e.data)}});function Sx(t){return t<0?-1:1}function kx(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Sx(o)+Sx(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Mx(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ax(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Ix(t){this._context=t}function Tx(t){this._context=new Cx(t)}function Cx(t){this._context=t}function Ex(t){this._context=t}function zx(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Lx(t,e){this._context=t,this._t=e}Ix.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ax(this,this._t0,Mx(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ax(this,Mx(this,n=kx(this,t,e)),n);break;default:Ax(this,this._t0,n=kx(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Tx.prototype=Object.create(Ix.prototype)).point=function(t,e){Ix.prototype.point.call(this,e,t)},Cx.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Ex.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=zx(t),i=zx(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Ox={linear:Mc,monotoneX:function(t){return new Ix(t)},monotoneY:function(t){return new Tx(t)},natural:function(t){return new Ex(t)},step:function(t){return new Lx(t,.5)},stepAfter:function(t){return new Lx(t,1)},stepBefore:function(t){return new Lx(t,0)}};function Dx(t){var e=t.type,n=void 0;switch(e){case"bundle":n="beta";break;case"cardinal":case"cardinalOpen":case"cardinalClosed":n="tension";break;case"catmullRom":case"catmullRomOpen":case"catmullRomClosed":n="alpha"}return n?Ox[e][n](t.param):Ox[e]}var Px="scatter",Fx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Px,r.isScatter=!0,c(r,n)}return u(e,t),e.prototype.formatData=function(t){return t&&t.length?mo(t[0])?t:fo(t,function(t,e){return[e,t]}):t},e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&"scatter"===e.type&&!gf(e,"symbol.normal.style.fill")&&df(e,"symbol.normal.style.fill",e.color),void 0===e.$calendarIndex&&void 0===e.$geoIndex||(e.$axisIndex=void 0)},e.prototype.updateByCalendar=function(){var t=this.globalModel,e=this.getData(),n=t.getComponentByIndex("calendar",this.get("$calendarIndex")),r=[];co(e,function(t,e){if(t){var i=t[0],o=[],a=n.calcPoint(i);o=a?[a.x,a.y,t,e]:null,r.push(o)}}),this.data=e,this.startIndex=0,this.lastPoints=this.points,this.points=r},e.prototype.updateByGeo=function(){var t=this.globalModel,e=this.getData(),n=t.getComponentByIndex("geo",this.get("$geoIndex")),r=[];co(e,function(t,e){if(t){var i=[],o=n.projection(t);i=o?[o[0],o[1],t,e]:null,r.push(i)}}),this.data=e,this.startIndex=0,this.lastPoints=this.points,this.points=r},e.prototype.updateByAxis=function(){var t=this,e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=!!this.get("stack"),i=r?this.stackData:this.getData(),o=[],a=void 0,s="left"===e.get("position")||"right"===e.get("position");if(!n){var l=e.get("position");a=uf(this.get("offset"),this.global["bottom"===l||"top"===l?"getHeight":"getWidth"]())+e.pos}var u="time"===e.get("type"),h=e&&e.scale,c=h&&h.domain(),f=n&&"time"===n.get("type"),p=n&&n.scale,d=p&&p.domain(),g=n&&n.get("compare");if(!this.get("stack")&&g&&"ordinal"===e.getAxisType()){var v=e.startIndex,y=e.endIndex,m=i[v][1];i=i.map(function(t){if(t[0]<v||t[0]>y)return t;var e=[].concat(t);return"percent"===g?e[1]=(e[1]-m)/m:e[1]-=m,e[2]=t,e})}co(i,function(i,l){if(i){var g=i.value||i,v=g[0],y=g[1],m=[];r&&(y=y[1]),m[s?1:0]=Nx(v,e,u,h,c),m[s?0:1]=n?mo(y)?fo(y,function(t){return Nx(t,n,f,p,d)}):Nx(y,n,f,p,d):a,isNaN(m[0])||isNaN(m[1])?"area"===t.get("type")?isNaN(m[0])?o.push(null):o.push(m):o.push(null):(r?(m[2]=i[2],m[3]=l):(m[2]=i,m[3]=l),o.push(m))}else o.push(null)}),this.data=i,this.startIndex=e.startIndex,this.lastPoints=this.points,this.points=o},e.prototype.update=function(){void 0!==this.get("$calendarIndex")?this.updateByCalendar():void 0!==this.get("$geoIndex")?this.updateByGeo():this.updateByAxis()},e.prototype.getSeriesColor=function(t){if(this.get("color"))return this.get("color");var e=this.get("symbol").normal;return e.style.fill||e.style.stroke},e.prototype.onUnSelected=function(){this.lastPoints=void 0,this.preLastPoints=void 0,this.points=void 0},e}(Qf);function Nx(t,e,n,r,i){if(n&&!(t instanceof Date)&&(t=new Date(t)),"number"==typeof t||n)switch(e.getAxisType()){case"continuous":if(t<=i[1]&&t>=i[0])return r(t);break;case"ordinal":var o=e.startIndex;if(t<=e.endIndex&&t>=o)return r(i[t-o])+("band"===e.get("type")?r.bandwidth()/2:0)}}Fx.type=Px,Fx.emphasisList=["symbol","label"],Fx.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,symbol:{normal:{show:!0,type:"circle",offset:[0,0],size:8,style:{fill:"#058499"}},emphasis:{show:!1,style:{}}},label:{normal:{show:!1,style:{position:"top"},formatter:void 0},emphasis:{show:!1,style:{}}},$geoIndex:void 0,markers:{linkLine:{style:{lineWidth:2,stroke:"#FFBB00"},retain:150,linePoints:void 0},labelGroup:[],data:void 0},large:!1,largeThreshold:2e3,onClick:void 0,onDBLClick:void 0,selectedList:[],enableSelect:!1,legendHoverLink:!0,whenEmphasisZ:99999,offset:0,cursor:"default",zlevel:0,z:4};var Rx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Px,c(r,n)}return u(e,t),e.prototype.renderAllSymbol=function(t,e,n,r){this.group,t.get("symbol").normal;var i=t.isScatter,o=t.get("selectedList"),a=t.get("whenEmphasisZ"),s=t.get("animation"),l=t.get("animationDuration"),u=t.get("animationEasing"),h=t.get("cursor"),c=[],f=[],p=void 0;co(r,function(e,n){if(e){var r=e[2],i=!!o&&o.indexOf(e[3])>-1,s={shape:Wx(t,r,i),position:[e[0],e[1]],key:e[3],z2:i&&a?a:e[3]+99,seriesIndex:t.index,dataIndex:e[3],rectHover:!0,cursor:h};c.push(s),f.push({shape:{x:0,y:0,width:0,height:0},position:[e[0],e[1]]})}}),p=i||t.get("stack")?{shape:{x:0,y:0,width:0,height:0},position:[0,0]}:null,this.setShapeGroup("symbolGroup",lp,c,{animation:s,duration:l,easing:u,animateFrom:f,animateList:p},function(e){e.on("mouseover",function(e){var r=e.target;Bx(r,t,!0),a&&(r.z2=a+1),n.dispatchAction(t,Af.mouseover,{data:t.points[r.dataIndex][2],dataIndex:r.dataIndex,name:t.get("name"),seriesIndex:t.index,position:{x:t.points[r.dataIndex][0],y:t.points[r.dataIndex][1]}})}),e.on("mouseout",function(e){var r=e.target;-1===t.get("selectedList").indexOf(r.dataIndex)&&Bx(r,t,!1),n.dispatchAction(t,Af.mouseout,{data:t.points[r.dataIndex][2],dataIndex:r.dataIndex,name:t.get("name"),seriesIndex:t.index,position:{x:t.points[r.dataIndex][0],y:t.points[r.dataIndex][1]}})}),e.on("click",function(r){var i=t.get("enableSelect"),o=t.get("selectedList"),a=r.target;if("multiple"===i){var s=o.indexOf(a.dataIndex);s>-1?(o.splice(s,1),t.set("selectedList",o),Bx(a,t,!1)):(o.push(a.dataIndex),t.set("selectedList",o))}else i&&(co(o,function(n){e.childOfName(n)&&Bx(e.childOfName(n),t,!1)}),t.set("selectedList",[a.dataIndex]),n.dispatchAction(t,Af.selectedListChange,[a.dataIndex]));n.dispatchAction(t,Af.itemClick,{data:t.points[a.dataIndex][2],dataIndex:a.dataIndex,name:t.get("name"),seriesIndex:t.index,position:{x:t.points[a.dataIndex][0],y:t.points[a.dataIndex][1]}}),t.get("onClick")&&t.get("onClick")(t.points[a.dataIndex][2],r)}),e.on("dblclick",function(e){var n=e.target;t.get("onDBLClick")&&t.get("onDBLClick")(t.points[n.dataIndex][2],e)})}),this.getShape("symbolGroup").eachChild(function(e){~o.indexOf(e.dataIndex)?Bx(e,t,!0,!0):Bx(e,t,!1,!0)})},e.prototype.renderLargeSymbol=function(t,e,n,r){var i=t.get("symbol").normal,o=[];co(r,function(e){if(e){var n=e[2],r=Wx(t,n,!1);r.x+=e[0],r.y+=e[1],o.push(r)}}),this.setShape("symbolGroup",hp,{shape:{points:o},style:i.style,silent:!0})},e.prototype.getMarkerInfoByItemIndex=function(t,e){var n=void 0;return e.map(function(e,r){e[3]!=t||(n=e)}),n},e.prototype.renderMarkers=function(t,e,n,r){var i=this,o=t.get("markers"),a=o.data,s=o.linkLine,u=o.labelGroup,h=t.get("$geoIndex"),c=n.getModel("geo",h),f=[],p=[];("selectedList"===a?t.get("selectedList").map(function(t,e){return{itemIndex:t}}):a).map(function(t,e){var n=eo(to(t.linkLine)||{},s),o=eo(to(t.labelGroup)||[],u),a=t.itemIndex,h=n.linePoints,d=n.retain,g=void 0,v=i.getMarkerInfoByItemIndex(a,r);mo(g="function"==typeof h?h({position:c.position,startPos:[v[0],v[1]],markerInfo:v[2],itemIndex:v[3],retain:d}):mo(h)?h:[[v[0],v[1]],[v[0]+20,v[1]-40],[v[0]+20+d,v[1]-40]]),f.push({shape:{x:function(t){return t[0]},y:function(t){return t[1]},data:g,percent:1,defined:function(t){return t}},style:n.style,markerLine:{itemIndex:a,markerInfo:v}});for(var y=0;y<o.length;y++){var m=o[y],x=m.offset||[0,0],_=void 0;"function"==typeof m.formatter&&(_=m.formatter({position:c.position,startPos:[v[0],v[1]],markerInfo:v[2],itemIndex:v[3],retain:d})),"function"==typeof m.offset&&(x=m.offset({position:c.position,startPos:[v[0],v[1]],markerInfo:v[2],itemIndex:v[3],retain:d})),_&&p.push({style:l({},m.style,{text:_}),position:[g[1][0]+x[0],g[1][1]+x[1]]||g[1]})}}),this.setShapeGroup("markerLine",Cc,f),this.setShapeGroup("markerText",Yh,p)},e.prototype.render=function(t,e,n){var r=t.points,i=t.tickPoints,o=t.isScatter,a=t.get("symbol").normal,s=t.get("markers"),l="all"===a.show||o?r:i;a.show?t.get("large")&&l.length>t.get("largeThreshold")?this.renderLargeSymbol(t,e,n,l):this.renderAllSymbol(t,e,n,l):this.removeShape("symbolGroup"),s&&s.show&&("selectedList"===s.data||s.data[0])&&this.renderMarkers(t,e,n,l)},e.prototype.highlight=function(t,e,n,r){if(r){var i=r.index,o=t.get("symbol").emphasis,a=t.get("label").emphasis,s=t.get("z"),l=t.get("type"),u=t.get("zlevel"),h=t.getRealData(),c=t.points,f="scatter"===l?cf(h,function(t){return t&&t[0]===i}):[i];if(o.show||a.show){this.getShape("highlightSymbol");var p=this.getShape("symbolGroup"),d=[];co(f,function(e){var n=p&&p.childOfName(e);if(n)Bx(n,t,!0);else{var r=c[e];if(!r)return;var i=r[2],o={shape:Wx(t,i,!0),position:[r[0],r[1]],dataIndex:r[3],style:jx(t,i,!0,r[3]),z2:r[3]+99,z:s,zlevel:u,seriesIndex:t.index};d.push(o)}}),this.setShapeGroup("highlightSymbol",lp,d).show()}}else{var g=this.getShape("symbolGroup");g&&g.eachChild(function(e){Bx(e,t,!0)})}},e.prototype.downplay=function(t,e,n,r){var i=this,o=t.get("selectedList");if(r){var a=r.index,s=(r.startIndex,t.getRealData()),l="scatter"===t.get("type")?cf(s,function(t){return t&&t[0]===a}):[a];this.getShape("symbolGroup")&&co(l,function(e){var n=i.getShape("symbolGroup").childOfName(e);n&&-1===o.indexOf(e)&&Bx(n,t,!1)}),this.getShape("highlightSymbol")&&this.getShape("highlightSymbol").hide()}else{var u=this.getShape("symbolGroup");u&&u.eachChild(function(e){-1===o.indexOf(e.dataIndex)&&Bx(e,t,!1)})}},e}(Hf);function Bx(t,e,n,r){if(e.get("symbol")[n?"emphasis":"normal"].show){var i=e.get("stack")?e.stackData[t.dataIndex][2]:e.getRealData(t.dataIndex);r||(t.stopAnimation(!0),t.animate("shape",!1).when(100,Wx(e,i,n)).start()),t.useStyle(jx(e,i,n,t.dataIndex)),!n&&(t.z2=t.dataIndex+99)}}function Wx(t,e,n){var r=t.get("symbol"),i=(r=n?eo(to(r.normal),r.emphasis,!0):r.normal).type,o=r.size,a=r.offset,s=ff("function"==typeof o?o(e):o);return{symbolType:i,x:-s.width/2+a[0],y:-s.height/2+a[1],width:s.width,height:s.height}}function jx(t,e,n,r){var i=t.get("symbol"),o=t.get("label"),a=i.normal.style,s=e[1],u={data:e,index:r-t.startIndex,dataIndex:r},h=t.get("$visualMapIndex"),c=void 0,f=void 0;if(c=xo(a)?a(s,u):to(a),void 0!==h){var p=t.globalModel.getComponentByIndex("visualMap",h);void 0!==t.get("$calendarIndex")||"line"===t.get("type")?c.fill=p.getColorStop(e[1],c.fill):c.fill=p.getColorStop(e[2],c.fill)}if(n){var d=i.emphasis.style;c=eo(c,d=xo(d)?d(s,u):to(d),!0)}if(n){var g=o.emphasis;if(g.show){var v=o.normal,y=g.formatter||v.formatter,m=eo(xo(v.style)?v.style(s,u):to(v.style),g.style,!0);f=l({text:y?y(s,u):s},tf(Gx(m,s,u)))}}else{var x=o.normal;if(x.show){var _=x.formatter,w=xo(x.style)?x.style(s,u):to(x.style);f=l({text:_?_(s,u):s},tf(Gx(w,s,u)))}}return f&&(c=eo(c,f)),c}function Gx(t,e,n){var r={};return co(t,function(t,i){xo(t)?r[i]=t(e,n):r[i]=t}),r}Rx.type=Px;var Hx="line",Ux=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Hx,r.isScatter=!1,c(r,n)}return u(e,t),e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&(gf(e,"line.normal.style.stroke")||df(e,"line.normal.style.stroke",e.color),gf(e,"area.normal.style.fill")||df(e,"area.normal.style.fill",e.color),gf(e,"symbol.normal.style.fill")||gf(e,"symbol.normal.style.stroke")||(df(e,"symbol.normal.style.fill","white"),df(e,"symbol.normal.style.stroke",e.color)))},e.prototype.update=function(){t.prototype.update.call(this);var e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=e.scale,i=n.scale,o=i.domain(),a=r.domain(),s=this.get("stack"),l=this.data,u="band"===e.get("type")?r.bandwidth()/2:0,h=this.points,c="left"===e.get("position")||"right"===e.get("position");if("ordinal"===e.getAxisType()){var f=this.get("symbol").normal;if("auto"===f.show){var p=ff(f.size),d=["bottom","top"].indexOf(e.get("position"))>-1,g=[];p=d?p.width:p.height;for(var v=0;v<h.length;v++)h[v]&&(g.length?h[v][d?0:1]-g[g.length-1][d?0:1]>p&&g.push(h[v]):g.push(h[v]));this.tickPoints=g}else this.tickPoints=fo(e.axis.values(),function(t,n){var o=a.indexOf(t)+e.startIndex;if(l[o]){var h=l[o][1];if("number"!=typeof h)return;var c=r(t)+u,f=i(s?h[1]:h);if("number"==typeof c&&"number"==typeof f)return[c,f,l[o],o]}})}else this.tickPoints=h;if("time"===e.get("type")){var y=void 0,m=void 0,x=void 0,_=void 0;for(x=h.length;x--;)if(h[x]){x<h.length-1&&new Date(l[x+1][0])>r.domain()[1]&&(m=h[x]);break}for(_=0;_<h.length;_++)if(h[_]){_>0&&new Date(l[_-1][0])<r.domain()[0]&&(y=h[_]);break}m||y?(this.points=[].concat(h),m&&this.points.splice(x+1,0,c?[m[0],r.range()[1],m[2],m[3]]:[r.range()[1],m[1],m[2],m[3]])):this.points=h}this.y0=i(o[1]<0?o[1]:o[0]>0?o[0]:0),this.startIndex=e.startIndex,this.endIndex=e.endIndex,this.yAxis=n},e.prototype.getSeriesColor=function(t){if(this.get("color"))return this.get("color");var e=this.get("line").normal,n=this.get("area").normal,r=this.get("symbol").normal;return e.show?e.style.stroke:n.show?n.style.fill:r.style.fill||r.style.stroke},e}(Fx);function qx(t,e,n){return Math.min(Math.max(t,e),n)}Ux.type=Hx,Ux.emphasisList=["symbol","link","label","line","area"],Ux.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,pieces:void 0,aliasType:void 0,line:{normal:{show:!0,style:{fill:void 0,stroke:"#058499",lineWidth:2}},emphasis:{}},area:{normal:{show:!1,snapToBottom:!1,style:{fill:"#058499"}},emphasis:{}},symbol:{normal:{show:!1,type:"circle",offset:[0,0],size:8,style:{}},emphasis:{show:!1,style:{}}},link:{normal:{show:!1,style:{}},emphasis:{show:!1,style:{}}},label:{normal:{show:!1,style:{position:"top"},formatter:void 0},emphasis:{show:!1,style:{}}},curve:{type:"linear",param:void 0},showRipple:!1,connectNulls:!1,legendHoverLink:!0,selectedList:[],enableSelect:!1,cursor:"default",zlevel:0,z:3};var Vx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Hx,c(r,n)}return u(e,t),e.prototype.render=function(e,n,r){var i;(i=t.prototype.render).call.apply(i,[this].concat(Array.prototype.slice.call(arguments)));this.group;var o=e.get("line").normal,a=e.get("area").normal,s=a.snapToBottom,u=e.get("curve"),h=e.get("link").normal,c=e.get("pieces"),f=e.get("animation"),p=e.get("animationDuration"),d=e.get("animationEasing"),g=e.get("cursor"),v=e.y0,y=e.points,m=e.tickPoints,x=gd(y,function(t){return t&&t[1]}),_=x[0],w=x[1],b=e.stackIndex,S=e.lastStackTotal,k=e.stackTotal,M=e.lineTotal,A=e.lastLineTotal,I=e.get("stack"),T=void 0,C=e.yAxis.scale;if(c){for(var E=[],z=r.getHeight(),L=0;L<c.length;L++){var O=c[L];void 0!==O.max?E.push({offset:qx(C(O.max)/z,0,1),color:O.color}):E.push({offset:0,color:O.color}),void 0!==O.min?E.push({offset:qx(C(O.min)/z,0,1),color:O.color}):E.push({offset:1,color:O.color})}T={global:!0,x:0,x2:0,y:0,y2:z,colorStops:E}}e.get("connectNulls")&&(y=po(y,function(t){return t}));var D=v,P=v,F=v;if(e.lastPoints&&(F=function(t,n){return e.lastPoints[n]?e.lastPoints[n][1]:t[1]}),I){var N=e.preLastPoints;if(N)P=function(t,e){return N[e]?N[e][1]:t[1]};else if(b){var R=Yx(e,n);R.lastPoints&&(P=F=function(t,e){return R.lastPoints[e]?R.lastPoints[e][1]:t[1]})}if(b){var B=Yx(e,n);D=function(t,e){return B.points[e]&&B.points[e][1]},e.preLastPoints=B.points}else e.preLastPoints=void 0}if(a.show){(I&&k!==S||M!==A)&&this.getShape("area")&&this.setShape("area",bx,{shape:{percent:0}});var W=Math.max(C.range()[1],C.range()[0]),j={x:function(t){return t[0]},y1:function(t){return t[1]},y0:s?W:D,y0Start:s?W:P,y1Start:s?W:F,data:y,curve:Dx(u),percent:1,defined:function(t){return t}},G=v>w||s?a.style:af(a.style,(v<_?0:v-_)/(w-_));T&&(G=l({},G,{fill:T})),this.setShape("area",bx,{shape:j,style:G,z2:0,cursor:g},{animation:f,duration:p,easing:d,animateFrom:{shape:{percent:0}}},function(t){var n=e.get("area").emphasis;n.style&&Zc(t,n.style)})}else this.removeShape("area");if(o.show){(I&&k!==S||M!==A)&&this.getShape("line")&&this.setShape("line",Cc,{shape:{percent:0}});var H={x:function(t){return t[0]},y:function(t){return t[1]},data:y,yStart:F,percent:1,curve:Dx(u),defined:function(t){return t}},U=o.style;T&&(U=l({},U,{stroke:T})),this.setShape("line",Cc,{shape:H,style:U,z2:1,cursor:g},{animation:f,duration:p,easing:d,animateFrom:{shape:{percent:0}}},function(t){var n=e.get("line").emphasis;n.style&&Zc(t,n.style)}),e.get("showRipple")&&function(t,e){var n=t.data,r=n.length,i=void 0,o=void 0,a=void 0;if(n.filter(function(t){return t}).length<=1)return void this.removeShape("rippleGroup");for(a=r-1;a>=0;--a)if(n[a]){i=n[a][0],o=n[a][1];break}for(var s=new Cs,l=void 0,u=void 0,h=new lp({position:[i,o],z:102,z2:102,shape:{symbolType:"circle",width:4,height:4,x:-2,y:-2},style:{fill:"#fff"}}),c=0;c<2;++c){l=c/2*3e3;var f=(u=new lp({position:[i,o],scale:[1,1],z:101,z2:101,shape:{symbolType:"circle",x:-2,y:-2,width:4,height:4},style:{fill:e.stroke}})).animate("",!0).when(3e3,{scale:[4,4]}).delay(l),p=u.animateStyle(!0).when(3e3,{opacity:0}).delay(l);f.start(),p.start(),s.add(h),s.add(u)}this.set("rippleGroup",s)}.call(this,H,U)}else this.removeShape("line");if(h.show){var q="all"===h.show?y:m,V=[],Y=h.style,$=af(h.style,0),X=void 0;if(I&&b){var K=Yx(e,n);X="all"===h.show?K.points:K.tickPoints}co(q,function(t,e){t&&V.push(Fc({shape:{x1:t[0],y1:X?X[e][1]:v,x2:t[0],y2:t[1],percent:1},style:v>t[1]?Y:$,key:e,z2:2,cursor:g}))}),this.setShapeGroup("linkGroup",lc,V,{animation:f,duration:p,easing:d,animateFrom:{shape:{percent:0}}})}else this.removeShape("linkGroup")},e.prototype.highlight=function(e,n,r,i){var o;if((o=t.prototype.highlight).call.apply(o,[this].concat(Array.prototype.slice.call(arguments))),i){var a=i.index,s=e.get("link").emphasis,l=e.get("z"),u=e.get("stack"),h=e.get("zlevel"),c=e.getRealData(),f=e.points,p=cf(c,function(t){return t&&t[0]===a}),d=e.y0;if(s.show){var g=e.stackIndex,v=(this.getShape("highlightLink"),eo(to(e.get("link").normal),s,!0)),y=void 0,m=[];if(u&&g){var x=Yx(e,n);y=x.points}co(p,function(t){var e=f[t];if(e){var n={shape:{x1:e[0],y1:y?y[t][1]:d,x2:e[0],y2:e[1]},style:af(v.style,d>e[1]?1:0),z2:10,z:l,zlevel:h};m.push(n)}}),this.setShapeGroup("highlightLink",lc,m).show()}}else this.getShape("line")&&this.getShape("line").trigger("emphasis"),this.getShape("area")&&this.getShape("area").trigger("emphasis")},e.prototype.downplay=function(e,n,r,i){var o;(o=t.prototype.downplay).call.apply(o,[this].concat(Array.prototype.slice.call(arguments))),i?this.getShape("highlightLink")&&this.getShape("highlightLink").hide():(this.getShape("line")&&this.getShape("line").trigger("normal"),this.getShape("area")&&this.getShape("area").trigger("normal"))},e}(Rx);function Yx(t,e){var n=t.get("stack"),r=t.stackIndex;return e.getComponent("series",function(t){return t.get("stack")===n&&t.stackIndex===r-1},!0)[0]}Vx.type=Hx,qp(Ux,Vx);var $x=Eh.extend({type:"largeRects",shape:{points:[],y0:0,rectWidth:1},style:{fill:"black",stroke:null},buildPath:function(t,e){var n=e.points,r=e.y0,i=e.rectWidth;co(n,function(e){t.rect(e[0],e[1],i,r-e[1])})}}),Xx="bar",Kx=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Xx,c(r,n)}return u(e,t),e.prototype.formatData=function(t){var e="band"===this.getAxisModel("x").get("type");return fo(t,function(t,n){return e?[n,t]:t})},e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&!gf(e,"itemStyle.normal.fill")&&df(e,"itemStyle.normal.fill",e.color)},e.prototype.update=function(){this.globalModel;var t=this.barTotal,e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=n&&n.get("compare"),i=e.startIndex,o=e.endIndex,a=e.scale,s=n.scale,l=a.domain(),u=s.domain(),h=s(u[1]<0?u[1]:u[0]>0?u[0]:0),c=void 0,f=void 0,p=void 0,d=[];if("band"===e.get("type")){var g=a.bandwidth(),v=e.barGap,y=(1-v*(t-1))/t;if(c=(this.get("stack")?this.stackData:this.getData()).slice(i,o+1),p=g*y,f=g*(this.barIndex*(v+y)),!this.get("stack")&&r){var m=c[0][1];c=c.map(function(t){var e=[].concat(t);return"percent"===r?e[1]=(e[1]-m)/m:e[1]-=m,e[2]=t,e}),this.data=c}co(c,function(t,e){if(t){t[0];var n=t[1],r=mo(n)?fo(n,function(t){return s(t)}):s(n);d.push([a(l[e])+f,r,t,e+i,e])}}),this.bandwidth=a.bandwidth(),this.centerOffset=f+p/2}else{var x=this.getData();p=this.get("rectWidth"),f=-p/2,co(x,function(t,r){if(t){var i=t[0],o=t[1],a=mo(o)?fo(o,function(t){return Zx(t,n)}):Zx(o,n),s=[];s[0]=Zx(i,e)+f,s[1]=a,isNaN(s[0])||isNaN(s[0])||(s[2]=t,s[3]=r,d.push(s))}})}this.ticks=fo(e.axis.values(),function(t){return l.indexOf(t)+i}),this.points=d,this.y0=h,this.position=e.get("position"),this.rectWidth=Math.max(p,.5)},e.prototype.getSeriesColor=function(t){if(this.get("color"))return this.get("color");var e=this.get("itemStyle").normal;switch(this.get("barType")){case"cuboid":e=e.front;break;case"shadowRect":e=e.rect}var n=e.fill||e.stroke;return n?wo(n)?n.colorStops[0].color:e.fill:void 0},e}(Qf);function Zx(t,e){var n="time"===e.get("type");if(n&&!(t instanceof Date)&&(t=new Date(t)),"number"==typeof t||n){var r=e.getAxisType(),i=e.scale,o=i.domain();switch(r){case"continuous":if(t<=o[1]&&t>=o[0])return i(t);break;case"ordinal":var a=e.startIndex;if(t<=e.endIndex&&t>=a)return i(o[t-a])+("band"===e.get("type")?i.bandwidth()/2:0)}}}function Qx(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.style,r=e.show,i=e.formatter,o=arguments[2],a=arguments[3],s=arguments[4];if(r){var u=o.data[1],h=function(t,e){return l({},t,{seriesIndex:e.index,seriesName:e.name})}(o,s),c=(xo(n)?n(u,h):n)||{};return eo(a.getFormattedText(function(t,e,n){var r={};return co(t,function(t,i){xo(t)?r[i]=t(e,n):r[i]=t}),r}(l({},c,{text:i?i(u,h):u}),u,h)),t)}return t}function Jx(t,e,n,r){var i=t.rectWidth,o=t.position,a=t.y0,s=(t.points,t.data),u=t.model,h=t.globalModel,c=(t.ticks,n[0]),f=n[1],p=n[2],d=n[3],g=n[4],v=e?{fill:"rgba(0, 0, 0, 0)"}:r?eo(u.get("itemStyle").emphasis,u.get("itemStyle").normal):u.get("itemStyle").normal,y=u.get("rectMin"),m=u.get("rectRadius"),x=r?eo(u.get("label").emphasis,u.get("label").normal):u.get("label").normal,_=xo(v)?v(s[d]):l({},v),w=u.get("subPixelOptimize"),b=u.get("$visualMapIndex"),S=xo(m)?m(s[d]):m;if(void 0!==b){var k=u.globalModel.getComponentByIndex("visualMap",b);_.fill=k.getColorStop(p[1],_.fill)}if("top"===o||"bottom"===o){var M=void 0,A=void 0;if(mo(f)){var I=Math.min.apply(null,f);M=Math.max.apply(null,f)-I,A=I}else M=a-f,A=f;e&&(_=Qx(_,x,{data:s[d],dataIndex:d,index:g},h,u)),Math.abs(M)<y&&(M<0?(A+=y+M,M=-y):(A-=y-M,M=y)),s[d][1]<0&&(_=af(_)),M<0&&(A+=M,M=-M);var T={shape:{x:c,y:A,width:i,height:M,r:S},key:d,style:_,z2:e?9:1};return w&&(T=Nc(T)),{attr:T,animateFrom:{shape:{y:mo(f)?f[0]:a,height:0}}}}var C=void 0,E=void 0;if(mo(f)){var z=Math.min.apply(null,f);C=Math.max.apply(null,f)-z,E=z}else C=a-f,E=f;e&&(_=Qx(_,x,{data:s[d],dataIndex:d},h,u)),Math.abs(C)<y&&(C<0?(E+=y+C,C=-y):(E-=y-C,C=y)),s[d][1]<0&&(_=af(_)),C<0&&(E+=C,C=-C);var L={shape:{x:E,y:c,width:C,height:i,r:S},key:d,style:_,z2:e?9:1};return w&&(L=Nc(L)),{attr:L,animateFrom:{shape:{x:mo(f)?f[0]:a,width:0}}}}Kx.type=Xx,Kx.emphasisList=["itemStyle","label"],Kx.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,rectRadius:void 0,subPixelOptimize:!0,itemStyle:{normal:{},emphasis:{}},label:{normal:{show:!1,formatter:void 0,style:{position:"inside"}},emphasis:{show:!1,style:{}}},joinArea:{show:!1,style:{fill:"rgba(12, 55, 256, 0.3)"},showLabel:!0,labelStyle:{},formatter:void 0},large:!1,largeThreshold:2e3,barType:"rect",selectedList:[],enableSelect:!1,onZero:!0,xLookAngle:30,yLookAngle:30,rectMin:0,rectWidth:10,legendHoverLink:!0,stack:void 0,overlap:void 0,hideZero:!1,cursor:"default",zlevel:0,z:2};var t_=Array,e_=function(t){var e,n,r;if(t&&"object"===(void 0===t?"undefined":a(t))&&t.hasOwnProperty("elements")){for(n=t.elements,r=new t_(16),e=0;e<16;++e)r[e]=n[e];this.elements=r}else this.elements=new t_([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};e_.prototype.setIdentity=function(){var t=this.elements;return t[0]=1,t[4]=0,t[8]=0,t[12]=0,t[1]=0,t[5]=1,t[9]=0,t[13]=0,t[2]=0,t[6]=0,t[10]=1,t[14]=0,t[3]=0,t[7]=0,t[11]=0,t[15]=1,this},e_.prototype.set=function(t){var e,n,r;if((n=t.elements)!==(r=this.elements)){for(e=0;e<16;++e)r[e]=n[e];return this}},e_.prototype.concat=function(t){var e,n,r,i,o,a,s,l;if(n=this.elements,r=this.elements,n===(i=t.elements))for(i=new t_(16),e=0;e<16;++e)i[e]=n[e];for(e=0;e<4;e++)o=r[e],a=r[e+4],s=r[e+8],l=r[e+12],n[e]=o*i[0]+a*i[1]+s*i[2]+l*i[3],n[e+4]=o*i[4]+a*i[5]+s*i[6]+l*i[7],n[e+8]=o*i[8]+a*i[9]+s*i[10]+l*i[11],n[e+12]=o*i[12]+a*i[13]+s*i[14]+l*i[15];return this},e_.prototype.multiply=e_.prototype.concat,e_.prototype.multiplyVector3=function(t){var e=this.elements,n=t.elements,r=new n_,i=r.elements;return i[0]=n[0]*e[0]+n[1]*e[4]+n[2]*e[8]+e[11],i[1]=n[0]*e[1]+n[1]*e[5]+n[2]*e[9]+e[12],i[2]=n[0]*e[2]+n[1]*e[6]+n[2]*e[10]+e[13],r},e_.prototype.multiplyVector4=function(t){var e=this.elements,n=t.elements,r=new r_,i=r.elements;return i[0]=n[0]*e[0]+n[1]*e[4]+n[2]*e[8]+n[3]*e[12],i[1]=n[0]*e[1]+n[1]*e[5]+n[2]*e[9]+n[3]*e[13],i[2]=n[0]*e[2]+n[1]*e[6]+n[2]*e[10]+n[3]*e[14],i[3]=n[0]*e[3]+n[1]*e[7]+n[2]*e[11]+n[3]*e[15],r},e_.prototype.transpose=function(){var t,e;return e=(t=this.elements)[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},e_.prototype.setInverseOf=function(t){var e,n,r,i,o;if(n=t.elements,r=this.elements,(i=new t_(16))[0]=n[5]*n[10]*n[15]-n[5]*n[11]*n[14]-n[9]*n[6]*n[15]+n[9]*n[7]*n[14]+n[13]*n[6]*n[11]-n[13]*n[7]*n[10],i[4]=-n[4]*n[10]*n[15]+n[4]*n[11]*n[14]+n[8]*n[6]*n[15]-n[8]*n[7]*n[14]-n[12]*n[6]*n[11]+n[12]*n[7]*n[10],i[8]=n[4]*n[9]*n[15]-n[4]*n[11]*n[13]-n[8]*n[5]*n[15]+n[8]*n[7]*n[13]+n[12]*n[5]*n[11]-n[12]*n[7]*n[9],i[12]=-n[4]*n[9]*n[14]+n[4]*n[10]*n[13]+n[8]*n[5]*n[14]-n[8]*n[6]*n[13]-n[12]*n[5]*n[10]+n[12]*n[6]*n[9],i[1]=-n[1]*n[10]*n[15]+n[1]*n[11]*n[14]+n[9]*n[2]*n[15]-n[9]*n[3]*n[14]-n[13]*n[2]*n[11]+n[13]*n[3]*n[10],i[5]=n[0]*n[10]*n[15]-n[0]*n[11]*n[14]-n[8]*n[2]*n[15]+n[8]*n[3]*n[14]+n[12]*n[2]*n[11]-n[12]*n[3]*n[10],i[9]=-n[0]*n[9]*n[15]+n[0]*n[11]*n[13]+n[8]*n[1]*n[15]-n[8]*n[3]*n[13]-n[12]*n[1]*n[11]+n[12]*n[3]*n[9],i[13]=n[0]*n[9]*n[14]-n[0]*n[10]*n[13]-n[8]*n[1]*n[14]+n[8]*n[2]*n[13]+n[12]*n[1]*n[10]-n[12]*n[2]*n[9],i[2]=n[1]*n[6]*n[15]-n[1]*n[7]*n[14]-n[5]*n[2]*n[15]+n[5]*n[3]*n[14]+n[13]*n[2]*n[7]-n[13]*n[3]*n[6],i[6]=-n[0]*n[6]*n[15]+n[0]*n[7]*n[14]+n[4]*n[2]*n[15]-n[4]*n[3]*n[14]-n[12]*n[2]*n[7]+n[12]*n[3]*n[6],i[10]=n[0]*n[5]*n[15]-n[0]*n[7]*n[13]-n[4]*n[1]*n[15]+n[4]*n[3]*n[13]+n[12]*n[1]*n[7]-n[12]*n[3]*n[5],i[14]=-n[0]*n[5]*n[14]+n[0]*n[6]*n[13]+n[4]*n[1]*n[14]-n[4]*n[2]*n[13]-n[12]*n[1]*n[6]+n[12]*n[2]*n[5],i[3]=-n[1]*n[6]*n[11]+n[1]*n[7]*n[10]+n[5]*n[2]*n[11]-n[5]*n[3]*n[10]-n[9]*n[2]*n[7]+n[9]*n[3]*n[6],i[7]=n[0]*n[6]*n[11]-n[0]*n[7]*n[10]-n[4]*n[2]*n[11]+n[4]*n[3]*n[10]+n[8]*n[2]*n[7]-n[8]*n[3]*n[6],i[11]=-n[0]*n[5]*n[11]+n[0]*n[7]*n[9]+n[4]*n[1]*n[11]-n[4]*n[3]*n[9]-n[8]*n[1]*n[7]+n[8]*n[3]*n[5],i[15]=n[0]*n[5]*n[10]-n[0]*n[6]*n[9]-n[4]*n[1]*n[10]+n[4]*n[2]*n[9]+n[8]*n[1]*n[6]-n[8]*n[2]*n[5],0===(o=n[0]*i[0]+n[1]*i[4]+n[2]*i[8]+n[3]*i[12]))return this;for(o=1/o,e=0;e<16;e++)r[e]=i[e]*o;return this},e_.prototype.invert=function(){return this.setInverseOf(this)},e_.prototype.setOrtho=function(t,e,n,r,i,o){var a,s,l,u;if(t===e||n===r||i===o)throw"null frustum";return s=1/(e-t),l=1/(r-n),u=1/(o-i),(a=this.elements)[0]=2*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*l,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=-2*u,a[11]=0,a[12]=-(e+t)*s,a[13]=-(r+n)*l,a[14]=-(o+i)*u,a[15]=1,this},e_.prototype.ortho=function(t,e,n,r,i,o){return this.concat((new e_).setOrtho(t,e,n,r,i,o))},e_.prototype.setFrustum=function(t,e,n,r,i,o){var a,s,l,u;if(t===e||r===n||i===o)throw"null frustum";if(i<=0)throw"near <= 0";if(o<=0)throw"far <= 0";return s=1/(e-t),l=1/(r-n),u=1/(o-i),(a=this.elements)[0]=2*i*s,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*i*l,a[6]=0,a[7]=0,a[8]=(e+t)*s,a[9]=(r+n)*l,a[10]=-(o+i)*u,a[11]=-1,a[12]=0,a[13]=0,a[14]=-2*i*o*u,a[15]=0,this},e_.prototype.frustum=function(t,e,n,r,i,o){return this.concat((new e_).setFrustum(t,e,n,r,i,o))},e_.prototype.setPerspective=function(t,e,n,r){var i,o,a,s;if(n===r||0===e)throw"null frustum";if(n<=0)throw"near <= 0";if(r<=0)throw"far <= 0";if(t=Math.PI*t/180/2,0===(a=Math.sin(t)))throw"null frustum";return o=1/(r-n),s=Math.cos(t)/a,(i=this.elements)[0]=s/e,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=s,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=-(r+n)*o,i[11]=-1,i[12]=0,i[13]=0,i[14]=-2*n*r*o,i[15]=0,this},e_.prototype.perspective=function(t,e,n,r){return this.concat((new e_).setPerspective(t,e,n,r))},e_.prototype.setScale=function(t,e,n){var r=this.elements;return r[0]=t,r[4]=0,r[8]=0,r[12]=0,r[1]=0,r[5]=e,r[9]=0,r[13]=0,r[2]=0,r[6]=0,r[10]=n,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1,this},e_.prototype.scale=function(t,e,n){var r=this.elements;return r[0]*=t,r[4]*=e,r[8]*=n,r[1]*=t,r[5]*=e,r[9]*=n,r[2]*=t,r[6]*=e,r[10]*=n,r[3]*=t,r[7]*=e,r[11]*=n,this},e_.prototype.setTranslate=function(t,e,n){var r=this.elements;return r[0]=1,r[4]=0,r[8]=0,r[12]=t,r[1]=0,r[5]=1,r[9]=0,r[13]=e,r[2]=0,r[6]=0,r[10]=1,r[14]=n,r[3]=0,r[7]=0,r[11]=0,r[15]=1,this},e_.prototype.translate=function(t,e,n){var r=this.elements;return r[12]+=r[0]*t+r[4]*e+r[8]*n,r[13]+=r[1]*t+r[5]*e+r[9]*n,r[14]+=r[2]*t+r[6]*e+r[10]*n,r[15]+=r[3]*t+r[7]*e+r[11]*n,this},e_.prototype.setRotate=function(t,e,n,r){var i,o,a,s,l,u,h,c,f,p,d,g;return t=Math.PI*t/180,i=this.elements,o=Math.sin(t),a=Math.cos(t),0!==e&&0===n&&0===r?(e<0&&(o=-o),i[0]=1,i[4]=0,i[8]=0,i[12]=0,i[1]=0,i[5]=a,i[9]=-o,i[13]=0,i[2]=0,i[6]=o,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):0===e&&0!==n&&0===r?(n<0&&(o=-o),i[0]=a,i[4]=0,i[8]=o,i[12]=0,i[1]=0,i[5]=1,i[9]=0,i[13]=0,i[2]=-o,i[6]=0,i[10]=a,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):0===e&&0===n&&0!==r?(r<0&&(o=-o),i[0]=a,i[4]=-o,i[8]=0,i[12]=0,i[1]=o,i[5]=a,i[9]=0,i[13]=0,i[2]=0,i[6]=0,i[10]=1,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1):(1!==(s=Math.sqrt(e*e+n*n+r*r))&&(e*=l=1/s,n*=l,r*=l),u=1-a,h=e*n,c=n*r,f=r*e,p=e*o,d=n*o,g=r*o,i[0]=e*e*u+a,i[1]=h*u+g,i[2]=f*u-d,i[3]=0,i[4]=h*u-g,i[5]=n*n*u+a,i[6]=c*u+p,i[7]=0,i[8]=f*u+d,i[9]=c*u-p,i[10]=r*r*u+a,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1),this},e_.prototype.rotate=function(t,e,n,r){return this.concat((new e_).setRotate(t,e,n,r))},e_.prototype.setLookAt=function(t,e,n,r,i,o,a,s,l){var u,h,c,f,p,d,g,v,y,m,x,_;return h=r-t,c=i-e,f=o-n,d=(c*=p=1/Math.sqrt(h*h+c*c+f*f))*l-(f*=p)*s,g=f*a-(h*=p)*l,v=h*s-c*a,m=(g*=y=1/Math.sqrt(d*d+g*g+v*v))*f-(v*=y)*c,x=v*h-(d*=y)*f,_=d*c-g*h,(u=this.elements)[0]=d,u[1]=m,u[2]=-h,u[3]=0,u[4]=g,u[5]=x,u[6]=-c,u[7]=0,u[8]=v,u[9]=_,u[10]=-f,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,this.translate(-t,-e,-n)},e_.prototype.lookAt=function(t,e,n,r,i,o,a,s,l){return this.concat((new e_).setLookAt(t,e,n,r,i,o,a,s,l))},e_.prototype.dropShadow=function(t,e){var n=new e_,r=n.elements,i=t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3];return r[0]=i-e[0]*t[0],r[1]=-e[1]*t[0],r[2]=-e[2]*t[0],r[3]=-e[3]*t[0],r[4]=-e[0]*t[1],r[5]=i-e[1]*t[1],r[6]=-e[2]*t[1],r[7]=-e[3]*t[1],r[8]=-e[0]*t[2],r[9]=-e[1]*t[2],r[10]=i-e[2]*t[2],r[11]=-e[3]*t[2],r[12]=-e[0]*t[3],r[13]=-e[1]*t[3],r[14]=-e[2]*t[3],r[15]=i-e[3]*t[3],this.concat(n)},e_.prototype.dropShadowDirectionally=function(t,e,n,r,i,o,a,s,l){var u=r*t+i*e+o*n;return this.dropShadow([t,e,n,-u],[a,s,l,0])};var n_=function(t){var e=new t_(3);t&&"object"===(void 0===t?"undefined":a(t))&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),this.elements=e};n_.prototype.normalize=function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=Math.sqrt(e*e+n*n+r*r);return i?1==i?this:(i=1/i,t[0]=e*i,t[1]=n*i,t[2]=r*i,this):(t[0]=0,t[1]=0,t[2]=0,this)};var r_=function(t){var e=new t_(4);t&&"object"===(void 0===t?"undefined":a(t))&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),this.elements=e},i_=function(t){function e(n){s(this,e);var r=c(this,t.apply(this,arguments));return r.name=n.name,r.group.name=n.name,r.dataIndex=n.dataIndex,r.group.dataIndex=n.dataIndex,r.seriesIndex=n.seriesIndex,r.group.seriesIndex=n.seriesIndex,delete n.name,delete n.dataIndex,delete n.seriesIndex,r}return u(e,t),e.prototype.attr=function(t){var e=this._shapeMap;co(t,function(t,n){return e[n]&&e[n].attr(t)})},e.prototype.animateTo=function(t,e,n,r,i){_o(n)?(i=r,r=n,n=0):xo(r)?(i=r,r="linear",n=0):xo(n)?(i=n,n=0):xo(e)?(i=e,e=500):e||(e=500);var o=this._shapeMap;co(t,function(t,a){return o[a]&&o[a].animateTo(t,e,n,r,i)})},e.prototype.setStyle=function(t){var e=this._shapeMap;co(t,function(t,n){return e[n]&&e[n].setStyle(t)})},e.prototype.useStyle=function(t){var e=this._shapeMap;co(t,function(t,n){return e[n]&&e[n].useStyle(t)})},e.prototype.on=function(){var t;(t=this.group).on.apply(t,arguments)},e.prototype.off=function(){var t;(t=this.group).off.apply(t,arguments)},e.prototype.one=function(){var t;(t=this.group).one.apply(t,arguments)},e.prototype.trigger=function(){var t;(t=this.group).trigger.apply(t,arguments)},e}(yf),o_=function(t){function e(n){s(this,e);var r=c(this,t.apply(this,arguments));return co(n,function(t,e){r.setShape(e,ec,t)}),r}return u(e,t),e}(i_);function a_(t,e){return t[e]}var s_=Eh.extend({type:"candlestick",shape:{x:0,open:0,close:0,low:0,hight:0,width:0},style:{lineWidth:1},buildPath:function(t,e){var n=e.x,r=e.open,i=e.close,o=e.low,a=e.high,s=e.width,l=.5+(n+s/2>>0);if(s>.5){var u=Math.max(r,i),h=Math.min(r,i);t.rect(n,h,s,u-h),t.moveTo(l,o),t.lineTo(l,u),t.moveTo(l,h),t.lineTo(l,a)}else t.rect(n,a,s,a-o)}});var l_=Eh.extend({type:"candlestick",shape:{x:0,low:0,q1:0,median:0,q3:0,high:0},style:{fill:"white",stroke:"#e93030"},buildPath:function(t,e){var n=e.x,r=e.low,i=e.q1,o=e.median,a=e.q3,s=e.high,l=e.width,u=n,h=u+l/2,c=n+l;t.moveTo(u,r),t.lineTo(c,r),t.moveTo(h,r),t.lineTo(h,i),t.rect(u,i,l,a-i),t.moveTo(u,o),t.lineTo(c,o),t.moveTo(h,a),t.lineTo(h,s),t.moveTo(u,s),t.lineTo(c,s)}});var u_={rect:function(t,e){t.rectWidth,t.position,t.y0;var n=t.points,r=t.data,i=t.model,o=(t.globalModel,t.ticks),a=e?{fill:"rgba(0, 0, 0, 0)"}:i.get("itemStyle").normal,s=(i.get("rectMin"),i.get("rectRadius"),i.get("hideZero")),l=i.get("label").normal,u=[],h=[];return void 0===a.lineWidth&&(a.lineWidth=1),co(n,function(n){n[0],n[1];var i=n[2],a=n[3];if(!e||("all"===l.show||l.show&&o.indexOf(i[0])>-1)&&(!s||s&&0!==r[a][1])){var c=Jx(t,e,n);u.push(c.attr),h.push(c.animateFrom)}}),{attrs:u,animateFroms:h,animateList:{shape:{x:0,y:0,width:0,height:0}},Shape:ac}},cuboid:function(t){var e=t.rectWidth,n=t.position,r=t.y0,i=t.points,o=t.model,a=o.get("itemStyle").normal,s=o.get("xLookAngle")/180*Math.PI,l=o.get("yLookAngle")/180*Math.PI,u=!!o.get("stack"),h=[],c=[];if("top"===n||"bottom"===n){var f=a_(a,"front"),p=a_(a,"left"),d=a_(a,"top"),g=new e_;g.setLookAt(Math.tan(s),Math.tan(l),1,0,0,0,0,1,0);var v=[-e/4,e/4*3],y=void 0;y=Math.tan(s)>0?[0,-e]:[e,0];var m=[new e_(g).multiplyVector3(new n_([v[0],0,y[1]])).elements.slice(0,2),new e_(g).multiplyVector3(new n_([v[1],0,y[1]])).elements.slice(0,2),new e_(g).multiplyVector3(new n_([v[0],0,y[0]])).elements.slice(0,2),new e_(g).multiplyVector3(new n_([v[1],0,y[0]])).elements.slice(0,2)];co(i,function(t,e){for(var n=t[0],i=t[1],o={},a={},g=[],v=[],y=u?i[0]:r,x=u?i[1]:i,_=0;_<m.length;_++){var w=m[_][0]+n;g.push([w,m[_][1]+y]),g.push([w,m[_][1]+x]),v.push([w,m[_][1]+y])}o.front={shape:{points:to([g[0],g[2],g[3],g[1]])},style:f},a.front={shape:{points:to([v[0],v[1],v[1],v[0]])}};var b=[];Math.tan(s)>0?(b=[g[0],g[4],g[5],g[1]],a.left={shape:{points:to([v[0],v[2],v[2],v[0]])}}):(b=[g[2],g[6],g[7],g[3]],a.left={shape:{points:to([v[1],v[3],v[3],v[1]])}}),o.left={shape:{points:to(b)},style:p};var S=[];S=Math.tan(l)>0&&x<y||Math.tan(l)<0&&x>y?[g[1],g[3],g[7],g[5]]:[g[0],g[2],g[6],g[4]],o.top={shape:{points:to(S)},style:d},a.top={shape:{points:to([v[0],v[1],v[3],v[2]])}},h.push(o),c.push(a)})}return{attrs:h,animateFroms:c,Shape:o_}},candlestick:function(t){var e=t.rectWidth,n=t.position,r=(t.y0,t.points),i=t.data,o=t.model.get("itemStyle").normal,a=[],s=[];return"top"!==n&&"bottom"!==n||co(r,function(t){var n=t[0],r=t[1],l=r[0],u=r[1],h=r[2],c=r[3],f=(t[2],t[3]);a.push({shape:{x:n,open:l,close:u,low:h,high:c,width:e},style:xo(o)?o(i[f]):o}),s.push({shape:{open:l,close:l,low:l,high:l}})}),{attrs:a,animateFroms:s,animateList:{shape:{open:0,close:0,low:0,high:0,width:0}},Shape:s_}},shadowRect:function(t){var e=t.rectWidth,n=t.position,r=t.y0,i=t.points,o=t.model,a=o.get("itemStyle").normal,s=o.get("xLookAngle")/180*Math.PI,l=o.get("yLookAngle")/180*Math.PI,u=!!o.get("stack"),h=[],c=[];if("top"===n||"bottom"===n){var f=a.rect,p=a.shadow,d=new e_;d.setLookAt(Math.tan(s),Math.tan(l),1,0,0,0,0,1,0);var g=[0,e],v=[2*e,0],y=[new e_(d).multiplyVector3(new n_([g[0],0,v[1]])).elements.slice(0,2),new e_(d).multiplyVector3(new n_([g[1],0,v[1]])).elements.slice(0,2),new e_(d).multiplyVector3(new n_([g[0],0,v[0]])).elements.slice(0,2),new e_(d).multiplyVector3(new n_([g[1],0,v[0]])).elements.slice(0,2)];co(i,function(t,e){for(var n=t[0],i=t[1],a={},s={},l=[],d=[],g=u?i[0]:r,v=u?i[1]:i,m=0;m<y.length;m++){var x=y[m][0]+n;l.push([x,y[m][1]+g]),l.push([x,y[m][1]+v]),d.push([x,y[m][1]+g])}var _;(a.rect={shape:{points:to([l[0],l[2],l[3],l[1]])},style:f,z2:2},s.rect={shape:{points:to([d[0],d[1],d[1],d[0]])}},u&&0!==o.stackIndex)||(_=[l[0],l[2],l[6],l[4]],a.shadow={shape:{points:to(_)},style:p,z2:0},s.shadow={shape:{points:to([d[0],d[1],d[3],d[2]])}});h.push(a),c.push(s)})}return{attrs:h,animateFroms:c,Shape:o_}},boxplot:function(t){var e=t.rectWidth,n=t.position,r=(t.y0,t.points),i=t.data,o=t.model.get("itemStyle").normal,a=[],s=[];return"top"!==n&&"bottom"!==n||co(r,function(t){var n=t[0],r=t[1],l=r[0],u=r[1],h=r[2],c=r[3],f=r[4],p=(t[2],t[3]);a.push({shape:{x:n,low:l,q1:u,median:h,q3:c,high:f,width:e},style:xo(o)?o(i[p]):o}),s.push({shape:{low:h,q1:h,median:h,q3:h,high:h}})}),{attrs:a,animateFroms:s,animateList:{shape:{x:0,low:0,q1:0,median:0,q3:0,high:0,width:0}},Shape:l_}},waterfall:function(t){var e=t.rectWidth,n=t.position,r=(t.y0,t.points),i=t.data,o=t.model.get("itemStyle").normal,a=[],s=[];return"top"!==n&&"bottom"!==n||co(r,function(t){var n=t[0],r=t[1],l=r[0],u=r[1],h=(t[2],t[3]);a.push(Nc({shape:{x:n,y:u,width:e,height:l-u},style:xo(o)?o(i[h]):o})),s.push({shape:{height:0}})}),{attrs:a,animateFroms:s,animateList:{shape:{x:0,y:0,width:0,height:0}},Shape:ac}}},h_=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Xx,c(r,n)}return u(e,t),e.prototype.renderAll=function(t,e,n){var r=this,i=t.get("barType"),o=(t.get("itemStyle").normal,t.get("animation")),a=t.get("animationDuration"),s=t.get("animationEasing"),u=t.get("cursor"),h=t.get("joinArea"),c=t.getData(),f=t.points,p=t.y0,d=t.rectWidth,g=t.position,v=t.ticks;if(u_[i]){var y=u_[i]({rectWidth:d,position:g,y0:p,points:f,data:c,model:t,globalModel:e,ticks:v}),m=y.attrs,x=y.animateFroms,_=y.animateList,w=y.animateLeave,b=y.Shape;if(co(m,function(e,n){e.dataIndex=e.key=f[n][3],e.seriesIndex=t.index,e.cursor=u}),this.setShapeGroup("rectGroup",b,m,{animation:o,duration:a,easing:s,animateFrom:x,animateList:_,animateLeave:w},void 0,function(e){e.on("click",function(e){var r=t.get("enableSelect");if("multiple"===r){var i=t.get("selectedList"),o=i.indexOf(this.dataIndex);o>-1?(i.splice(o,1),t.set("selectedList",i)):(i.push(this.dataIndex),t.set("selectedList",i)),n.dispatchAction(t,Af.selectedListChange,i)}else r&&(t.set("selectedList",[this.dataIndex]),n.dispatchAction(t,Af.selectedListChange,[this.dataIndex]))}),e.on("dblclick",function(e){t.get("selectedList");n.dispatchAction(t,Af.dblClick,this.dataIndex)})}),h.show){for(var S=[],k=[],M=t.bandwidth,A=1;A<f.length;A++){var I=f[A],T=f[A-1],C=h.style,E=T[0]+M;if(h.showLabel){var z=I[2][1]-T[2][1],L=xo(h.labelStyle)?h.labelStyle(z,I,T):to(h.labelStyle);C=l({},C,{text:h.formatter?h.formatter(z,I,T):z},e.getFormattedText(L))}S.push({shape:{points:[[E,T[1]],[I[0],I[1]],[I[0],p],[E,p]]},style:C,key:I[3],cursor:u}),k.push({shape:{points:[[E,p],[E,p],[E,p],[E,p]]}})}this.setShapeGroup("joinAreaGroup",ec,S,{animation:o,duration:a,easing:s,animateFrom:k})}if(t.get("label").normal.show){var O=u_.rect({rectWidth:d,position:g,y0:p,points:f,data:c,model:t,globalModel:e,ticks:v},!0),D=O.attrs,P=O.animateFroms,F=O.animateList,N=O.Shape;co(D,function(t,e){t.silent=!0}),this.setShapeGroup("textRectGroup",N,D,{animation:o,duration:a,easing:s,animateFrom:P,animateList:F,animateLeave:w})}var R=this.getShape("rectGroup"),B=t.get("selectedList");R.eachChild(function(i){~B.indexOf(i.dataIndex)&&r.highlight(t,e,n,{index:i.dataIndex})})}},e.prototype.renderLarge=function(t,e,n){var r=t.points,i=t.y0,o=t.rectWidth,a=t.get("itemStyle").normal;this.setShape("largeRects",$x,{shape:{points:r,y0:i,rectWidth:o},style:a,silent:!0})},e.prototype.render=function(t,e,n){var r=t.points;t.get("large")&&r.length>t.get("largeThreshold")?(this.removeShape("rectGroup"),this.renderLarge(t,e,n)):(this.removeShape("largeRects"),this.renderAll(t,e,n))},e.prototype.highlight=function(t,e,n,r){var i=this,o=(t.getAxisModel("x"),t.get("itemStyle").emphasis),a=t.get("label").emphasis;if(r){var s=r.index,l=this.getShape("rectGroup",s);l&&c_(this,t,e,l,o,a)}else{this.getShape("rectGroup").eachChild(function(n){c_(i,t,e,n,o,a)})}},e.prototype.downplay=function(t,e,n,r){var i=this,o=(t.getAxisModel("x"),t.get("itemStyle").normal),a=t.get("label").normal,s=t.get("selectedList");if(r){var l=r.index,u=this.getShape("rectGroup",l);u&&!~s.indexOf(u.dataIndex)&&f_(this,t,e,u,o,a)}else{this.getShape("rectGroup").eachChild(function(n){!~s.indexOf(n.dataIndex)&&f_(i,t,e,n,o,a)})}},e}(Hf);function c_(t,e,n,r,i,o){var a=r.dataIndex,s=e.getData(a),l=xo(i)?i(s):i;if(r.groupShape&&(r=r.groupShape),r.setStyle(s[1]<0?af(l):l),o.show){e.get("label").normal;var u=t.getShape("textRectGroup");u||(u=t.setShapeGroup("textRectGroup",ac,[]));var h=e.points,c=e.y0,f=e.rectWidth,p=e.position,d=e.ticks,g=go(h,function(t){return t[3]===a});if(g){var v=t.getShape("textRectGroup",r.dataIndex),y=Jx({rectWidth:f,position:p,y0:c,points:h,data:e.getData(),model:e,globalModel:n,ticks:d},!0,g,!0),m=y.attr;y.animateFrom;v?v.attr(m):(m.silent=!0,m.z=e.get("z"),m.name=a,v=new ac(m),u.add(v))}}}function f_(t,e,n,r,i,o){var a=r.dataIndex,s=e.getData(a),u=xo(i)?i(s):l({},i),h=t.getShape("textRectGroup",a),c=e.get("$visualMapIndex");if(void 0!==c){var f=e.globalModel.getComponentByIndex("visualMap",c);u.fill=f.getColorStop(s[1],u.fill)}if(r.groupShape&&(r=r.groupShape),r.useStyle(s[1]<0?af(u):u),!o.show||"all"!==o.show&&-1===e.ticks.indexOf(s[0]))h&&t.getShape("textRectGroup").remove(h);else{var p=e.points,d=e.y0,g=e.rectWidth,v=e.position,y=e.ticks,m=go(p,function(t){return t[3]===a});if(m&&h){var x=Jx({rectWidth:g,position:v,y0:d,points:p,data:e.getData(),model:e,globalModel:n,ticks:y},!0,m,!1),_=x.attr;x.animateFrom;h.attr(_)}}}h_.type=Xx,qp(Kx,h_),qp(Fx,Rx);var p_=Array.prototype.slice;function d_(t){return t.source}function g_(t){return t.target}function v_(t){var e=d_,n=g_,r=Ac,i=Ic,o=null;function a(){var a,s=p_.call(arguments),l=e.apply(this,s),u=n.apply(this,s);if(o||(o=a=bc()),t(o,+r.apply(this,(s[0]=l,s)),+i.apply(this,s),+r.apply(this,(s[0]=u,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Sc(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Sc(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function y_(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function m_(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}var x_=Eh.extend({type:"d3-link",shape:{source:void 0,target:void 0,x:void 0,y:void 0,orient:"horizontal"},style:{stroke:null,fill:null},updateLink:function(){var t=this.shape.orient;this.link||("straightLine"===t?(this.link=Tc(),this.link.x(function(t){return t[0]}).y(function(t){return t[1]})):this.link=v_("horizontal"===t?y_:m_))},buildPath:function(t,e){var n=this.shape,r=n.source,i=n.target,o=n.orient;this.updateLink(),"straightLine"===o?this.link.context(t)([r,i]):this.link.context(t)({source:r,target:i})}});function __(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}!function(t){var e;1===t.length&&(e=t,t=function(t,n){return __(e(t),n)})}(__);function w_(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}function b_(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}function S_(){}function k_(t,e){var n=new S_;if(t instanceof S_)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function M_(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,u,h,c=-1,f=n.length,p=r[i++],d=k_(),g=a();++c<f;)(h=d.get(l=p(u=n[c])+""))?h.push(u):d.set(l,[u]);return d.each(function(t,e){s(g,e,o(t,i,a,s))}),g}return n={object:function(t){return o(t,0,A_,I_)},map:function(t){return o(t,0,T_,C_)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(o(t,0,T_,C_),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function A_(){return{}}function I_(t,e,n){t[e]=n}function T_(){return k_()}function C_(t,e,n){t.set(e,n)}function E_(){}S_.prototype=k_.prototype={constructor:S_,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var z_=k_.prototype;function L_(t){return t.target.depth}function O_(t,e){return t.sourceLinks.length?t.depth:e-1}function D_(t){return function(){return t}}function P_(t,e){return N_(t.source,e.source)||t.index-e.index}function F_(t,e){return N_(t.target,e.target)||t.index-e.index}function N_(t,e){return t.y0-e.y0}function R_(t){return t.value}function B_(t){return(t.y0+t.y1)/2}function W_(t){return B_(t.source)*t.value}function j_(t){return B_(t.target)*t.value}function G_(t){return t.index}function H_(t){return t.nodes}function U_(t){return t.links}function q_(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}E_.prototype=function(t,e){var n=new E_;if(t instanceof E_)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}.prototype={constructor:E_,has:z_.has,add:function(t){return this["$"+(t+="")]=t,this},remove:z_.remove,clear:z_.clear,values:z_.keys,size:z_.size,empty:z_.empty,each:z_.each};var V_=Math.PI,Y_=2*V_,$_=Y_-1e-6;function X_(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function K_(){return new X_}function Z_(t){return function(){return t}}X_.prototype=K_.prototype={constructor:X_,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,u=o-t,h=a-e,c=u*u+h*h;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(c>1e-6)if(Math.abs(h*s-l*u)>1e-6&&i){var f=n-o,p=r-a,d=s*s+l*l,g=f*f+p*p,v=Math.sqrt(d),y=Math.sqrt(c),m=i*Math.tan((V_-Math.acos((d+c-g)/(2*v*y)))/2),x=m/y,_=m/v;Math.abs(x-1)>1e-6&&(this._+="L"+(t+x*u)+","+(e+x*h)),this._+="A"+i+","+i+",0,0,"+ +(h*f>u*p)+","+(this._x1=t+_*s)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,u=e+s,h=1^o,c=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(c<0&&(c=c%Y_+Y_),c>$_?this._+="A"+n+","+n+",0,1,"+h+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+h+","+(this._x1=l)+","+(this._y1=u):c>1e-6&&(this._+="A"+n+","+n+",0,"+ +(c>=V_)+","+h+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};Math.PI;function Q_(t){return t[0]}function J_(t){return t[1]}var tw=Array.prototype.slice;function ew(t){return t.source}function nw(t){return t.target}function rw(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function iw(){return function(t){var e=ew,n=nw,r=Q_,i=J_,o=null;function a(){var a,s=tw.call(arguments),l=e.apply(this,s),u=n.apply(this,s);if(o||(o=a=K_()),t(o,+r.apply(this,(s[0]=l,s)),+i.apply(this,s),+r.apply(this,(s[0]=u,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Z_(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Z_(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}(rw)}function ow(t){return t<0?-1:1}function aw(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(ow(o)+ow(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function sw(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lw(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function uw(t){this._context=t}function hw(t){this._context=t}function cw(t){return[t.source.x1,t.y0]}function fw(t){return[t.target.x0,t.y1]}uw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lw(this,this._t0,sw(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lw(this,sw(this,n=aw(this,t,e)),n);break;default:lw(this,this._t0,n=aw(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(function(t){this._context=new hw(t)}.prototype=Object.create(uw.prototype)).point=function(t,e){uw.prototype.point.call(this,e,t)},hw.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};var pw=Object.freeze({sankey:function(){var t=0,e=0,n=1,r=1,i=24,o=8,s=G_,l=O_,u=H_,h=U_,c=32;function f(){var f={nodes:u.apply(null,arguments),links:h.apply(null,arguments)};return function(t){t.nodes.forEach(function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]});var e=k_(t.nodes,s);t.links.forEach(function(t,n){t.index=n;var r=t.source,i=t.target;"object"!==(void 0===r?"undefined":a(r))&&(r=t.source=q_(e,r)),"object"!==(void 0===i?"undefined":a(i))&&(i=t.target=q_(e,i)),r.sourceLinks.push(t),i.targetLinks.push(t)})}(f),function(t){t.nodes.forEach(function(t){t.value=Math.max(b_(t.sourceLinks,R_),b_(t.targetLinks,R_))})}(f),function(e){var r,o,a;for(r=e.nodes,o=[],a=0;r.length;++a,r=o,o=[])r.forEach(function(t){t.depth=a,t.sourceLinks.forEach(function(t){o.indexOf(t.target)<0&&o.push(t.target)})});for(r=e.nodes,o=[],a=0;r.length;++a,r=o,o=[])r.forEach(function(t){t.height=a,t.targetLinks.forEach(function(t){o.indexOf(t.source)<0&&o.push(t.source)})});var s=(n-t-i)/(a-1);e.nodes.forEach(function(e){e.x1=(e.x0=t+Math.max(0,Math.min(a-1,Math.floor(l.call(null,e,a))))*s)+i})}(f),function(t){var n,i=M_().key(function(t){return t.x0}).sortKeys(__).entries(t.nodes).map(function(t){return t.values});n=w_(i,function(t){return(r-e-(t.length-1)*o)/b_(t,R_)}),i.forEach(function(t){t.forEach(function(t,e){t.y1=(t.y0=e)+t.value*n})}),t.links.forEach(function(t){t.width=t.value*n}),h();for(var a=1,s=c;s>0;--s)u(a*=.99),h(),l(a),h();function l(t){i.forEach(function(e){e.forEach(function(e){if(e.targetLinks.length){var n=(b_(e.targetLinks,W_)/b_(e.targetLinks,R_)-B_(e))*t;e.y0+=n,e.y1+=n}})})}function u(t){i.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var n=(b_(e.sourceLinks,j_)/b_(e.sourceLinks,R_)-B_(e))*t;e.y0+=n,e.y1+=n}})})}function h(){i.forEach(function(t){var n,i,a,s=e,l=t.length;for(t.sort(N_),a=0;a<l;++a)n=t[a],(i=s-n.y0)>0&&(n.y0+=i,n.y1+=i),s=n.y1+o;if((i=s-o-r)>0)for(s=n.y0-=i,n.y1-=i,a=l-2;a>=0;--a)n=t[a],(i=n.y1+o-s)>0&&(n.y0-=i,n.y1-=i),s=n.y0})}}(f),p(f),f}function p(t){t.nodes.forEach(function(t){t.sourceLinks.sort(F_),t.targetLinks.sort(P_)}),t.nodes.forEach(function(t){var e=t.y0,n=e;t.sourceLinks.forEach(function(t){t.y0=e+t.width/2,e+=t.width}),t.targetLinks.forEach(function(t){t.y1=n+t.width/2,n+=t.width})})}return f.update=function(t){return p(t),t},f.nodeId=function(t){return arguments.length?(s="function"==typeof t?t:D_(t),f):s},f.nodeAlign=function(t){return arguments.length?(l="function"==typeof t?t:D_(t),f):l},f.nodeWidth=function(t){return arguments.length?(i=+t,f):i},f.nodePadding=function(t){return arguments.length?(o=+t,f):o},f.nodes=function(t){return arguments.length?(u="function"==typeof t?t:D_(t),f):u},f.links=function(t){return arguments.length?(h="function"==typeof t?t:D_(t),f):h},f.size=function(i){return arguments.length?(t=e=0,n=+i[0],r=+i[1],f):[n-t,r-e]},f.extent=function(i){return arguments.length?(t=+i[0][0],n=+i[1][0],e=+i[0][1],r=+i[1][1],f):[[t,e],[n,r]]},f.iterations=function(t){return arguments.length?(c=+t,f):c},f},sankeyCenter:function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?w_(t.sourceLinks,L_)-1:0},sankeyLeft:function(t){return t.depth},sankeyRight:function(t,e){return e-1-t.height},sankeyJustify:O_,sankeyLinkHorizontal:function(){return iw().source(cw).target(fw)}}),dw="sankey",gw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=dw,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.globalModel,e=this.getData(),n=this.get("$gridIndex"),r=t.getComponentByIndex("grid",n),i=r.position,o=i.left,a=i.top,s=i.right,l=i.bottom,u=this.get("nodeWidth"),h=this.get("nodePadding"),c=this.get("nodeAlign"),f=this.get("iterations");e&&e.links&&co(e.links,function(t){t.value=t.value-0}),(this.sankey=pw.sankey().nodeWidth(u).nodePadding(h).nodeAlign(pw[c]).iterations(f).extent([[o,a],[s,l]]))(e),this.position=r.position},e}(Qf);gw.type=dw,gw.defaultOption={data:void 0,$gridIndex:0,nodeWidth:15,nodePadding:15,nodeAlign:"sankeyJustify",iterations:32,linkStyle:{normal:{},emphasis:{}},onNodeClick:void 0,nodeStyle:{normal:{},emphasis:{}},label:{show:!0,padding:5,position:"right",offset:[0,0],style:{normal:{},emphasis:{}},formatter:void 0},triggerOn:"mousemove",zlevel:0,z:1};var vw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=dw,c(r,n)}return u(e,t),e.prototype.render=function(t,e){this.remove();for(var n,r=t.getData(),i=t.get("nodeStyle"),o=t.get("linkStyle"),a=t.get("label"),s=t.get("nodeColors")||[],u=t.get("name"),h=t.get("nodeWidth"),c=t.get("triggerOn"),f=t.position,p=(f.left+f.right)/2,d=r.links,g=r.nodes,v=[],y=[],m=[],x=void 0,_=void 0,w=0;w<g.length;w++){var b=g[w],S=b.x0,k=b.y0,M=b.x1,A=b.y1,I=(b.name,b.color||s[w%s.length]),T=xo(i.normal)?i.normal(g[w]):i.normal,C=xo(i.emphasis)?i.emphasis(g[w]):i.emphasis;T=l({fill:I},T),C=l({fill:T.fill},C),g[w].type="node";var E={shape:{x:S,y:k,width:M-S,height:A-k},style:T,z2:10,key:w,data:g[w],_hoverStyle:C};g[w].color=E.style.fill,g[w].hoverColor=E._hoverStyle.fill,v.push(E)}if(_=this.setShapeGroup("nodeGroup",ac,v,void 0,function(e){e.eachChild(function(t,e){Zc(t,t._hoverStyle,{disableMouse:!0})}),e.on(c,function(t){var e=t.target.data;J(e,"emphasis"),J(e,"emphasis",!0)}),e.on("mouseout",function(t){var e=t.target.data;J(e,"normal"),J(e,"normal",!0)}),e.on("click",function(e){t.get("onNodeClick")&&t.get("onNodeClick")(e.target.data,e)})}),a.show){for(var z=0;z<g.length;z++){var L=g[z],O=L.x0,D=L.y0,P=L.x1,F=L.y1,N=L.name,R=a.style.normal,B=a.padding,W=a.offset,j=a.position,G=a.formatter,H=G?G(N,g[z]):N,U=e.getFormattedText({position:[(O+P)/2+(O>p?-h/2:h/2),(D+F)/2],style:l({x:W[0],y:W[1],text:H,textVerticalAlign:"center",textAlign:O>p?"right":"left"},R),z2:11,key:z,data:g[z],rectHover:!0}),q=(U.style.textAlign,void 0);switch(j){case"right":q=[(O+P)/2+h/2+B,(D+F)/2];break;case"left":q=[(O+P)/2-h/2-B,(D+F)/2];break;case"top":q=[(O+P)/2,D-B];break;case"bottom":q=[(O+P)/2,F+B];break;default:q=[(O+P)/2,(D+F)/2]}U.position=q,m.push(U)}x=this.setShapeGroup("labelGroup",Yh,m,void 0,function(n){n.on(c,function(t){var e=t.target.data;J(e,"emphasis"),J(e,"emphasis",!0)}),n.on("mouseout",function(t){var e=t.target.data;J(e,"normal"),J(e,"normal",!0)}),n.eachChild(function(t,n){Zc(t,e.getFormattedText(l({},a.style.emphasis)),{disableMouse:!0})}),n.on("click",function(e){t.get("onNodeClick")&&t.get("onNodeClick")(e.target.data,e)})})}function V(t){return[t.target.x0,t.y1]}for(var Y=0;Y<d.length;Y++){var $={colorStops:[{offset:0,color:d[Y].source.color},{offset:1,color:d[Y].target.color}]};d[Y].color=d[Y].source.color,d[Y].name=u,d[Y].type="link";var X=xo(o.normal)?o.normal(d[Y]):o.normal,K=xo(o.emphasis)?o.emphasis(d[Y]):o.emphasis;y.push({shape:{source:(n=d[Y],[n.source.x1,n.y0]),target:V(d[Y])},style:l({stroke:$},X,{lineWidth:Math.max(1,d[Y].width)}),key:Y,data:d[Y],z2:1,_hoverStyle:K})}var Z=this.setShapeGroup("linkGroup",x_,y,void 0,function(t){t.eachChild(function(t,e){var n={colorStops:[{offset:0,color:t.data.source.hoverColor||t.data.source.color},{offset:1,color:t.data.target.hoverColor||t.data.target.color}]};Zc(t,l({stroke:n},t._hoverStyle),{disableMouse:!0})}),t.on(c,function(t){var e=t.target.data;Q(e,"emphasis"),Q(e,"emphasis",!0)}),t.on("mouseout",function(t){var e=t.target.data;Q(e,"normal"),Q(e,"normal",!0)})});function Q(t,e,n){Z.childAt(t.index).trigger(e),J(n?t.target:t.source,e,n)}function J(t,e,n){_.childAt(t.index).trigger(e),x&&x.childAt(t.index).trigger(e),co(t[n?"sourceLinks":"targetLinks"],function(t){Z.childAt(t.index).trigger(e),Q(t,e,n)})}},e}(Hf);vw.type=dw,qp(gw,vw);var yw="histogram",mw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=yw,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.getAxisModel("x"),e=this.getAxisModel("y"),n=t.scale,r=e.scale,i=n.domain(),o=r.domain(),a=r(o[1]<0?o[1]:o[0]>0?o[0]:0),s=[];co(this.getData(),function(t,e){var o=t[0],a=t[1],l=[];(o=function(t,e){if(t[0]>=e[0]&&t[1]<=e[1])return t;if(t[1]<e[0]||t[0]>e[1])return!1;if(t[0]<e[0]&&t[1]>e[1])return[e[0],e[1]];if(t[0]<e[0])return[e[0],t[1]];if(t[1]>e[1])return[t[0],e[1]]}(o,i))&&(l[0]=[n(o[0]),n(o[1])],l[1]=r(a),l[2]=t,l[3]=e,s.push(l))}),this.points=s,this.y0=a},e}(Qf);mw.type=yw,mw.emphasisList=["itemStyle","label"],mw.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,onZero:!0,rectWidth:"100%",itemStyle:{normal:{},emphasis:{}},label:{normal:{show:!1,style:{position:"inside",fill:"black"}},emphasis:{show:!1,style:{}}},zlevel:0,z:1};var xw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=yw,c(r,n)}return u(e,t),e.prototype.render=function(t,e){var n=t.get("itemStyle"),r=t.get("label"),i=t.get("rectWidth"),o=n.normal,a=n.emphasis,s=r.normal,l=r.emphasis,u=t.points,h=t.y0,c=[];co(u,function(n){var r=n[0],u=n[1],f=(r[0]+r[1])/2,p=r[1]-r[0],d=xo(o)?o(n[2]):to(o),g=xo(a)?a(n[2]):to(a),v=uf(i,p);d=Qx(d,s,{data:n[2],dataIndex:n[3]},e,t),g=Qx(g,eo(l,s),{data:n[2],dataIndex:n[3]},e,t),c.push(Nc({shape:{x:f-v/2,y:u,width:v,height:h-u},style:d,emphasisStyle:g,seriesIndex:t.index,dataIndex:n[3],key:n[3]}))}),this.setShapeGroup("rectGroup",ac,c,{animation:t.get("animation"),animateFrom:{shape:{y:h,height:0}}},void 0,function(t){Zc(t,t.emphasisStyle)})},e}(Hf);xw.type=yw,qp(mw,xw);var _w={value:function(){}};function ww(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new bw(r)}function bw(t){this._=t}function Sw(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function kw(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=_w,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}bw.prototype=ww.prototype={constructor:bw,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=kw(i[n],t.name,e);else if(null==e)for(n in i)i[n]=kw(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=Sw(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new bw(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Mw=Math.PI/180,Aw=64,Iw=2048;function Tw(){var t=[256,256],e=Cw,n=Ew,r=Lw,i=zw,o=zw,a=Ow,s=Dw,l=Rw,u=[],h=1/0,c=ww("word","end"),f=null,p=Math.random,d={},g=Bw;function v(e,n,r){t[0],t[1];for(var i,o,a,s,u,h=n.x,c=n.y,f=Math.sqrt(t[0]*t[0]+t[1]*t[1]),d=l(t),g=p()<.5?1:-1,v=-g;(i=d(v+=g))&&(o=~~i[0],a=~~i[1],!(Math.min(Math.abs(o),Math.abs(a))>=f));)if(n.x=h+o,n.y=c+a,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1]||r&&Fw(n,e,t[0])||r&&(u=r,!((s=n).x+s.x1>u[0].x&&s.x+s.x0<u[1].x&&s.y+s.y1>u[0].y&&s.y+s.y0<u[1].y)))){for(var y,m=n.sprite,x=n.width>>5,_=t[0]>>5,w=n.x-(x<<4),b=127&w,S=32-b,k=n.y1-n.y0,M=(n.y+n.y0)*_+(w>>5),A=0;A<k;A++){y=0;for(var I=0;I<=x;I++)e[M+I]|=y<<S|(I<x?(y=m[A*x+I])>>>b:0);M+=_}return delete n.sprite,!0}return!1}return d.canvas=function(t){return arguments.length?(g=Ww(t),d):g},d.start=function(){var l=function(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(Aw<<5)/e,t.height=Iw/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",n.textBaseline="middle",{context:n,ratio:e}}(g()),y=function(t){var e=[],n=-1;for(;++n<t;)e[n]=0;return e}((t[0]>>5)*t[1]),m=null,x=u.length,_=-1,w=[],b=u.map(function(t,l){return t.text=e.call(this,t,l),t.font=n.call(this,t,l),t.style=i.call(this,t,l),t.weight=o.call(this,t,l),t.rotate=a.call(this,t,l),t.size=~~r.call(this,t,l),t.padding=s.call(this,t,l),t}).sort(function(t,e){return e.size-t.size});return f&&clearInterval(f),f=setInterval(S,0),S(),d;function S(){for(var e=Date.now();Date.now()-e<h&&++_<x&&f;){var n=b[_];n.x=t[0]*(p()+.5)>>1,n.y=t[1]*(p()+.5)>>1,Pw(l,n,b,_),n.hasText&&v(y,n,m)&&(w.push(n),c.call("word",d,n),m?Nw(m,n):m=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}_>=x&&(d.stop(),c.call("end",d,w,m))}},d.stop=function(){return f&&(clearInterval(f),f=null),d},d.timeInterval=function(t){return arguments.length?(h=null==t?1/0:t,d):h},d.words=function(t){return arguments.length?(u=t,d):u},d.size=function(e){return arguments.length?(t=[+e[0],+e[1]],d):t},d.font=function(t){return arguments.length?(n=Ww(t),d):n},d.fontStyle=function(t){return arguments.length?(i=Ww(t),d):i},d.fontWeight=function(t){return arguments.length?(o=Ww(t),d):o},d.rotate=function(t){return arguments.length?(a=Ww(t),d):a},d.text=function(t){return arguments.length?(e=Ww(t),d):e},d.spiral=function(t){return arguments.length?(l=jw[t]||t,d):l},d.fontSize=function(t){return arguments.length?(r=Ww(t),d):r},d.padding=function(t){return arguments.length?(s=Ww(t),d):s},d.random=function(t){return arguments.length?(p=t,d):p},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d}function Cw(t){return t.text}function Ew(){return"serif"}function zw(){return"normal"}function Lw(t){return Math.sqrt(t.value)}function Ow(){return 30*(~~(6*Math.random())-3)}function Dw(){return 1}function Pw(t,e,n,r){if(!e.sprite){var i=t.context,o=t.ratio;i.clearRect(0,0,(Aw<<5)/o,Iw/o);var a=0,s=0,l=0,u=n.length;for(--r;++r<u;){e=n[r],i.save(),i.font=e.style+" "+e.weight+" "+~~((e.size+1)/o)+"px "+e.font;var h=i.measureText(e.text+"m").width*o,c=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*Mw),p=Math.cos(e.rotate*Mw),d=h*p,g=h*f,v=c*p,y=c*f;h=Math.max(Math.abs(d+y),Math.abs(d-y))+31>>5<<5,c=~~Math.max(Math.abs(g+v),Math.abs(g-v))}else h=h+31>>5<<5;if(c>l&&(l=c),a+h>=Aw<<5&&(a=0,s+=l,l=0),s+c>=Iw)break;i.translate((a+(h>>1))/o,(s+(c>>1))/o),e.rotate&&i.rotate(e.rotate*Mw),i.fillText(e.text,0,0),e.padding&&(i.lineWidth=2*e.padding,i.strokeText(e.text,0,0)),i.restore(),e.width=h,e.height=c,e.xoff=a,e.yoff=s,e.x1=h>>1,e.y1=c>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,a+=h}for(var m=i.getImageData(0,0,(Aw<<5)/o,Iw/o).data,x=[];--r>=0;)if((e=n[r]).hasText){for(var _=(h=e.width)>>5,w=(c=e.y1-e.y0,0);w<c*_;w++)x[w]=0;if(null==(a=e.xoff))return;s=e.yoff;for(var b=0,S=-1,k=0;k<c;k++){for(w=0;w<h;w++){var M=_*k+(w>>5),A=m[(s+k)*(Aw<<5)+(a+w)<<2]?1<<31-w%32:0;x[M]|=A,b|=A}b?S=k:(e.y0++,c--,k--,s++)}e.y1=e.y0+S,e.sprite=x.slice(0,(e.y1-e.y0)*_)}}}function Fw(t,e,n){n>>=5;for(var r,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),s=127&a,l=32-s,u=t.y1-t.y0,h=(t.y+t.y0)*n+(a>>5),c=0;c<u;c++){r=0;for(var f=0;f<=o;f++)if((r<<l|(f<o?(r=i[c*o+f])>>>s:0))&e[h+f])return!0;h+=n}return!1}function Nw(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function Rw(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function Bw(){return document.createElement("canvas")}function Ww(t){return"function"==typeof t?t:function(){return t}}var jw={archimedean:Rw,rectangular:function(t){var e=4*t[0]/t[1],n=0,r=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:n+=e;break;case 1:r+=4;break;case 2:n-=e;break;default:r-=4}return[n,r]}}},Gw="wordcloud",Hw=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.type=Gw,n.layout=Tw(),n}return u(e,t),e.prototype.update=function(){var t=this.globalModel,e=this._option,n=e.fontFamily,r=e.fontStyle,i=e.fontWeight,o=e.fontSize,a=e.padding,s=e.rotate,l=e.text,u=e.random,h=e.spiral,c=this.getData(),f=this.get("$gridIndex"),p=t.getComponentByIndex("grid",f).position;this.layout.size([p.width,p.height]).words(c).font(n).fontStyle(r).fontWeight(i).fontSize(o).padding(a).rotate(s).text(l).random(u).spiral(h).stop().start(),this.data=c,this.position=p},e}(Qf);Hw.type=Gw,Hw.defaultOption={zlevel:0,z:1,fontFamily:"Impact",fontStyle:"normal",fontWeight:"normal",fontSize:function(t){return t.value},color:void 0,padding:1,rotate:function(){return 30*(~~(6*Math.random())-3)},text:function(t){return t.name},random:Math.random,spiral:"archimedean"};var Uw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Gw,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t.data,i=t.position,o=i.width,a=i.height,s=i.left,l=i.top,u=t.get("fontFamily"),h=t.get("fontStyle"),c=t.get("fontWeight"),f=[],p=Rd($f),d=t.get("color");co(r,function(t,e){var n={style:{text:t.text,fill:d?xo(d)?d(t,e):d:p(e),fontSize:t.size,textAlign:"center",textBaseline:"middle",fontFamily:u,fontWeight:c,fontStyle:h},rotation:-t.rotate/180*Math.PI,position:[t.x,t.y],key:t.text,data:t};t.x+s+o/2>o||t.x+s+o/2<0||t.y+l+a/2<0||t.y+l+a/2>a||f.push(tf(n))});var g=this.setShapeGroup("wordcould",Yh,f,{animation:t.get("animation"),animateList:{style:{fontSize:0},rotation:0,position:[0,0]},animateFrom:{style:{fontSize:0}}},function(e){e.on("click",function(e){n.dispatchAction(t,Af.itemClick,{data:e.target.data,e:e})})});g.getBoundingRect();g.attr("position",[s+o/2,l+a/2])},e}(Hf);Uw.type=Gw,qp(Hw,Uw);var qw="funnel",Vw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=qw,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.getData(),e=this.globalModel.getComponentByIndex("grid",this.get("$gridIndex")),n=this.get("sort"),r=e.position,i=this.get("selected"),o=void 0;i&&(t=po(t,function(t){return!1!==i[t.name]})),n&&("descending"===n?t=t.sort(function(t,e){return e.value-t.value}):"ascending"===n?t=t.sort(function(t,e){return t.value-e.value}):xo(n)&&(t=t.sort(n))),co(t,function(t){(!o||o.value<t.value)&&(o=t)}),this.maxItem=o,this.data=t,this.position=r},e}(Qf);Vw.type=qw,Vw.emphasisList=["itemStyle","label","labelLine"],Vw.defaultOption={$dataIndex:void 0,dataKey:void 0,$gridIndex:0,sort:"descending",gap:0,legendHoverLink:!0,funnelAlign:"center",minSize:"0%",maxSize:"100%",itemStyle:{normal:{},emphasis:{}},label:{normal:{show:!0,position:"center",gap:50,style:{fill:"#acacac",textVerticalAlign:"center"}},emphasis:{show:!0,style:{}}},labelLine:{normal:{show:!0,style:{stroke:"#acacac",lineWidth:1}},emphasis:{show:!0,style:{}}},zlevel:0,z:1};var Yw=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));(o.type=qw,n.get("legendHoverLink"))&&co(r.getComponent("legend"),function(t){i.registerAction(t,If.mouseover,function(e){var n=e.name;if(t.isSelected(n)){var r=o.getShape("funnel",n);o.getShape("funnel",n).trigger("mouseover",{target:r})}}),i.registerAction(t,If.mouseout,function(t){var e=t.name,n=o.getShape("funnel",e);n&&n.trigger("mouseout",{target:n})})});return o}return u(e,t),e.prototype.render=function(t,e){var n=this,r=t.data,i=t.position,o=i.width,a=i.height,s=i.left,u=i.top,h=i.right,c=t.maxItem;if(r.length){var f=t.get("gap"),p=t.get("animation"),d=t.get("funnelAlign"),g=t.get("label").normal,v=t.get("label").emphasis,y=t.get("itemStyle").normal,m=t.get("itemStyle").emphasis,x=t.get("labelLine").normal,_=t.get("labelLine").emphasis,w=uf(t.get("maxSize"),o),b=uf(t.get("minSize"),o),S=r.length,k=(a-(S-1)*f)/S,M=(w-b)/c.value,A=s+o/2,I=[],T=[],C=[],E=[],z=u;s=A-w/2,h=A+w/2;for(var L=0;L<S;L++){var O=r[L],D=O.value,P=(D*M+b)/2,F=void 0,N=void 0,R=void 0,B=void 0,W=0;if(L<S-1)W=(r[L+1].value*M+b)/2;else W=(D*M+b)/2;switch(d){case"left":F=s,N=s+2*P,R=s,B=s+2*W;break;case"right":F=h,N=h-2*P,R=h,B=h-2*W;break;case"center":default:F=A-P,N=A+P,R=A-W,B=A+W}l({fill:O.color},y);if(g.show){var j=void 0,G=void 0,H=void 0,U=void 0,q=z+k/2,V=g.formatter?g.formatter(O.value,O):O.value,Y=!1;switch(g.position){case"left":j=(U=(H=(F+R)/2)-g.gap)-5,G="right";break;case"right":j=(U=(H=(N+B)/2)+g.gap)+5,G="left";break;default:j=(F+N)/2,G="center",Y=!0}C.push({style:l({opacity:1,x:j,y:q,text:V,textAlign:G},tf(to(g.style))),key:O.name,_hoverStyle:l({text:v.formatter?g.formatter(O.value,O):V},tf(to(v.style))),silent:Y,z2:1}),x.show&&!Y&&E.push(Fc({shape:{x1:H,y1:q,x2:U,y2:q},key:O.name,style:x.style,_hoverStyle:to(_.style)}))}I.push({shape:{points:[[F,z],[N,z],[B,z+k],[R,z+k]]},style:l({opacity:1,fill:O.color},y),_hoverStyle:to(m),key:O.name,data:O,z2:0}),T.push({shape:{points:[[F,z],[N,z],[N,z],[F,z]]}}),z+=k+f}this.setShapeGroup("funnel",ec,I,{animation:p,animateFrom:T,animateLeave:{style:{opacity:0}}},void 0,function(e){e._hoverStyle&&Zc(e,e._hoverStyle),e.on("mouseover",function(e){var r=e.target;if(v.show){var i=n.getShape("label",r.name);if(i)i.trigger("emphasis");else{var o=r.shape.points,a=void 0,s=void 0,u=(o[1][1]+o[2][1])/2,h=v.formatter||g.formatter,c=h?h(r.data.value,r.data):r.data.value;switch(v.position||g.position){case"left":a=(o[0][0]+o[3][0])/2-g.gap-5,s="right";break;case"right":a=(o[1][0]+o[2][0])/2+g.gap+5,s="left";break;default:a=(o[0][0]+o[1][0])/2,s="center"}n.setShape("tempLabel",Yh,{style:l({x:a,y:u,text:c,textAlign:s},tf(eo(to(g.style),v.style,!0))),z:t.get("z"),z2:999,silent:!0})}if(_.show){var f=n.getShape("labelLine",r.name);if(f)f.trigger("emphasis");else{var p=r.shape.points,d=void 0,y=void 0,m=(p[1][1]+p[2][1])/2,w=!1;switch(g.position){case"left":y=(d=(p[0][0]+p[3][0])/2)-g.gap;break;case"right":y=(d=(p[1][0]+p[2][0])/2)+g.gap;break;default:w=!0}x.show&&!w&&n.setShape("tempLabelLine",lc,Fc({shape:{x1:d,y1:m,x2:y,y2:m},style:eo(to(x.style),_.style,!0)}))}}}}),e.on("mouseout",function(t){var e=t.target;if(v.show){var r=n.getShape("label",e.name),i=n.getShape("labelLine",e.name);r?r.trigger("normal"):n.removeShape("tempLabel"),i?i.trigger("normal"):n.removeShape("tempLabelLine")}})}),this.setShapeGroup("label",Yh,C,void 0,void 0,function(t){t._hoverStyle&&Zc(t,t._hoverStyle)}),this.setShapeGroup("labelLine",lc,E,void 0,void 0,function(t){t._hoverStyle&&Zc(t,t._hoverStyle)})}else this.removeShape("funnel")},e}(Hf);Yw.type=qw,qp(Vw,Yw);var $w="gauge",Xw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=$w,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.getData(),e=this.get("min"),n=this.get("max"),r=this.get("title").text,i=this.get("startAngle"),o=this.get("endAngle"),a=this.global,s=a.getWidth(),l=a.getHeight(),u=Math.min(l,s),h=this.get("center"),c=this.get("radius"),f=this.get("color"),p=this.get("gradient"),d=void 0;wo(t)?(void 0!==t.min&&(e=t.min),void 0!==t.max&&(n=t.max),d=t.value,void 0!==t.title&&(r=t.title)):d=t,d=Math.min(Math.max(e,d),n),f&&(f=mo(f)?f.sort(function(t,e){return t[0]-e[0]}):[[1,f]],p&&0!==f[0][0]&&f.unshift([0,f[0][1]])),this.color=f,this.title=r,this.percent=(d-e)/(n-e),this.startAngle=i/180*Math.PI,this.endAngle=o/180*Math.PI,this.value=d,this.radius=uf(c,u),this.center=[uf(h[0],s),uf(h[1],l)],this.min=e,this.max=n},e}(Qf);Xw.type=$w,Xw.defaultOption={data:void 0,center:["50%","50%"],radius:"40%",startAngle:-210,endAngle:30,min:0,max:100,splitNumber:10,tickOffset:40,color:[[1,"red"]],gradient:!1,arcNum:50,axisLine:{show:!0,style:{lineWidth:30}},arcOutline:{show:!1,style:{fill:"#0E122D",stroke:"#26284F"}},endArc:{show:!1,angleCross:1,style:{fill:"#EF136D",stroke:"#EF136D"}},splitLine:{show:!0,type:"tick",length:15,gradient:!1,color:[[0,"#202126"],[.5,"#0096FE"],[1,"#202126"]],style:{fill:"#ED1671",stroke:"#acacac",lineWidth:2}},axisTick:{show:!0,type:"tick",splitNumber:5,length:8,gradient:!1,color:[[0,"#202126"],[.5,"#0096FE"],[1,"#202126"]],style:{fill:"#ED1671",stroke:"#acacac",lineWidth:1}},axisLabel:{show:!0,distance:15,formatter:void 0,style:{fill:"#acacac",textAlign:"center",textVerticalAlign:"center"}},title:{show:!0,text:void 0,offsetCenter:[0,"80%"],style:{fill:"#acacac",fontSize:20,textAlign:"center",textVerticalAlign:"center"}},detail:{show:!0,offsetCenter:[0,0],formatter:void 0,style:{fontSize:50,textAlign:"center",textVerticalAlign:"center"}},zlevel:0,z:1};var Kw=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=$w,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t.min,i=t.max,o=t.value,a=t.radius,s=t.center,u=t.startAngle,h=t.endAngle,c=t.percent,f=t.title,p=t.color,d=t.get("arcNum"),g=t.get("splitNumber"),v=t.get("axisLine"),y=t.get("detail"),m=t.get("title"),x=t.get("splitLine"),_=t.get("axisLabel"),w=t.get("axisTick"),b=t.get("tickOffset"),S=t.get("gradient"),k=t.get("animation"),M=t.get("arcOutline"),A=t.get("endArc"),I=_v().domain([0,2*Math.PI]).range([0,360]).invert(A.angleCross);b=uf(b,a);var T=v.style,C=u+Math.PI/2,E=h+Math.PI/2,z=a,L=a-T.lineWidth;if(M.show&&this.setShape("arcOutline",cd,{shape:{outerRadius:z,innerRadius:L,startAngle:C,endAngle:E,cornerRadius:0},position:s,style:M.style,cursor:"default"}),v.show)if(S||!p){for(var O=Qw(p),D=p.length-1,P=(E-C)*c/(d*D),F=[],N=0;N<d*D;N++){var R=C+P*N,B=C+P*N+P,W=Jw(O.color,O.domain,R,C,E);F.push({key:N,shape:{outerRadius:z,innerRadius:L,startAngle:R,endAngle:B,cornerRadius:0},position:s,style:{fill:W,stroke:W},cursor:"default"})}this.setShapeGroup("axisLine",cd,F,{animation:k,animateFrom:{shape:{startAngle:C,endAngle:C}}})}else{for(var j=[],G=0;G<p.length;G++){var H=void 0,U=void 0;0===G?(H=C,U=c<p[G][0]?C+(E-C)*c:C+(E-C)*p[G][0]):c<p[G-1][0]?H=U=C+(E-C)*c:c<p[G][0]?(H=C+(E-C)*p[G-1][0],U=C+(E-C)*c):(H=C+(E-C)*p[G-1][0],U=C+(E-C)*p[G][0]),j.push({shape:{outerRadius:z,innerRadius:L,startAngle:H,endAngle:U},position:s,style:l({fill:p[G][1]},T),key:p[G][0],z2:0,silent:!0})}this.setShapeGroup("axisLine",cd,j,{animation:k,animateFrom:{shape:{startAngle:C,endAngle:C}}})}if(A.show&&0!==A.angleCross&&this.setShape("endArc",cd,{shape:{outerRadius:z,innerRadius:L,startAngle:C+(E-C)*c,endAngle:C+(E-C)*c+I,cornerRadius:0},position:s,style:A.style,cursor:"default"},{animation:k,animateFrom:{shape:{startAngle:C,endAngle:C}}}),y.show){var q=y.offsetCenter,V=y.formatter,Y=y.style;q=Zw(q,a),this.setShape("detail",Yh,{style:e.getFormattedText(l({text:V?V(o):o},Y)),position:[s[0]+q[0],s[1]+q[1]]})}if(m.show&&f){var $=m.offsetCenter,X=m.style;$=Zw($,a),this.setShape("title",Yh,{style:e.getFormattedText(l({text:f},X)),position:[s[0]+$[0],s[1]+$[1]]})}if(x.show){var K=x.length,Z=x.style,Q=x.color,J=[],tt=(h-u)/g,et=u,nt={};x.gradient&&(nt=Qw(Q)),K=uf(K,a);for(var rt=0;rt<=g;rt++){var it={};if(w.gradient){var ot=Jw(nt.color,nt.domain,et,u,h);it={fill:ot,stroke:ot}}else it=Z;"tick"===x.type?J.push({shape:{x1:s[0]+Math.cos(et)*(a-b),x2:s[0]+Math.cos(et)*(a-b-K),y1:s[1]+Math.sin(et)*(a-b),y2:s[1]+Math.sin(et)*(a-b-K)},style:it,z2:5,silent:!0}):"circle"===x.type&&J.push({shape:{cx:s[0]+Math.cos(et)*(a-b),cy:s[1]+Math.sin(et)*(a-b),r:K},style:it,silent:!0}),et+=tt}"tick"===x.type?this.setShapeGroup("splitLine",lc,J):"circle"===x.type&&this.setShapeGroup("splitLine",$h,J)}if(w.show){var at=w.length,st=w.splitNumber,lt=w.style,ut=w.color,ht=[],ct=g*st,ft=(h-u)/ct,pt=u,dt={};w.gradient&&(dt=Qw(ut)),at=uf(at,a);for(var gt=0;gt<=ct;gt++){var vt={};if(w.gradient){var yt=Jw(dt.color,dt.domain,pt,u,h);vt={fill:yt,stroke:yt}}else vt=lt;"tick"===w.type?ht.push({shape:{x1:s[0]+Math.cos(pt)*(a-b),x2:s[0]+Math.cos(pt)*(a-b-at),y1:s[1]+Math.sin(pt)*(a-b),y2:s[1]+Math.sin(pt)*(a-b-at)},style:vt,z2:4,silent:!0}):"circle"===w.type&&ht.push({shape:{cx:s[0]+Math.cos(pt)*(a-b),cy:s[1]+Math.sin(pt)*(a-b),r:at},style:vt,silent:!0}),pt+=ft}"tick"===w.type?this.setShapeGroup("axisTick",lc,ht):"circle"===w.type&&this.setShapeGroup("axisTick",$h,ht)}if(_.show){var mt=_.formatter,xt=_.distance,_t=_.style,wt=[],bt=(h-u)/g,St=u,kt=(i-r)/g,Mt=r,At=uf(x.length,a);xt=uf(xt,a);for(var It=0;It<=g;It++)wt.push({style:e.getFormattedText(l({x:s[0]+Math.cos(St)*(a-b-At-xt),y:s[1]+Math.sin(St)*(a-b-At-xt),text:mt?mt(Mt):Mt},_t)),z2:7,silent:!0}),St+=bt,Mt+=kt;this.setShapeGroup("axisLabel",Yh,wt)}},e}(Hf);function Zw(t,e){return mo(t)?[uf(t[0],e),uf(t[1],e)]:[uf(t,e),uf(t,e)]}function Qw(t){for(var e={domain:[],color:[]},n=0;n<t.length;n++)e.domain.push(t[n][0]),e.color.push(t[n][1]);return e}function Jw(t,e,n,r,i){var o=_v().domain([r,i]).range([0,1]);return _v().domain(e).range(t).interpolate(qg)(o(n))}Kw.type=$w,qp(Xw,Kw);var tb=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&(gf(e,"area.normal.style.fill")||df(e,"area.normal.style.fill",e.color))},e.prototype.formatData=function(t){return fo(t,function(t,e){return[e,t]})},e.prototype.update=function(){var e;(e=t.prototype.update).call.apply(e,[this].concat(Array.prototype.slice.call(arguments)));var n=this.getAxisModel("y").scale,r=n.domain();this.y0=n(r[1]<0?r[1]:r[0]>0?r[0]:0)},e}(Fx);tb.type="area",tb.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,area:{normal:{show:!0,style:{fill:"#ccc"}}},curve:{type:"linear",param:void 0},connectNulls:!1,legendHoverLink:!0,cursor:"default",zlevel:0,z:3};var eb=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.render=function(t,e,n){var r=t.get("cursor"),i=t.get("curve"),o=t.get("animation"),a=t.get("animationDuration"),s=t.get("animationEasing"),l=t.get("area").normal,u=l.style,h=t.points,c=t.y0;if(l.show){var f={x:function(t){return t[0]},y0:function(t){return t[1][0]},y1:function(t){return t[1][1]},data:h,curve:Dx(i),y0Start:c,y1Start:c,percent:1,defined:function(t){return t}};this.setShape("area",bx,{shape:f,style:u,cursor:r},{animation:o,duration:a,easing:s,animateFrom:{shape:{percent:0}}})}},e}(Hf);eb.type="area",qp(tb,eb);var nb="lines",rb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=nb,c(r,n)}return u(e,t),e}(Qf);rb.type=nb,rb.defaultOption={$dataIndex:void 0,dataKey:void 0,$geoIndex:0,name:void 0,effectSymbol:{show:!1,type:"circle",size:3,style:{},period:4e3,delay:0,trailLength:.2,loop:!0},line:{show:!0,curveness:0,style:{}},endSymbol:{show:!1,type:"arrow",size:10,style:{}},zlevel:0,z:9};var ib=function(t){function e(n){s(this,e);var r=c(this,t.apply(this,arguments)),i=n.model,o=n.line,a=n.coords,l=a[0],u=a[1],h={shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1],cpx1:(l[0]+u[0])/2-(l[1]-u[1])*o.curveness,cpy1:(l[1]+u[1])/2-(u[0]-l[0])*o.curveness,percent:1},style:o.style},f=new cc(h),p=n.effectSymbol,d=n.endSymbol,g=p.size,v=f.pointAt(0),y=f.pointAt(1),m=f.tangentAt(0),x=f.tangentAt(1),_=-Math.PI/2-Math.atan2(m[1],m[0]),w=-Math.PI/2-Math.atan2(x[1],x[0]);if(o.show&&r.setShape("line",cc,h,{animation:i.get("animation"),animateFrom:{shape:{percent:0}}}),d.show){var b=new lp({shape:{symbolType:"arrow",x:-d.size/2,y:-d.size/2,width:d.size,height:d.size},style:d.style,position:y,rotation:w});if(r.set("endSymbol",b),i.get("animation"))b.__t=0,b.animate("",!1).when(i.get("animationDuration"),{__t:1}).during(function(){var t=f.tangentAt(b.__t),e=-Math.PI/2-Math.atan2(t[1],t[0]);b.attr("position",f.pointAt(b.__t)),b.attr("rotation",e)}).start(i.get("animationEasing"))}if(p.show){var S=new lp({shape:{symbolType:p.type,x:-g/2,y:-g/2,width:g,height:g},style:p.style,position:v,rotation:_});r.set("symbol",S),S.__t=0,S.animate("",p.loop).when(p.period,{__t:1}).delay(xo(p.delay)?p.delay(n.data,n.index,n):p.delay).during(function(){var t=f.tangentAt(S.__t),e=-Math.PI/2-Math.atan2(t[1],t[0]);S.attr("position",f.pointAt(S.__t)),S.attr("rotation",e)}).start()}return r}return u(e,t),e}(i_),ob=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=nb,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){this.remove();var r=n.getZr(),i="svg"===r.painter.getType(),o=t.get("zlevel"),a=t.get("effectSymbol"),s=t.get("endSymbol"),l=a.show,u=a.trailLength,h=t.get("line"),c=n.getModel("geo",0),f=t.getData(),p=[];i||r.painter.getLayer(o).clear(!0),l&&u&&(i||r.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(u/10+.9,1),0)})),co(f,function(e,n){var r=e.coords,i=c.projection(r[0]),o=c.projection(r[1]);p.push({coords:[i,o],line:h,effectSymbol:a,endSymbol:s,model:t,key:n,index:n,data:e})}),this.setShapeGroup("flylines",ib,p)},e}(Hf);ob.type=nb,qp(rb,ob);var ab="effectScatter",sb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=ab,c(r,n)}return u(e,t),e}(Fx);sb.type=ab,sb.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4e3,scale:3,brushType:"stroke",number:3},symbol:{normal:{show:!0,type:"circle",offset:[0,0],size:8,style:{fill:"#058499",lineWidth:.5}},emphasis:{show:!1,style:{}}},label:{normal:{show:!1,style:{position:"top"},formatter:void 0},emphasis:{show:!1,style:{}}},cursor:"default",zlevel:0,z:4};var lb=function(t){function e(n){s(this,e);for(var r=c(this,t.apply(this,arguments)),i=r.setShape("symbol",lp,n),o=new Cs,a=n.model,u=a.get("rippleEffect"),h=a.get("showEffectOn"),f=u.number,p=u.period,d=u.scale,g=u.brushType,v=function(t){var e=new lp(l({},n,{z2:99,silent:!0,scale:[.8,.8]}));if("fill"===g){var r=n.style.fill||n.style.stroke;e.setStyle({fill:r,stroke:null})}else{var a=n.style.stroke||n.style.fill;e.setStyle({fill:null,stroke:a})}var s=-t/f*p;e.animateScale=e.animate("",!0).when(p,{scale:[d,d]}).delay(s),e.animateOpacity=e.animateStyle(!0).when(p,{opacity:0}).delay(s),"emphasis"===h?(i.on("mouseover",function(){e.show(),e.animateScale.start(),e.animateOpacity.start()}),i.on("mouseout",function(){e.animateScale.stop(),e.animateOpacity.stop(),e.hide()})):(e.animateScale.start(),e.animateOpacity.start()),o.add(e)},y=0;y<f;y++)v(y);return r.set("rippleGroup",o),r}return u(e,t),e}(i_),ub=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=ab,c(r,n)}return u(e,t),e.prototype.renderAllSymbol=function(t,e,n,r){this.group,t.get("symbol").normal,t.isScatter;var i=t.get("cursor"),o=[];co(r,function(e,n){if(e){var r=e[2],a={shape:function(t,e,n){var r=t.get("symbol"),i=(r=n?eo(to(r.normal),r.emphasis,!0):r.normal).type,o=r.size,a=r.offset,s=ff("function"==typeof o?o(e):o);return{symbolType:i,x:-s.width/2+a[0],y:-s.height/2+a[1],width:s.width,height:s.height}}(t,r,!1),position:[e[0],e[1]],style:function(t,e,n,r){var i=t.get("symbol"),o=t.get("label"),a=i.normal.style,s=e[1],u={data:e,index:r-t.startIndex,dataIndex:r},h=t.get("$visualMapIndex"),c=void 0,f=void 0;if(c=xo(a)?a(s,u):to(a),void 0!==h){var p=t.globalModel.getComponentByIndex("visualMap",h);void 0!==t.get("$calendarIndex")||"line"===t.get("type")?c.fill=p.getColorStop(e[1],c.fill):c.fill=p.getColorStop(e[2],c.fill)}if(n){var d=i.emphasis.style;d=xo(d)?d(s,u):to(d),c=eo(c,d,!0)}if(n){var g=o.emphasis;if(g.show){var v=o.normal,y=g.formatter||v.formatter,m=xo(v.style)?v.style(s,u):to(v.style),x=eo(m,g.style,!0);f=l({text:y?y(s,u):s},tf(hb(x,s,u)))}}else{var _=o.normal;if(_.show){var w=_.formatter,b=xo(_.style)?_.style(s,u):to(_.style);f=l({text:w?w(s,u):s},tf(hb(b,s,u)))}}f&&(c=eo(c,f));return c}(t,r,!1,e[3]),key:e[3],seriesIndex:t.index,dataIndex:e[3],rectHover:!0,cursor:i,model:t};o.push(a)}}),this.setShapeGroup("symbolGroup",lb,o)},e.prototype.render=function(t,e,n){this.remove(),this.renderAllSymbol(t,e,n,t.points)},e}(Hf);function hb(t,e,n){var r={};return co(t,function(t,i){xo(t)?r[i]=t(e,n):r[i]=t}),r}ub.type=ab,qp(sb,ub);var cb=function(){function t(){s(this,t),this.defaultRadius=25,this.defaultBlur=15,this.defaultGradient={.4:"blue",.6:"cyan",.7:"lime",.8:"yellow",1:"red"};var e=this._canvas=oo();this._ctx=e.getContext("2d"),this._max=1,this._min=0,this._data=[]}return t.prototype.data=function(t){return this._data=t,this},t.prototype.max=function(t){return this._max=t,this},t.prototype.min=function(t){return this._min=t,this},t.prototype.add=function(t){return this._data.push(t),this},t.prototype.clear=function(){return this._data=[],this},t.prototype.radius=function(t,e){e=void 0===e?this.defaultBlur:e;var n=this._circle=this._createCanvas(),r=n.getContext("2d"),i=this._r=t+e;return n.width=n.height=2*i,r.shadowOffsetX=r.shadowOffsetY=2*i,r.shadowBlur=e,r.shadowColor="black",r.beginPath(),r.arc(-i,-i,t,0,2*Math.PI,!0),r.closePath(),r.fill(),this},t.prototype.gradient=function(t){var e=this._createCanvas(),n=e.getContext("2d"),r=n.createLinearGradient(0,0,0,256);for(var i in e.width=1,e.height=256,t)r.addColorStop(+i,t[i]);return n.fillStyle=r,n.fillRect(0,0,1,256),this._grad=n.getImageData(0,0,1,256).data,this},t.prototype.draw=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.05,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments[2],r=arguments[3];this._circle||this.radius(this.defaultRadius),this._grad||this.gradient(this.defaultGradient);var i=this._canvas,o=this._ctx;i.width=n,i.height=r,o.clearRect(0,0,n,r);for(var a,s=this._max-this._min,l=0,u=this._data.length;l<u;l++)a=this._data[l],o.globalAlpha=Math.min(Math.max((a[2]-this._min)/s,t),e),o.drawImage(this._circle,a[0]-this._r,a[1]-this._r);var h=o.getImageData(0,0,n,r);return this._colorize(h.data,this._grad),o.putImageData(h,0,0),this},t.prototype._colorize=function(t,e){for(var n,r=0,i=t.length;r<i;r+=4)(n=4*t[r+3])&&(t[r]=e[n],t[r+1]=e[n+1],t[r+2]=e[n+2])},t.prototype._createCanvas=function(){return"undefined"!=typeof document?document.createElement("canvas"):new this._canvas.constructor},t}(),fb="heatmap",pb=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=fb,c(r,n)}return u(e,t),e.prototype.updateByAxis=function(){for(var t=this.data,e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=e.scale,i=n.scale,o=e.domain,a=n.domain,s=e.startIndex,l=n.startIndex,u=r.step(),h=i.step(),c=r.paddingOuter()*u,f=r.paddingOuter()*h,p=[],d=0;d<t.length;d++){var g=t[d];p.push([r(o[g[0]-s])-c,i(a[g[1]-l])-f,g[2]])}this.points=p,this.width=u,this.height=h},e.prototype.updateByCalendar=function(){var t=this.globalModel,e=this.data,n=t.getComponentByIndex("calendar",this.get("$calendarIndex")),r=n.get("cellSize"),i=[];co(e,function(t,e){var o=t[0],a=[],s=n.calcPoint(o);s&&(a=[s.x-r/2,s.y-r/2,t[1]],i.push(a))}),this.points=i,this.width=r,this.height=r},e.prototype.updateByGeo=function(){var t=this.globalModel,e=this.data,n=t.getComponentByIndex("geo",this.get("$geoIndex")),r=[];co(e,function(t,e){var i=n.projection(t);i&&r.push([i[0],i[1],t[2]])}),this.points=r},e.prototype.update=function(){this.global;var t=this.get("$axisIndex"),e=this.get("$calendarIndex"),n=this.get("$geoIndex"),r=this.getData();r=po(r,function(t){return t}),this.data=r,void 0!==t?this.updateByAxis():void 0!==e?this.updateByCalendar():void 0!==n&&this.updateByGeo()},e}(Qf);pb.type=fb,pb.defaultOption={zlevel:0,z:1,pointSize:20,blurSize:30,minOpacity:0,maxOpacity:1,itemStyle:{normal:{fill:"rgba(102, 132, 221, 0.5)"}}};var db=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=fb,c(r,n)}return u(e,t),e.prototype.renderOnGeo=function(t,e,n){for(var r=t.points,i=t.get("blurSize"),o=t.get("pointSize"),a=t.get("minOpacity"),s=t.get("maxOpacity"),l=(t.get("itemStyle").normal,t.get("$visualMapIndex")),u=n.getModel("visualMap",l),h=n.getWidth(),c=(n.getHeight(),this._heat||new cb),f=u.get("inRange").color,p={},d=0;d<f.length;d++)p[f[d][0]]=f[d][1];c.data(r),c.max(u.get("max")),c.min(u.get("min")),c.radius(o,i),c.gradient(p),c.draw(a,s,h,h),this.setShape("heatmap",Xl,{style:{width:h,height:h,x:0,y:0,image:c._canvas},silent:!0})},e.prototype.renderOnOther=function(t,e,n){for(var r=t.points,i=t.width,o=t.height,a=t.get("itemStyle").normal,s=n.getModel("visualMap",0),u=[],h=0;h<r.length;h++){var c=r[h],f=s&&s.getColorStop(c[2]),p=l({},a);f&&(p.fill=f),u.push({shape:{x:0,y:0,width:i,height:o},position:[c[0],c[1]],style:p,data:{value:c[2]}})}this.setShapeGroup("heatmap",ac,u)},e.prototype.render=function(t){void 0!==t.get("$geoIndex")?this.renderOnGeo.apply(this,arguments):this.renderOnOther.apply(this,arguments)},e}(Hf);function gb(t,e){return t.parent===e.parent?1:2}function vb(t,e){return t+e.x}function yb(t,e){return Math.max(t,e.y)}function mb(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function xb(t,e){var n,r,i,o,a,s=new Sb(t),l=+t.value&&(s.value=t.value),u=[s];for(null==e&&(e=_b);n=u.pop();)if(l&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)u.push(r=n.children[o]=new Sb(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(bb)}function _b(t){return t.children}function wb(t){t.data=t.data.data}function bb(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Sb(t){this.data=t,this.depth=this.height=0,this.parent=null}db.type=fb,qp(pb,db),Sb.prototype=xb.prototype={constructor:Sb,count:function(){return this.eachAfter(mb)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return xb(this).eachBefore(wb)}};var kb=Array.prototype.slice;function Mb(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(kb.call(t))).length,o=[];r<i;)e=t[r],n&&Tb(n,e)?++r:(n=Eb(o=Ab(o,e)),r=0);return n}function Ab(t,e){var n,r;if(Cb(e,t))return[e];for(n=0;n<t.length;++n)if(Ib(e,t[n])&&Cb(zb(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Ib(zb(t[n],t[r]),e)&&Ib(zb(t[n],e),t[r])&&Ib(zb(t[r],e),t[n])&&Cb(Lb(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Ib(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Tb(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Cb(t,e){for(var n=0;n<e.length;++n)if(!Tb(t,e[n]))return!1;return!0}function Eb(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return zb(t[0],t[1]);case 3:return Lb(t[0],t[1],t[2])}var e}function zb(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,u=a-r,h=s-i,c=Math.sqrt(l*l+u*u);return{x:(n+o+l/c*h)/2,y:(r+a+u/c*h)/2,r:(c+i+s)/2}}function Lb(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,u=n.x,h=n.y,c=n.r,f=r-a,p=r-u,d=i-s,g=i-h,v=l-o,y=c-o,m=r*r+i*i-o*o,x=m-a*a-s*s+l*l,_=m-u*u-h*h+c*c,w=p*d-f*g,b=(d*_-g*x)/(2*w)-r,S=(g*v-d*y)/w,k=(p*x-f*_)/(2*w)-i,M=(f*y-p*v)/w,A=S*S+M*M-1,I=2*(o+b*S+k*M),T=b*b+k*k-o*o,C=-(A?(I+Math.sqrt(I*I-4*A*T))/(2*A):T/I);return{x:r+b+S*C,y:i+k+M*C,r:C}}function Ob(t,e,n){var r,i,o,a,s=t.x-e.x,l=t.y-e.y,u=s*s+l*l;u?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(u+a-i)/(2*u),o=Math.sqrt(Math.max(0,a/u-r*r)),n.x=t.x-r*s-o*l,n.y=t.y-r*l+o*s):(r=(u+i-a)/(2*u),o=Math.sqrt(Math.max(0,i/u-r*r)),n.x=e.x+r*s-o*l,n.y=e.y+r*l+o*s)):(n.x=e.x+n.r,n.y=e.y)}function Db(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Pb(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Fb(t){this._=t,this.next=null,this.previous=null}function Nb(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,l,u,h,c;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Ob(n,e,r=t[2]),e=new Fb(e),n=new Fb(n),r=new Fb(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Ob(e._,n._,r=t[s]),r=new Fb(r),l=n.next,u=e.previous,h=n._.r,c=e._.r;do{if(h<=c){if(Db(l._,r._)){n=l,e.next=n,n.previous=e,--s;continue t}h+=l._.r,l=l.next}else{if(Db(u._,r._)){(e=u).next=n,n.previous=e,--s;continue t}c+=u._.r,u=u.previous}}while(l!==u.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Pb(e);(r=r.next)!==n;)(a=Pb(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Mb(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function Rb(t){if("function"!=typeof t)throw new Error;return t}function Bb(){return 0}function Wb(t){return function(){return t}}function jb(t){return Math.sqrt(t.value)}function Gb(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Hb(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Nb(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function Ub(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function qb(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Vb(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(r-e)/t.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*u}var Yb="$",$b={depth:-1},Xb={};function Kb(t){return t.id}function Zb(t){return t.parentId}function Qb(t,e){return t.parent===e.parent?1:2}function Jb(t){var e=t.children;return e?e[0]:t.t}function tS(t){var e=t.children;return e?e[e.length-1]:t.t}function eS(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function nS(t,e,n){return t.a.parent===e.parent?t.a:n}function rS(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function iS(){var t=Qb,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,o,a=new rS(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new rS(r[i],i)),n.parent=e;return(a.parent=new rS(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(s);else{var u=i,h=i,c=i;i.eachBefore(function(t){t.x<u.x&&(u=t),t.x>h.x&&(h=t),t.depth>c.depth&&(c=t)});var f=u===h?1:t(u,h)/2,p=f-u.x,d=e/(h.x+f+p),g=n/(c.depth||1);i.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*g})}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,l=o.parent.children[0],u=o.m,h=a.m,c=s.m,f=l.m;s=tS(s),o=Jb(o),s&&o;)l=Jb(l),(a=tS(a)).a=e,(i=s.z+c-o.z-u+t(s._,o._))>0&&(eS(nS(s,e,r),e,i),u+=i,h+=i),c+=s.m,u+=o.m,f+=l.m,h+=a.m;s&&!tS(a)&&(a.t=s,a.m+=c-h),o&&!Jb(l)&&(l.t=o,l.m+=u-f,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function oS(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,u=t.value&&(i-n)/t.value;++s<l;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*u}rS.prototype=Object.create(Sb.prototype);var aS=(1+Math.sqrt(5))/2;function sS(t,e,n,r,i,o){for(var a,s,l,u,h,c,f,p,d,g,v,y=[],m=e.children,x=0,_=0,w=m.length,b=e.value;x<w;){l=i-n,u=o-r;do{h=m[_++].value}while(!h&&_<w);for(c=f=h,v=h*h*(g=Math.max(u/l,l/u)/(b*t)),d=Math.max(f/v,v/c);_<w;++_){if(h+=s=m[_].value,s<c&&(c=s),s>f&&(f=s),v=h*h*g,(p=Math.max(f/v,v/c))>d){h-=s;break}d=p}y.push(a={value:h,dice:l<u,children:m.slice(x,_)}),a.dice?Vb(a,n,r,i,b?r+=u*h/b:o):oS(a,n,r,b?n+=l*h/b:i,o),b-=h,x=_}return y}var lS=function t(e){function n(t,n,r,i,o){sS(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(aS);function uS(){var t=lS,e=!1,n=1,r=1,i=[0],o=Bb,a=Bb,s=Bb,l=Bb,u=Bb;function h(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(c),i=[0],e&&t.eachBefore(qb),t}function c(e){var n=i[e.depth],r=e.x0+n,h=e.y0+n,c=e.x1-n,f=e.y1-n;c<r&&(r=c=(r+c)/2),f<h&&(h=f=(h+f)/2),e.x0=r,e.y0=h,e.x1=c,e.y1=f,e.children&&(n=i[e.depth+1]=o(e)/2,r+=u(e)-n,h+=a(e)-n,c-=s(e)-n,f-=l(e)-n,c<r&&(r=c=(r+c)/2),f<h&&(h=f=(h+f)/2),t(e,r,h,c,f))}return h.round=function(t){return arguments.length?(e=!!t,h):e},h.size=function(t){return arguments.length?(n=+t[0],r=+t[1],h):[n,r]},h.tile=function(e){return arguments.length?(t=Rb(e),h):t},h.padding=function(t){return arguments.length?h.paddingInner(t).paddingOuter(t):h.paddingInner()},h.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Wb(+t),h):o},h.paddingOuter=function(t){return arguments.length?h.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):h.paddingTop()},h.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:Wb(+t),h):a},h.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:Wb(+t),h):s},h.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:Wb(+t),h):l},h.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:Wb(+t),h):u},h}function hS(t,e,n,r,i){var o,a,s=t.children,l=s.length,u=new Array(l+1);for(u[0]=a=o=0;o<l;++o)u[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,l){if(e>=n-1){var h=s[e];return h.x0=i,h.y0=o,h.x1=a,void(h.y1=l)}var c=u[e],f=r/2+c,p=e+1,d=n-1;for(;p<d;){var g=p+d>>>1;u[g]<f?p=g+1:d=g}f-u[p-1]<u[p]-f&&e+1<p&&--p;var v=u[p]-c,y=r-v;if(a-i>l-o){var m=(i*y+a*v)/r;t(e,p,v,i,o,m,l),t(p,n,y,m,o,a,l)}else{var x=(o*y+l*v)/r;t(e,p,v,i,o,a,x),t(p,n,y,i,x,a,l)}}(0,l,t.value,e,n,r,i)}function cS(t,e,n,r,i){(1&t.depth?oS:Vb)(t,e,n,r,i)}var fS=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,l,u,h,c=-1,f=a.length,p=t.value;++c<f;){for(l=(s=a[c]).children,u=s.value=0,h=l.length;u<h;++u)s.value+=l[u].value;s.dice?Vb(s,n,r,i,r+=(o-r)*s.value/p):oS(s,n,r,n+=(i-n)*s.value/p,o),p-=s.value}else t._squarify=a=sS(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(aS),pS=Object.freeze({cluster:function(){var t=gb,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(vb,0)/t.length}(n),e.y=function(t){return 1+t.reduce(yb,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)});var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),u=s.x-t(s,l)/2,h=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-u)/(h-u)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},hierarchy:xb,pack:function(){var t=null,e=1,n=1,r=Bb;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(Gb(t)).eachAfter(Hb(r,.5)).eachBefore(Ub(1)):i.eachBefore(Gb(jb)).eachAfter(Hb(Bb,1)).eachAfter(Hb(r,i.r/Math.min(e,n))).eachBefore(Ub(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=null==(n=e)?null:Rb(n),i):t;var n},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Wb(+t),i):r},i},packSiblings:function(t){return Nb(t),t},packEnclose:Mb,partition:function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&Vb(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(qb),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},stratify:function(){var t=Kb,e=Zb;function n(n){var r,i,o,a,s,l,u,h=n.length,c=new Array(h),f={};for(i=0;i<h;++i)r=n[i],s=c[i]=new Sb(r),null!=(l=t(r,i,n))&&(l+="")&&(f[u=Yb+(s.id=l)]=u in f?Xb:s);for(i=0;i<h;++i)if(s=c[i],null!=(l=e(n[i],i,n))&&(l+="")){if(!(a=f[Yb+l]))throw new Error("missing: "+l);if(a===Xb)throw new Error("ambiguous: "+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=$b,o.eachBefore(function(t){t.depth=t.parent.depth+1,--h}).eachBefore(bb),o.parent=null,h>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=Rb(e),n):t},n.parentId=function(t){return arguments.length?(e=Rb(t),n):e},n},tree:iS,treemap:uS,treemapBinary:hS,treemapDice:Vb,treemapSlice:oS,treemapSliceDice:cS,treemapSquarify:lS,treemapResquarify:fS}),dS="treemap",gS={treemapBinary:hS,treemapDice:Vb,treemapSlice:oS,treemapSliceDice:cS,treemapSquarify:lS,treemapResquarify:fS},vS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=dS,c(r,n)}return u(e,t),e.prototype.update=function(){var t,e=this.globalModel,n=this._option,r=n.$gridIndex,i=n.targetPath,o=n.value,a=n.paddingInner,s=n.paddingTop,l=n.paddingBottom,u=n.paddingLeft,h=n.paddingRight,c=n.tile,f=n.round,p=n.color,d=this.getData(),g=e.getComponentByIndex("grid",r),v=g.position,y=(v.left,v.top,v.right,v.bottom,v.width),m=v.height,x=uS().size([y,m]).round(f).tile(_o(c)?gS[c]:c).paddingInner(a).paddingTop(s).paddingBottom(l).paddingLeft(u).paddingRight(h);!function(t,e){yS(t,function(t,e,n){t._path=n?n._path+"/"+t.name:t.name,t._parent=n})}(d),i=i||d._path,mo(p)&&(t=Rd(p),p=function(e,n,r){var i=e._path;return n<2?t(i):Va(r.color,.1*-(n-1))}),yS(d,function(t,e,n){t.color=t.color||p(t,e,n)});var _=xb(function t(e,n){if(!n||e._path===n)return e;if(e.children)for(var r=0;r<e.children.length;r++)if(n.indexOf(e.name)>-1){var i=t(e.children[r],n);if(i)return i}}(d,i)).sum(o).sort(function(t,e){return e.height-t.height||e.value-t.value});x(_),this.targetPath=i,this.targetRoot=_,this.position=g.position},e}(Qf);function yS(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3];e(t,n,r),n++,co(t.children,function(r){yS(r,e,n,t)})}vS.type=dS,vS.emphasisList=["itemStyle","label","upperLabel"],vS.defaultOption={$dataIndex:void 0,dataKey:void 0,$gridIndex:0,name:void 0,targetPath:void 0,value:function(t){return t.value},leafDepth:1,tile:"treemapSquarify",round:!1,paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingInner:1,nodeClick:"zoomToNode",drillDownIcon:"",color:["#525552","#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],itemStyle:{normal:{},emphasis:{}},label:{normal:{show:!0,style:{},formatter:void 0},emphasis:{show:!1,style:{}}},upperLabel:{normal:{show:!1,style:{},formatter:void 0},emphasis:{show:!1,style:{}}},breadcrumb:{show:!0,align:"center",top:void 0,left:void 0,height:22,minWidth:30,maxWidth:60,style:{normal:{stroke:"rgba(255,255,255,0.7)",fill:"rgba(0,0,0,0.7)",lineWidth:1,shadowBlur:3,shadowColor:" rgba(150,150,150,1)"},emphasis:{}},textStyle:{normal:{fill:"#fff"},emphasis:{}}},zlevel:0,z:1};var mS=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));o.type=dS;var a=o.roam,l=void 0;if(a.inGrid){var u=n.get("$gridIndex");l=r.getComponentByIndex("grid",u)}return i.on("mousewheel",function(t){var e=t.offsetX,r=t.offsetY;t.wheelDelta;l&&!l.isPointInGrid(e,r)||!a.enable||n.dirty()}),o}return u(e,t),e.prototype.render=function(t,e,n){var r=t.targetRoot,i=t.position,o=i.left,a=i.top,s=t.get("leafDepth"),u=t.get("drillDownIcon"),h=(t.get("value"),t.get("label")),c=t.get("upperLabel"),f=t.get("itemStyle"),p=(t.get("nodeClick"),[]),d=r.depth+s,g=this.group.scale||[1,1],v=h.normal,y=c.normal,m=f.normal,x=v.formatter||function(t,e){return(e.children&&u?u+" ":"")+t.name},_=v.formatter||function(t,e){return t.name},w=[],b=this.getShape("treemap");function S(t){var n=t.x0,r=t.x1,i=t.y0,u=t.y1,h=t.parent,c=t.data,f=t.depth,d=c._path;if(b){var S=function(t){var e=void 0;for((t=t.split("/")).pop();t.length&&!(e=b.childOfName(t.join("/")));)t.pop();return e}(d);if(S){var k=S.shape,M=k.x,A=k.y;w.push({shape:{x:M,y:A,width:0,height:0}})}else w.push({})}else w.push({});var I={text:""};if(v.show&&(!c.children||s&&t.depth===s)){var T=v.style;xo(T)&&(T=T(c,t)),I=e.getFormattedText(l({text:x(c,t),truncate:{outerWidth:(r-n)*g[0],outerHeight:(u-i)*g[1]},position:"inside"},T))}else y.show&&c.children&&(!s||s&&t.depth<s)&&(I=e.getFormattedText(l({text:_(c,t),truncate:{outerWidth:(r-n)*g[0],outerHeight:(u-i)*g[1]},position:"insideTopLeft"},y.style)));var C=m;xo(C)&&(C=C(c,t)),p.push(Nc({shape:{x:n,y:i,width:r-n,height:u-i},position:[o,a],style:l({fill:c.color},I,C),data:l({value:t.value},c,{parent:h}),key:d,z2:f}))}!function t(e){s?e.depth<d?(S(e),e.children&&co(e.children,function(e){t(e)})):e.depth===d&&S(e):(S(e),e.children&&co(e.children,t))}(r),this.setShapeGroup("treemap",ac,p,{animation:t.get("animation"),duration:t.get("animationDuration"),easing:t.get("animationEasing"),animateFrom:w,animateList:{shape:{x:0,y:0,width:0,height:0}},animateLeave:{style:{opacity:0}}},function(e){e.on("click",function(e){switch(t.get("nodeClick")){case"link":var r=e.target.data.link;r&&window.open(r,"_blank");break;case"zoomToNode":e.target.data.children&&t.set("targetPath",e.target.data._path)}n.dispatchAction(t,Af.itemClick,e)})}),function(t,e){var n=t.get("breadcrumb");if(!n.show)return;var r=t.targetPath,i=t.position,o=n.textStyle,a=n.style,s=n.minWidth,u=n.maxWidth,h=n.height,c=n.align,f=n.left,p=n.top,d=[];void 0===f&&(f=i.left+i.width/2);void 0===p&&(p=i.bottom+20);r=r.split("/");var g="",v=f;co(r,function(t){var n=new Yh(e.getFormattedText({style:l({text:t},o.normal)})),r=n.getBoundingRect().width;r=Math.max(Math.min(u,r),s),g=g?g+"/"+t:t,d.push({shape:{x:v,y:p,width:r,height:h},style:l({},e.getFormattedText(l({text:t,truncate:{outerWidth:r,outerHeight:h}},o.normal)),a.normal),data:{path:g}}),v+=r});var y=this.setShapeGroup("breadcrumb",ac,d,void 0,function(e){e.on("click",function(e){var n=e.target;t.set("targetPath",n.data.path)})});if("center"===c){var m=y.getBoundingRect().width;y.attr("position",[-m/2,0])}}.call(this,t,e)},e}(Hf);mS.type=dS,qp(vS,mS);var xS=pS,_S="tree",wS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=_S,r.initialized=!1,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.globalModel,e=this.getData(),n=this.get("$gridIndex"),r=this.get("orient"),i=this.get("treeType"),o=this.get("layout"),a=this.get("gap"),s=this.get("startAngle"),l=this.get("endAngle"),u=this.get("separation"),h=this.get("initialTreeDepth"),c=t.getComponentByIndex("grid",n),f=c.position,p=f.left,d=f.top,g=(f.right,f.bottom,f.width),v=f.height,y=xS[i](),m=this.root||xS.hierarchy(e),x=void 0;u&&y.separation(u),"orthogonal"===o?y.size("horizontal"===r?[v,g]:[g,v]):(x=uf(this.get("radial"),Math.min(g,v)),y.size([l-s,x])),!this.initialized&&"number"==typeof h&&h>-1&&(m.eachAfter(function(t){t._id=Math.random(),t.depth>=h&&(t._children=t.children,t.children=null)}),this.initialized=!0),y(m),"orthogonal"===o?m.each(function(t){"horizontal"===r?(t._x=t.y+p,t._y=t.x+d,t._gapX=t._x-a,t._gapY=t._y):(t._x=t.x+p,t._y=t.y+d,t._gapX=t._x,t._gapY=t._y-a)}):(p+=x+(g-2*x)/2,d+=x+(v-2*x)/2,m.each(function(t){t.x+=s,t._x=Math.sin(t.x/180*Math.PI)*t.y+p,t._y=Math.cos(t.x/180*Math.PI)*t.y+d,t._gapX=Math.sin(t.x/180*Math.PI)*(t.y+a)+p,t._gapY=Math.cos(t.x/180*Math.PI)*(t.y+a)+d})),this.root=m,this.position=c.position},e}(Qf);wS.type=_S,wS.emphasisList=["label","node","link"],wS.defaultOption={$dataIndex:void 0,dataKey:void 0,$gridIndex:0,name:void 0,orient:"horizontal",treeType:"tree",layout:"orthogonal",radial:"50%",startAngle:0,endAngle:360,gap:10,initialTreeDepth:2,expandAndCollapse:!0,separation:void 0,label:{normal:{show:!0,silent:!0,formatter:void 0,style:{fill:"#5097f8",opacity:.8}},emphasis:{}},node:{normal:{show:!0,type:"circle",size:10,style:{stroke:"#5097f8",fill:"white"}}},link:{normal:{show:!0,style:{stroke:"#67cacb"}}},zlevel:0,z:1};var bS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=_S,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t.root,i=t.position,o=t.get("orient"),a=t.get("layout"),s=t.get("label").normal,u=s.style,h=s.silent,c=s.formatter,f=t.get("node").normal,p=f.style,d=f.size,g=f.type,v=t.get("link").normal,y=t.get("animation"),m=(i.left,i.top,r.descendants()),x=r.links(),_=[],w=[],b=[],S=[],k=[],M=[];co(m,function(t){var n=t._x,r=t._y,i=t._id,v=(t.children,t._children,t.parent),y=t._gapX,m=t._gapY,x=ff(xo(d)?d(t):d),w=x.width,k=x.height,A=xo(g)?g(t):g,I=xo(p)?p(t):p;if(f.show&&(_.push({shape:{symbolType:A,x:-w/2,y:-k/2,width:w,height:k},position:[n,r],style:I,z2:1,key:i,node:t,data:t.data}),S.push(v?{position:[(v._x+n)/2,(v._y+r)/2]}:{position:[n,r]})),s.show){var T=void 0,C=void 0,E=xo(u)?u(t):u;if("radial"===a){var z=(t.x+360)%360;T={textAlign:z<180&&z>0?"left":"right",textVerticalAlign:"center"},C=(t.x/180+(z<180&&z>0?-.5:.5))*Math.PI}else"horizontal"===o?(T={textAlign:"right",textVerticalAlign:"center"},C=0):(T={textAlign:"left",textVerticalAlign:"center"},C=-Math.PI/2*3);void 0!==s.rotate&&(C=s.rotate),b.push(e.getFormattedText({style:l({text:c?c(t.data.name,t.data):t.data.name},T,E),silent:h,position:[y,m],rotation:C,z2:2,key:i,data:t.data})),M.push(v?{position:[(v._gapX+y)/2,(v._gapY+m)/2]}:{position:[y,m]})}}),this.setShapeGroup("nodes",lp,_,{animation:y,animateFrom:S},function(e){e.on("click",function(e){var r=t.get("expandAndCollapse"),i=e.target.node;n.dispatchAction(t,"NODE_CLICK",e),r&&(i.children?(i._children=i.children,i.children=null,t.dirty()):i._children&&(i.children=i._children,t.dirty()))})}),this.setShapeGroup("texts",Yh,b,{animation:y,animateFrom:M},function(e){e.on("click",function(e){n.dispatchAction(t,"LABEL_CLICK",e)})}),v.show&&co(x,function(t){var e=t.source,n=t.target;w.push({shape:{source:[e._x,e._y],target:[n._x,n._y],orient:o},style:v.style,z2:0,key:e._id+"-"+n._id}),k.push({shape:{source:[e._x,e._y],target:[e._x,e._y]}})}),this.setShapeGroup("links",x_,w,{animation:y,animateFrom:k})},e}(Hf);bS.type=_S,qp(wS,bS);var SS="custom",kS=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.type=SS,co(n.get("model"),function(t,e){n[e]=t}),n}return u(e,t),e}(Qf);kS.type=SS,kS.defaultOption={zlevel:0,z:1,view:{},model:{}};var MS=function(t){function e(n){s(this,e);var r=c(this,t.apply(this,arguments));return r.type=SS,co(n.get("view"),function(t,e){r[e]=t}),r}return u(e,t),e}(Hf);MS.type=SS,qp(kS,MS);var AS="radial",IS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=AS,r.initialized=!1,c(r,n)}return u(e,t),e.prototype.update=function(){},e}(Qf);IS.type=AS,IS.emphasisList=["label","node","link"],IS.defaultOption={zlevel:0,z:1,startAngle:0,endAngle:360,gap:10,initialTreeDepth:2,expandAndCollapse:!0,separation:void 0,label:{normal:{show:!0,silent:!0,formatter:void 0,style:{fill:"#5097f8",opacity:.8}},emphasis:{}},node:{normal:{show:!0,type:"circle",size:10,style:{stroke:"#5097f8",fill:"white"}}},link:{normal:{show:!0,style:{stroke:"#67cacb"}}}};var TS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=AS,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=n.getWidth(),i=n.getHeight(),o=t.get("node").normal,a=o.style,s=(o.size,o.type),l=t.getData(),u=[],h=[],c=[];function f(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}var p,d=iS().size([2*Math.PI,Math.min(r,i)/2.1]).separation(function(t,e){return(t.parent==e.parent?1:2)/t.depth}),g=xb(l),v=[];if(e.root)p=e.root;else{for(var y=(p=d(g)).descendants(),m=(p.links(),p.descendants().filter(function(t){return"circle"==t.data.type})),x=0,_=0;_<y.length;_++){var w=y[_];if(1==w.depth){x=w.y;break}}m.forEach(function(t){t.children.forEach(function(t){t.y-=x/2,t.depth-=.5})});for(var b=0;b<50;b++){var S=y.length*Math.random()>>0,k=y.length*Math.random()>>0;v.push({type:"extra",source:y[S],target:y[k]})}p.extraLinks=v}e.root=p;var M=p.descendants(),A=p.links(),I=p.extraLinks.filter(function(t){return M.indexOf(t.source)>=0&&M.indexOf(t.target)>=0});M.forEach(function(t,e){var n=xo(s)?s(t,e):s,o=xo(a)?a(t,e):a,l=f(t.x,t.y),h=l[0],p=l[1],d=(t.x/Math.PI*180+360)%360,g=(t.x+(d<180&&d>0?-.5:.5))*Math.PI;u.push({position:l,shape:{symbolType:n,width:6,height:6,x:r/2-3,y:i/2-3},style:o,node:t,data:t.data}),c.push({style:{text:11111111},position:[h+r/2,p+i/2],rotation:g||d<180?Math.PI/2-t.x:-Math.PI/2-t.x})}),A.concat(I).forEach(function(t){var e,n=f(t.source.x,t.source.y),o=f(t.target.x,t.target.y);e="extra"==t.type?"rgba(200, 200, 200, .15)":t.highlight?"red":"rgba(0, 0, 0, .1)",h.push({style:{stroke:e,lineWidth:1},shape:{x1:n[0]+r/2,y1:n[1]+i/2,x2:o[0]+r/2,y2:o[1]+i/2}})}),this.setShapeGroup("edges",lc,h),this.setShapeGroup("nodes",lp,u,{},function(e){e.on("click",function(e){var n=t.get("expandAndCollapse"),r=e.target.node;n&&(r.children?(r._children=r.children,r.children=null,t.dirty()):r._children&&(r.children=r._children,t.dirty()))}),e.on("mouseover",function(e){e.target.node.links().forEach(function(t){t.highlight=!0}),t.dirty()})})},e}(Hf);TS.type=AS,qp(IS,TS);var CS="elbow",ES=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=CS,r.initialized=!1,c(r,n)}return u(e,t),e.prototype.update=function(){},e}(Qf);ES.type=CS,ES.emphasisList=["label","node","link"],ES.defaultOption={zlevel:0,z:1,label:{normal:{show:!0,silent:!0,formatter:void 0,style:{fill:"#5097f8",opacity:.8}},emphasis:{}},node:{normal:{show:!0,type:"circle",size:10,style:{stroke:"#5097f8",fill:"white"}}},link:{normal:{show:!0,style:{stroke:"#67cacb"}}}};var zS="~/ ",LS=" ",OS=" ",DS="",PS=["\\u1100-\\u11FF","\\u2E80-\\u2EFF","\\u2F00-\\u2FDF","\\u2FF0-\\u2FFF","\\u3000-\\u303F","\\u3040-\\u309F","\\u30A0-\\u30FF","\\u3100-\\u312F","\\u3130-\\u318F","\\u3190-\\u319F","\\u31A0-\\u31BF","\\u31F0-\\u31FF","\\u3200-\\u32FF","\\u3300-\\u33FF","\\u3400-\\u4DBF","\\u4DC0-\\u4DFF","\\u4E00-\\u9FFF","\\uAC00-\\uD7AF","\\uF900-\\uFAFF","\\uFE30-\\uFE4F","\\uFF00-\\uFFEF","\\u{1D300}-\\u{1D35F}","\\u{20000}-\\u{2A6DF}","\\u{2A700}-\\u{2B73F}","\\u{2B740}-\\u{2B81F}","\\u{2B820}-\\u{2CEAF}","\\u{2CEB0}-\\u{2EBEF}","\\u{2F800}-\\u{2FA1F}"],FS=void 0;try{FS=new RegExp("["+PS.join("")+"]","u")}catch(t){FS=new RegExp("["+PS.slice(0,21).join("")+"]")}var NS=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function RS(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var BS=document.createElement("canvas").getContext("2d");BS.font="18px sans-serif";var WS=18===BS.measureText("").width,jS={fontFamily:"sans-serif",gridSize:26,column:25,row:1/0,xInterval:0,yInterval:12,letterSpacing:0,inlineCompression:!0,forceGridAlignment:!0,westernCharacterFirst:!1,forceSpaceBetweenCJKAndWestern:!1,fixLeftQuote:!0};function GS(t,e,n,r,i,o,a){var s=e.fontFamily,l=e.gridSize,u=e.yInterval,h=e.letterSpacing,c=[],f=l,p="",d=[],g=!1;" "!==t[t.length-1].character&&t.push({fontSize:0,character:" "});var v=!0,y=!1,m=void 0;try{for(var x,_=t[Symbol.iterator]();!(v=(x=_.next()).done);v=!0){var w=x.value,b=w.fontSize,S=w.character;if(f=Math.max(f,b)," "===S){if(o-n<BS.measureText(p).width&&(n=0,r+=f+u,g=!0,(i+=1)>=a))break;var k=!0,M=!1,A=void 0;try{for(var I,T=d[Symbol.iterator]();!(k=(I=T.next()).done);k=!0){var C=I.value,E=C.fontSize,z=(C.character,(E-l)/2);c.push(Object.assign({},C,{x:n,y:r-z})),n+=C.width+h}}catch(t){M=!0,A=t}finally{try{!k&&T.return&&T.return()}finally{if(M)throw A}}n+=.35*l,p="",d=[]}else{BS.font=b+"px "+s;var L=BS.measureText(S).width;p+=S,d.push(Object.assign({},w,{width:L,height:b}))}}}catch(t){y=!0,m=t}finally{try{!v&&_.return&&_.return()}finally{if(y)throw m}}return[c,n-.35*l,r,i,g]}var HS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=CS,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){n.getHeight();var r=t.get("node").normal,i=r.style,o=(r.size,r.type),a=t.getData(),s=[],l=[],u=[],h=[],c=[],f=function t(e){return mo(e)?e.map(function(e){return t(e)}):.5+(e>>0)},p=a.stockholder||[],d=a.subsidiary||[],g={label:a.name},v=e.getComponentByIndex("grid",0).position,y=v.width,m=v.left,x=v.top,_=[],w=[];0==p.length?g.tx=y/4:0==d.length?g.tx=3*y/4:g.tx=y/2,g.ty=20,g.sign="center",g.tx+=m,g.ty+=x,_.push(g),d.forEach(function(t,e){t.tx=y-94,t.ty=20+60*e,t.sign="to"}),p.forEach(function(t,e){t.tx=94,t.ty=20+60*e,t.sign="from"}),d.concat(p).forEach(function(t,e){xo(o)&&o(t,e);var n=xo(i)?i(t,e):i;t.style=n,t.tx+=m,t.ty+=x,_.push(t);var r={x:t.ty,y:t.tx},a={x:g.ty,y:g.tx};w.push({source:a,target:r,label:t.label,textFill:n.stroke,sign:t.sign,value:t.value})}),_.forEach(function(t,e){xo(o)&&o(t,e);var n=xo(i)?i(t,e):i,r=void 0;r="center"==t.sign?t.tx-47:t.tx<y/2?t.tx-94:t.tx;var a=t.ty-20;s.push({shape:{width:93,height:40,r:2},position:f([r,a]),style:n,node:t,data:t.data});var l=function(t,e,n){for(var r,i=e=Object.assign({},jS,e),o=i.fontFamily,a=i.gridSize,s=i.column,l=i.row,u=i.xInterval,h=i.yInterval,c=i.inlineCompression,f=i.forceGridAlignment,p=i.westernCharacterFirst,d=i.forceSpaceBetweenCJKAndWestern,g=i.fixLeftQuote,v=0,y=0,m=0,x=0,_=!1,w=0,b=!1,S=a,k=[],M=p,A=[],I=function(){v=0,m=0,x+=1,y+=S+h,S=a,_=!1,w=0,b=!1},T=[].concat(RS(t),[{fontSize:12,character:""}]),C=0;C<T.length;C++){var E=T[C],z=E.fontSize,L=E.character;if(c&&_&&!zS.includes(L)&&(v+=w/2+u,m+=.5,_=!1),/[ ]/.test(L)&&M)k.push(E);else if(r=L,FS.test(r)||/[\n ]/.test(L)){if(k.length){var O=d?.25*a:0;v&&(v+=O);var D,P,F=void 0,N=GS(k,e,v,y,x,s*a,l),R=NS(N,5);F=R[0],P=R[1],y=R[2],x=R[3],D=R[4],m=Math.ceil(P/(a+u)),v=m*(a+u),D||function(){v-P<O&&(v=(m+=1)*a);var t=(O+v-P)/2-O;F=F.map(function(e){return e.x+=t,n&&n(e)||e})}(),A.push.apply(A,RS(F)),M=!1,k=[]}var B=!1;if(m>=s&&(B=!0,(!LS.includes(L)||OS.includes(L)||b)&&I()),"\n"!==L){BS.font=z+"px "+o;var W=BS.measureText(L).width,j=0,G=(z-a)/2,H=!1;f&&z!==a&&(m+=(j=+f*(z-a)/2)>0?Math.ceil(2*j/(a+u)):0,j=((1+Math.ceil(2*j/(a+u)))*(a+u)-z)/2,v+=j,m>=s&&!LS.includes(L)&&(I(),H=!0));var U=0;U+=_||""!==L?0:z/2,g&&(""!==L||WS?""===L&&W===z&&(U+=-z/2):U+=-z/2);var q=Object.assign({},E,{x:v+U,y:y-G,width:W,height:z});A.push(n&&n(q)||q);var V=j*(H?2:1);if(V>a&&(V-=a,m-=1),v+=V,B&&LS.includes(L)&&!DS.includes(L)?(v+=z/2,(m+=.5)%1!=.5&&(b=!0)):c&&zS.includes(L)&&!DS.includes(L)?(v+=z/2+u*+_,m+=.5,_=!_):(v+=z+u,m+=1),S=Math.max(S,z),w=z,x>=l)break}else!B&&I()}else M=!0,k.push(E)}return A.pop(),A}(t.label.replace(/\r\n/g,"\n").split("").map(function(t){return{fontSize:12,character:t}}),{fontSize:12,gridSize:12,yInterval:6,column:7,row:2}),h=Array.isArray(l),c=0;for(l=h?l:l[Symbol.iterator]();;){var p;if(h){if(c>=l.length)break;p=l[c++]}else{if((c=l.next()).done)break;p=c.value}var d=p;u.push({style:{fontSize:12,text:d.character,textPadding:[4,5],textFill:n.textFill},position:[r+d.x,a+d.y]})}}),w.forEach(function(t,e){var n=t.source.y,r=t.source.x,i=t.target.y,o=t.target.x,a=(n+i)/2,s=r,u=a,p=o,d="from"==t.sign?"#ff5753":"#159cbf",g=[];g=w[e+1]&&w[e+1].sign==w[e].sign?[[u,o],[i,o]]:[[n,r],[a,s],[u,p],[i,o]],l.push({style:{stroke:d},shape:{data:f(g)}}),"to"!=t.sign&&"from"===w[e-1].sign||c.push({shape:{symbolType:"triangle",width:8,height:8,x:-4},style:{fill:t.textFill},position:"from"==t.sign?f([n-47,r]):f([i,o]),rotation:-Math.PI/2}),h.push({style:{text:t.value,textAlign:"center",textVerticalAlign:"bottom",y:-5,textFill:t.textFill},position:[(i+u)/2,o]})}),this.setShapeGroup("edges",Cc,l),this.setShapeGroup("nodes",ac,s),this.setShapeGroup("texts",Yh,u),this.setShapeGroup("arrow",lp,c),this.setShapeGroup("tips",Yh,h)},e}(Hf);HS.type=CS,qp(ES,HS);var US="arcshape",qS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=US,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){this.remove(),this.group.position=[25,25];var r=n.getWidth()-50,i=n.getHeight(),o=t.getData(),a=o.nodes,s=o.edges;function l(t){return"ggfr"==t.type||"rzgd"==t.type}var u=Id().key(function(t){return t.id}).map(a),h=(Id().key(function(t){return t.to}).map(s),Id().key(function(t){return t.from}).map(s)),c=(function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n)}(a,l),{btzgs:-1,center:0,tzgs:1}),f=a.filter(l),p=a.filter(function(t){return!("ggfr"==t.type||"rzgd"==t.type)}).sort(function(t,e){return c[e.type]-c[t.type]});f.forEach(function(t){var e=t.id,n=h.get(e)[0].to,r=u.get(n)[0];r.children=r.children||[],-1==r.children.indexOf(t)&&r.children.push(t),t.parentNode=r});var d=[];p.forEach(function(t){var e=t.children;e&&e.forEach(function(t){d.push(t)})}),f=d;p.filter(function(t){return t.children&&t.children.length>0}).length;!function(){for(var t=0;t<p.length;t++){var e=p[t],n=r/p.length;e.x=n*t,e.y=.6*i}for(var o=0;o<f.length;o++){var a=f[o],s=r/f.length;a.x=s*o,a.y=.9*i}}(),a.forEach(function(t){var e=t.type,n="#4b667b";"tzgs"==e||"jccg"==e?n="#414DF5":"btzgs"==e?n="#B5DD8F":"rzgd"==e?n="#F3BA45":"ggfr"==e&&(n="#EB7B4F"),t.color=n}),s.forEach(function(t){t.source=u.get(t.from)[0],t.target=u.get(t.to)[0]});var g=[],v=[],y=[],m={stroke:"#505050",opacity:.05,lineWidth:2};a.forEach(function(t){g.push({shape:{cx:t.x,cy:t.y,r:5},style:{fill:t.color},data:t})}),s.forEach(function(t){l(t.source)||l(t.target)?y.push({shape:{x1:t.source.x,y1:t.source.y,x2:t.target.x,y2:t.target.y},style:m,data:t}):v.push({shape:{cx:(t.source.x+t.target.x)/2,cy:(t.source.y+t.target.y)/2,r:Math.abs(t.source.x-t.target.x)/2,startAngle:Math.PI,endAngle:0,clockwise:!0},style:m,data:t})});var x=this.setShapeGroup("arclinks",fc,v),_=this.setShapeGroup("links",lc,y),w=this.setShapeGroup("nodes",$h,g,{},function(t){t.on("mouseover",function(t){var e=t.target.data;_.children().forEach(function(t){t.data.source!=e&&t.data.target!=e||t.setStyle({stroke:t.data.source.color,opacity:.5})}),x.children().forEach(function(t){t.data.source!=e&&t.data.target!=e||t.setStyle({stroke:t.data.source.color,opacity:.5})})}),t.on("mouseout",function(t){_.children().forEach(function(t){t.setStyle(m)}),x.children().forEach(function(t){t.setStyle(m)})})});this.group.add(x),this.group.add(_),this.group.add(w)},e}(Hf);qS.type=US;var VS="arcshape",YS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=VS,c(r,n)}return u(e,t),e.prototype.update=function(){},e}(Qf);YS.type=VS,YS.defaultOption={},qp(YS,qS);var $S="dagre",XS=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=$S,c(r,n)}return u(e,t),e}(Qf);XS.type=$S,XS.defaultOption={zlevel:0,z:1,isTop:!1,limited:!0,node:{rankStep:80,entireLabel:!1,shape:{width:80,height:30,r:15},style:{normal:{colors:{origin:"rgb(47, 151, 255)",process:"rgba(169, 210, 251)",end:"rgba(43, 87, 194, 1)"},fontSize:14,textFill:"rgb(255, 255 ,255)",stroke:"rgb(47, 151, 255)",lineWidth:1},emphasis:{}}},link:{arrowSize:[3,6],lineWidth:[1,3],label:{type:"percent",fontSize:10,textFill:"rgb(47, 151, 255)"},style:{normal:{stroke:"rgb(47, 151, 255)",opacity:.4,dashFill:"rgb(47, 151, 255)",lineDash:[5,5]},emphasis:{}}}};var KS="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var ZS,QS=function(t,e){return t(e={exports:{}},e.exports),e.exports}(function(t,e){(function(){var n,r=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",h=1,c=2,f=4,p=1,d=2,g=1,v=2,y=4,m=8,x=16,_=32,w=64,b=128,S=256,k=512,M=30,A="...",I=800,T=16,C=1,E=2,z=1/0,L=9007199254740991,O=1.7976931348623157e308,D=NaN,P=4294967295,F=P-1,N=P>>>1,R=[["ary",b],["bind",g],["bindKey",v],["curry",m],["curryRight",x],["flip",k],["partial",_],["partialRight",w],["rearg",S]],B="[object Arguments]",W="[object Array]",j="[object AsyncFunction]",G="[object Boolean]",H="[object Date]",U="[object DOMException]",q="[object Error]",V="[object Function]",Y="[object GeneratorFunction]",$="[object Map]",X="[object Number]",K="[object Null]",Z="[object Object]",Q="[object Proxy]",J="[object RegExp]",tt="[object Set]",et="[object String]",nt="[object Symbol]",rt="[object Undefined]",it="[object WeakMap]",ot="[object WeakSet]",at="[object ArrayBuffer]",st="[object DataView]",lt="[object Float32Array]",ut="[object Float64Array]",ht="[object Int8Array]",ct="[object Int16Array]",ft="[object Int32Array]",pt="[object Uint8Array]",dt="[object Uint8ClampedArray]",gt="[object Uint16Array]",vt="[object Uint32Array]",yt=/\b__p \+= '';/g,mt=/\b(__p \+=) '' \+/g,xt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_t=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,bt=RegExp(_t.source),St=RegExp(wt.source),kt=/<%-([\s\S]+?)%>/g,Mt=/<%([\s\S]+?)%>/g,At=/<%=([\s\S]+?)%>/g,It=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tt=/^\w*$/,Ct=/^\./,Et=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zt=/[\\^$.*+?()[\]{}|]/g,Lt=RegExp(zt.source),Ot=/^\s+|\s+$/g,Dt=/^\s+/,Pt=/\s+$/,Ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Nt=/\{\n\/\* \[wrapped with (.+)\] \*/,Rt=/,? & /,Bt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Wt=/\\(\\)?/g,jt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Gt=/\w*$/,Ht=/^[-+]0x[0-9a-f]+$/i,Ut=/^0b[01]+$/i,qt=/^\[object .+?Constructor\]$/,Vt=/^0o[0-7]+$/i,Yt=/^(?:0|[1-9]\d*)$/,$t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,Kt=/['\n\r\u2028\u2029\\]/g,Zt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Qt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jt="[\\ud800-\\udfff]",te="["+Qt+"]",ee="["+Zt+"]",ne="\\d+",re="[\\u2700-\\u27bf]",ie="[a-z\\xdf-\\xf6\\xf8-\\xff]",oe="[^\\ud800-\\udfff"+Qt+ne+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ae="\\ud83c[\\udffb-\\udfff]",se="[^\\ud800-\\udfff]",le="(?:\\ud83c[\\udde6-\\uddff]){2}",ue="[\\ud800-\\udbff][\\udc00-\\udfff]",he="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ce="(?:"+ie+"|"+oe+")",fe="(?:"+he+"|"+oe+")",pe="(?:"+ee+"|"+ae+")"+"?",de="[\\ufe0e\\ufe0f]?"+pe+("(?:\\u200d(?:"+[se,le,ue].join("|")+")[\\ufe0e\\ufe0f]?"+pe+")*"),ge="(?:"+[re,le,ue].join("|")+")"+de,ve="(?:"+[se+ee+"?",ee,le,ue,Jt].join("|")+")",ye=RegExp("[']","g"),me=RegExp(ee,"g"),xe=RegExp(ae+"(?="+ae+")|"+ve+de,"g"),_e=RegExp([he+"?"+ie+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[te,he,"$"].join("|")+")",fe+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[te,he+ce,"$"].join("|")+")",he+"?"+ce+"+(?:['](?:d|ll|m|re|s|t|ve))?",he+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)","\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",ne,ge].join("|"),"g"),we=RegExp("[\\u200d\\ud800-\\udfff"+Zt+"\\ufe0e\\ufe0f]"),be=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Se=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ke=-1,Me={};Me[lt]=Me[ut]=Me[ht]=Me[ct]=Me[ft]=Me[pt]=Me[dt]=Me[gt]=Me[vt]=!0,Me[B]=Me[W]=Me[at]=Me[G]=Me[st]=Me[H]=Me[q]=Me[V]=Me[$]=Me[X]=Me[Z]=Me[J]=Me[tt]=Me[et]=Me[it]=!1;var Ae={};Ae[B]=Ae[W]=Ae[at]=Ae[st]=Ae[G]=Ae[H]=Ae[lt]=Ae[ut]=Ae[ht]=Ae[ct]=Ae[ft]=Ae[$]=Ae[X]=Ae[Z]=Ae[J]=Ae[tt]=Ae[et]=Ae[nt]=Ae[pt]=Ae[dt]=Ae[gt]=Ae[vt]=!0,Ae[q]=Ae[V]=Ae[it]=!1;var Ie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Te=parseFloat,Ce=parseInt,Ee="object"==(void 0===KS?"undefined":a(KS))&&KS&&KS.Object===Object&&KS,ze="object"==("undefined"==typeof self?"undefined":a(self))&&self&&self.Object===Object&&self,Le=Ee||ze||Function("return this")(),Oe=e&&!e.nodeType&&e,De=Oe&&t&&!t.nodeType&&t,Pe=De&&De.exports===Oe,Fe=Pe&&Ee.process,Ne=function(){try{return Fe&&Fe.binding&&Fe.binding("util")}catch(t){}}(),Re=Ne&&Ne.isArrayBuffer,Be=Ne&&Ne.isDate,We=Ne&&Ne.isMap,je=Ne&&Ne.isRegExp,Ge=Ne&&Ne.isSet,He=Ne&&Ne.isTypedArray;function Ue(t,e){return t.set(e[0],e[1]),t}function qe(t,e){return t.add(e),t}function Ve(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Ye(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function $e(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Xe(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ke(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Ze(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function Qe(t,e){return!!(null==t?0:t.length)&&un(t,e,0)>-1}function Je(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function tn(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function en(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function nn(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function rn(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function on(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var an=pn("length");function sn(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function ln(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function un(t,e,n){return e==e?function(t,e,n){var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):ln(t,cn,n)}function hn(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function cn(t){return t!=t}function fn(t,e){var n=null==t?0:t.length;return n?vn(t,e)/n:D}function pn(t){return function(e){return null==e?n:e[t]}}function dn(t){return function(e){return null==t?n:t[e]}}function gn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function vn(t,e){for(var r,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==n&&(r=r===n?a:r+a)}return r}function yn(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function mn(t){return function(e){return t(e)}}function xn(t,e){return tn(e,function(e){return t[e]})}function _n(t,e){return t.has(e)}function wn(t,e){for(var n=-1,r=t.length;++n<r&&un(e,t[n],0)>-1;);return n}function bn(t,e){for(var n=t.length;n--&&un(e,t[n],0)>-1;);return n}var Sn=dn({"":"A","":"A","":"A","":"A","":"A","":"A"," ":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G"," ":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S"," ":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),kn=dn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Mn(t){return"\\"+Ie[t]}function An(t){return we.test(t)}function In(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function Tn(t,e){return function(n){return t(e(n))}}function Cn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==u||(t[n]=u,o[i++]=n)}return o}function En(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function zn(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Ln(t){return An(t)?function(t){var e=xe.lastIndex=0;for(;xe.test(t);)++e;return e}(t):an(t)}function On(t){return An(t)?function(t){return t.match(xe)||[]}(t):function(t){return t.split("")}(t)}var Dn=dn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Pn=function t(e){var Zt,Qt=(e=null==e?Le:Pn.defaults(Le.Object(),e,Pn.pick(Le,Se))).Array,Jt=e.Date,te=e.Error,ee=e.Function,ne=e.Math,re=e.Object,ie=e.RegExp,oe=e.String,ae=e.TypeError,se=Qt.prototype,le=ee.prototype,ue=re.prototype,he=e["__core-js_shared__"],ce=le.toString,fe=ue.hasOwnProperty,pe=0,de=(Zt=/[^.]+$/.exec(he&&he.keys&&he.keys.IE_PROTO||""))?"Symbol(src)_1."+Zt:"",ge=ue.toString,ve=ce.call(re),xe=Le._,we=ie("^"+ce.call(fe).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ie=Pe?e.Buffer:n,Ee=e.Symbol,ze=e.Uint8Array,Oe=Ie?Ie.allocUnsafe:n,De=Tn(re.getPrototypeOf,re),Fe=re.create,Ne=ue.propertyIsEnumerable,an=se.splice,dn=Ee?Ee.isConcatSpreadable:n,Fn=Ee?Ee.iterator:n,Nn=Ee?Ee.toStringTag:n,Rn=function(){try{var t=Ho(re,"defineProperty");return t({},"",{}),t}catch(t){}}(),Bn=e.clearTimeout!==Le.clearTimeout&&e.clearTimeout,Wn=Jt&&Jt.now!==Le.Date.now&&Jt.now,jn=e.setTimeout!==Le.setTimeout&&e.setTimeout,Gn=ne.ceil,Hn=ne.floor,Un=re.getOwnPropertySymbols,qn=Ie?Ie.isBuffer:n,Vn=e.isFinite,Yn=se.join,$n=Tn(re.keys,re),Xn=ne.max,Kn=ne.min,Zn=Jt.now,Qn=e.parseInt,Jn=ne.random,tr=se.reverse,er=Ho(e,"DataView"),nr=Ho(e,"Map"),rr=Ho(e,"Promise"),ir=Ho(e,"Set"),or=Ho(e,"WeakMap"),ar=Ho(re,"create"),sr=or&&new or,lr={},ur=da(er),hr=da(nr),cr=da(rr),fr=da(ir),pr=da(or),dr=Ee?Ee.prototype:n,gr=dr?dr.valueOf:n,vr=dr?dr.toString:n;function yr(t){if(zs(t)&&!_s(t)&&!(t instanceof wr)){if(t instanceof _r)return t;if(fe.call(t,"__wrapped__"))return ga(t)}return new _r(t)}var mr=function(){function t(){}return function(e){if(!Es(e))return{};if(Fe)return Fe(e);t.prototype=e;var r=new t;return t.prototype=n,r}}();function xr(){}function _r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=n}function wr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=P,this.__views__=[]}function br(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Sr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function kr(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Mr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new kr;++e<n;)this.add(t[e])}function Ar(t){var e=this.__data__=new Sr(t);this.size=e.size}function Ir(t,e){var n=_s(t),r=!n&&xs(t),i=!n&&!r&&ks(t),o=!n&&!r&&!i&&Bs(t),a=n||r||i||o,s=a?yn(t.length,oe):[],l=s.length;for(var u in t)!e&&!fe.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Ko(u,l))||s.push(u);return s}function Tr(t){var e=t.length;return e?t[Mi(0,e-1)]:n}function Cr(t,e){return ca(ao(t),Rr(e,0,t.length))}function Er(t){return ca(ao(t))}function zr(t,e,r){(r===n||vs(t[e],r))&&(r!==n||e in t)||Fr(t,e,r)}function Lr(t,e,r){var i=t[e];fe.call(t,e)&&vs(i,r)&&(r!==n||e in t)||Fr(t,e,r)}function Or(t,e){for(var n=t.length;n--;)if(vs(t[n][0],e))return n;return-1}function Dr(t,e,n,r){return Hr(t,function(t,i,o){e(r,t,n(t),o)}),r}function Pr(t,e){return t&&so(e,sl(e),t)}function Fr(t,e,n){"__proto__"==e&&Rn?Rn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Nr(t,e){for(var r=-1,i=e.length,o=Qt(i),a=null==t;++r<i;)o[r]=a?n:nl(t,e[r]);return o}function Rr(t,e,r){return t==t&&(r!==n&&(t=t<=r?t:r),e!==n&&(t=t>=e?t:e)),t}function Br(t,e,r,i,o,a){var s,l=e&h,u=e&c,p=e&f;if(r&&(s=o?r(t,i,o,a):r(t)),s!==n)return s;if(!Es(t))return t;var d=_s(t);if(d){if(s=function(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&fe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!l)return ao(t,s)}else{var g=Vo(t),v=g==V||g==Y;if(ks(t))return to(t,l);if(g==Z||g==B||v&&!o){if(s=u||v?{}:$o(t),!l)return u?function(t,e){return so(t,qo(t),e)}(t,function(t,e){return t&&so(e,ll(e),t)}(s,t)):function(t,e){return so(t,Uo(t),e)}(t,Pr(s,t))}else{if(!Ae[g])return o?t:{};s=function(t,e,n,r){var i,o,a,s=t.constructor;switch(e){case at:return eo(t);case G:case H:return new s(+t);case st:return function(t,e){var n=e?eo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case lt:case ut:case ht:case ct:case ft:case pt:case dt:case gt:case vt:return no(t,r);case $:return function(t,e,n){return nn(e?n(In(t),h):In(t),Ue,new t.constructor)}(t,r,n);case X:case et:return new s(t);case J:return(a=new(o=t).constructor(o.source,Gt.exec(o))).lastIndex=o.lastIndex,a;case tt:return function(t,e,n){return nn(e?n(En(t),h):En(t),qe,new t.constructor)}(t,r,n);case nt:return i=t,gr?re(gr.call(i)):{}}}(t,g,Br,l)}}a||(a=new Ar);var y=a.get(t);if(y)return y;a.set(t,s);var m=d?n:(p?u?Fo:Po:u?ll:sl)(t);return $e(m||t,function(n,i){m&&(n=t[i=n]),Lr(s,i,Br(n,e,r,i,t,a))}),s}function Wr(t,e,r){var i=r.length;if(null==t)return!i;for(t=re(t);i--;){var o=r[i],a=e[o],s=t[o];if(s===n&&!(o in t)||!a(s))return!1}return!0}function jr(t,e,r){if("function"!=typeof t)throw new ae(o);return sa(function(){t.apply(n,r)},e)}function Gr(t,e,n,i){var o=-1,a=Qe,s=!0,l=t.length,u=[],h=e.length;if(!l)return u;n&&(e=tn(e,mn(n))),i?(a=Je,s=!1):e.length>=r&&(a=_n,s=!1,e=new Mr(e));t:for(;++o<l;){var c=t[o],f=null==n?c:n(c);if(c=i||0!==c?c:0,s&&f==f){for(var p=h;p--;)if(e[p]===f)continue t;u.push(c)}else a(e,f,i)||u.push(c)}return u}yr.templateSettings={escape:kt,evaluate:Mt,interpolate:At,variable:"",imports:{_:yr}},yr.prototype=xr.prototype,yr.prototype.constructor=yr,_r.prototype=mr(xr.prototype),_r.prototype.constructor=_r,wr.prototype=mr(xr.prototype),wr.prototype.constructor=wr,br.prototype.clear=function(){this.__data__=ar?ar(null):{},this.size=0},br.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},br.prototype.get=function(t){var e=this.__data__;if(ar){var r=e[t];return r===s?n:r}return fe.call(e,t)?e[t]:n},br.prototype.has=function(t){var e=this.__data__;return ar?e[t]!==n:fe.call(e,t)},br.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ar&&e===n?s:e,this},Sr.prototype.clear=function(){this.__data__=[],this.size=0},Sr.prototype.delete=function(t){var e=this.__data__,n=Or(e,t);return!(n<0||(n==e.length-1?e.pop():an.call(e,n,1),--this.size,0))},Sr.prototype.get=function(t){var e=this.__data__,r=Or(e,t);return r<0?n:e[r][1]},Sr.prototype.has=function(t){return Or(this.__data__,t)>-1},Sr.prototype.set=function(t,e){var n=this.__data__,r=Or(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},kr.prototype.clear=function(){this.size=0,this.__data__={hash:new br,map:new(nr||Sr),string:new br}},kr.prototype.delete=function(t){var e=jo(this,t).delete(t);return this.size-=e?1:0,e},kr.prototype.get=function(t){return jo(this,t).get(t)},kr.prototype.has=function(t){return jo(this,t).has(t)},kr.prototype.set=function(t,e){var n=jo(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Mr.prototype.add=Mr.prototype.push=function(t){return this.__data__.set(t,s),this},Mr.prototype.has=function(t){return this.__data__.has(t)},Ar.prototype.clear=function(){this.__data__=new Sr,this.size=0},Ar.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Ar.prototype.get=function(t){return this.__data__.get(t)},Ar.prototype.has=function(t){return this.__data__.has(t)},Ar.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Sr){var i=n.__data__;if(!nr||i.length<r-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new kr(i)}return n.set(t,e),this.size=n.size,this};var Hr=ho(Zr),Ur=ho(Qr,!0);function qr(t,e){var n=!0;return Hr(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Vr(t,e,r){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(l===n?s==s&&!Rs(s):r(s,l)))var l=s,u=a}return u}function Yr(t,e){var n=[];return Hr(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function $r(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Xo),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?$r(s,e-1,n,r,i):en(i,s):r||(i[i.length]=s)}return i}var Xr=co(),Kr=co(!0);function Zr(t,e){return t&&Xr(t,e,sl)}function Qr(t,e){return t&&Kr(t,e,sl)}function Jr(t,e){return Ze(e,function(e){return Is(t[e])})}function ti(t,e){for(var r=0,i=(e=Ki(e,t)).length;null!=t&&r<i;)t=t[pa(e[r++])];return r&&r==i?t:n}function ei(t,e,n){var r=e(t);return _s(t)?r:en(r,n(t))}function ni(t){return null==t?t===n?rt:K:Nn&&Nn in re(t)?function(t){var e=fe.call(t,Nn),r=t[Nn];try{t[Nn]=n;var i=!0}catch(t){}var o=ge.call(t);return i&&(e?t[Nn]=r:delete t[Nn]),o}(t):function(t){return ge.call(t)}(t)}function ri(t,e){return t>e}function ii(t,e){return null!=t&&fe.call(t,e)}function oi(t,e){return null!=t&&e in re(t)}function ai(t,e,r){for(var i=r?Je:Qe,o=t[0].length,a=t.length,s=a,l=Qt(a),u=1/0,h=[];s--;){var c=t[s];s&&e&&(c=tn(c,mn(e))),u=Kn(c.length,u),l[s]=!r&&(e||o>=120&&c.length>=120)?new Mr(s&&c):n}c=t[0];var f=-1,p=l[0];t:for(;++f<o&&h.length<u;){var d=c[f],g=e?e(d):d;if(d=r||0!==d?d:0,!(p?_n(p,g):i(h,g,r))){for(s=a;--s;){var v=l[s];if(!(v?_n(v,g):i(t[s],g,r)))continue t}p&&p.push(g),h.push(d)}}return h}function si(t,e,r){var i=null==(t=oa(t,e=Ki(e,t)))?t:t[pa(Aa(e))];return null==i?n:Ve(i,t,r)}function li(t){return zs(t)&&ni(t)==B}function ui(t,e,r,i,o){return t===e||(null==t||null==e||!zs(t)&&!zs(e)?t!=t&&e!=e:function(t,e,r,i,o,a){var s=_s(t),l=_s(e),u=s?W:Vo(t),h=l?W:Vo(e),c=(u=u==B?Z:u)==Z,f=(h=h==B?Z:h)==Z,g=u==h;if(g&&ks(t)){if(!ks(e))return!1;s=!0,c=!1}if(g&&!c)return a||(a=new Ar),s||Bs(t)?Oo(t,e,r,i,o,a):function(t,e,n,r,i,o,a){switch(n){case st:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case at:return!(t.byteLength!=e.byteLength||!o(new ze(t),new ze(e)));case G:case H:case X:return vs(+t,+e);case q:return t.name==e.name&&t.message==e.message;case J:case et:return t==e+"";case $:var s=In;case tt:var l=r&p;if(s||(s=En),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=d,a.set(t,e);var h=Oo(s(t),s(e),r,i,o,a);return a.delete(t),h;case nt:if(gr)return gr.call(t)==gr.call(e)}return!1}(t,e,u,r,i,o,a);if(!(r&p)){var v=c&&fe.call(t,"__wrapped__"),y=f&&fe.call(e,"__wrapped__");if(v||y){var m=v?t.value():t,x=y?e.value():e;return a||(a=new Ar),o(m,x,r,i,a)}}return!!g&&(a||(a=new Ar),function(t,e,r,i,o,a){var s=r&p,l=Po(t),u=l.length,h=Po(e).length;if(u!=h&&!s)return!1;for(var c=u;c--;){var f=l[c];if(!(s?f in e:fe.call(e,f)))return!1}var d=a.get(t);if(d&&a.get(e))return d==e;var g=!0;a.set(t,e),a.set(e,t);for(var v=s;++c<u;){f=l[c];var y=t[f],m=e[f];if(i)var x=s?i(m,y,f,e,t,a):i(y,m,f,t,e,a);if(!(x===n?y===m||o(y,m,r,i,a):x)){g=!1;break}v||(v="constructor"==f)}if(g&&!v){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}(t,e,r,i,o,a))}(t,e,r,i,ui,o))}function hi(t,e,r,i){var o=r.length,a=o,s=!i;if(null==t)return!a;for(t=re(t);o--;){var l=r[o];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<a;){var u=(l=r[o])[0],h=t[u],c=l[1];if(s&&l[2]){if(h===n&&!(u in t))return!1}else{var f=new Ar;if(i)var g=i(h,c,u,t,e,f);if(!(g===n?ui(c,h,p|d,i,f):g))return!1}}return!0}function ci(t){return!(!Es(t)||de&&de in t)&&(Is(t)?we:qt).test(da(t))}function fi(t){return"function"==typeof t?t:null==t?Ol:"object"==(void 0===t?"undefined":a(t))?_s(t)?mi(t[0],t[1]):yi(t):Gl(t)}function pi(t){if(!ea(t))return $n(t);var e=[];for(var n in re(t))fe.call(t,n)&&"constructor"!=n&&e.push(n);return e}function di(t){if(!Es(t))return function(t){var e=[];if(null!=t)for(var n in re(t))e.push(n);return e}(t);var e=ea(t),n=[];for(var r in t)("constructor"!=r||!e&&fe.call(t,r))&&n.push(r);return n}function gi(t,e){return t<e}function vi(t,e){var n=-1,r=bs(t)?Qt(t.length):[];return Hr(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function yi(t){var e=Go(t);return 1==e.length&&e[0][2]?ra(e[0][0],e[0][1]):function(n){return n===t||hi(n,t,e)}}function mi(t,e){return Qo(t)&&na(e)?ra(pa(t),e):function(r){var i=nl(r,t);return i===n&&i===e?rl(r,t):ui(e,i,p|d)}}function xi(t,e,r,i,o){t!==e&&Xr(e,function(a,s){if(Es(a))o||(o=new Ar),function(t,e,r,i,o,a,s){var l=t[r],u=e[r],h=s.get(u);if(h)zr(t,r,h);else{var c=a?a(l,u,r+"",t,e,s):n,f=c===n;if(f){var p=_s(u),d=!p&&ks(u),g=!p&&!d&&Bs(u);c=u,p||d||g?_s(l)?c=l:Ss(l)?c=ao(l):d?(f=!1,c=to(u,!0)):g?(f=!1,c=no(u,!0)):c=[]:Ds(u)||xs(u)?(c=l,xs(l)?c=Ys(l):(!Es(l)||i&&Is(l))&&(c=$o(u))):f=!1}f&&(s.set(u,c),o(c,u,i,a,s),s.delete(u)),zr(t,r,c)}}(t,e,s,r,xi,i,o);else{var l=i?i(t[s],a,s+"",t,e,o):n;l===n&&(l=a),zr(t,s,l)}},ll)}function _i(t,e){var r=t.length;if(r)return Ko(e+=e<0?r:0,r)?t[e]:n}function wi(t,e,n){var r=-1;return e=tn(e.length?e:[Ol],mn(Wo())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(vi(t,function(t,n,i){return{criteria:tn(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=ro(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*("desc"==u?-1:1)}}return t.index-e.index}(t,e,n)})}function bi(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=ti(t,a);n(s,a)&&Ei(o,Ki(a,t),s)}return o}function Si(t,e,n,r){var i=r?hn:un,o=-1,a=e.length,s=t;for(t===e&&(e=ao(e)),n&&(s=tn(t,mn(n)));++o<a;)for(var l=0,u=e[o],h=n?n(u):u;(l=i(s,h,l,r))>-1;)s!==t&&an.call(s,l,1),an.call(t,l,1);return t}function ki(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Ko(i)?an.call(t,i,1):Gi(t,i)}}return t}function Mi(t,e){return t+Hn(Jn()*(e-t+1))}function Ai(t,e){var n="";if(!t||e<1||e>L)return n;do{e%2&&(n+=t),(e=Hn(e/2))&&(t+=t)}while(e);return n}function Ii(t,e){return la(ia(t,e,Ol),t+"")}function Ti(t){return Tr(vl(t))}function Ci(t,e){var n=vl(t);return ca(n,Rr(e,0,n.length))}function Ei(t,e,r,i){if(!Es(t))return t;for(var o=-1,a=(e=Ki(e,t)).length,s=a-1,l=t;null!=l&&++o<a;){var u=pa(e[o]),h=r;if(o!=s){var c=l[u];(h=i?i(c,u,l):n)===n&&(h=Es(c)?c:Ko(e[o+1])?[]:{})}Lr(l,u,h),l=l[u]}return t}var zi=sr?function(t,e){return sr.set(t,e),t}:Ol,Li=Rn?function(t,e){return Rn(t,"toString",{configurable:!0,enumerable:!1,value:El(e),writable:!0})}:Ol;function Oi(t){return ca(vl(t))}function Di(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Qt(i);++r<i;)o[r]=t[r+e];return o}function Pi(t,e){var n;return Hr(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function Fi(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=N){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Rs(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return Ni(t,e,Ol,n)}function Ni(t,e,r,i){e=r(e);for(var o=0,a=null==t?0:t.length,s=e!=e,l=null===e,u=Rs(e),h=e===n;o<a;){var c=Hn((o+a)/2),f=r(t[c]),p=f!==n,d=null===f,g=f==f,v=Rs(f);if(s)var y=i||g;else y=h?g&&(i||p):l?g&&p&&(i||!d):u?g&&p&&!d&&(i||!v):!d&&!v&&(i?f<=e:f<e);y?o=c+1:a=c}return Kn(a,F)}function Ri(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!vs(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function Bi(t){return"number"==typeof t?t:Rs(t)?D:+t}function Wi(t){if("string"==typeof t)return t;if(_s(t))return tn(t,Wi)+"";if(Rs(t))return vr?vr.call(t):"";var e=t+"";return"0"==e&&1/t==-z?"-0":e}function ji(t,e,n){var i=-1,o=Qe,a=t.length,s=!0,l=[],u=l;if(n)s=!1,o=Je;else if(a>=r){var h=e?null:Io(t);if(h)return En(h);s=!1,o=_n,u=new Mr}else u=e?[]:l;t:for(;++i<a;){var c=t[i],f=e?e(c):c;if(c=n||0!==c?c:0,s&&f==f){for(var p=u.length;p--;)if(u[p]===f)continue t;e&&u.push(f),l.push(c)}else o(u,f,n)||(u!==l&&u.push(f),l.push(c))}return l}function Gi(t,e){return null==(t=oa(t,e=Ki(e,t)))||delete t[pa(Aa(e))]}function Hi(t,e,n,r){return Ei(t,e,n(ti(t,e)),r)}function Ui(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Di(t,r?0:o,r?o+1:i):Di(t,r?o+1:0,r?i:o)}function qi(t,e){var n=t;return n instanceof wr&&(n=n.value()),nn(e,function(t,e){return e.func.apply(e.thisArg,en([t],e.args))},n)}function Vi(t,e,n){var r=t.length;if(r<2)return r?ji(t[0]):[];for(var i=-1,o=Qt(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=Gr(o[i]||a,t[s],e,n));return ji($r(o,1),e,n)}function Yi(t,e,r){for(var i=-1,o=t.length,a=e.length,s={};++i<o;){var l=i<a?e[i]:n;r(s,t[i],l)}return s}function $i(t){return Ss(t)?t:[]}function Xi(t){return"function"==typeof t?t:Ol}function Ki(t,e){return _s(t)?t:Qo(t,e)?[t]:fa($s(t))}var Zi=Ii;function Qi(t,e,r){var i=t.length;return r=r===n?i:r,!e&&r>=i?t:Di(t,e,r)}var Ji=Bn||function(t){return Le.clearTimeout(t)};function to(t,e){if(e)return t.slice();var n=t.length,r=Oe?Oe(n):new t.constructor(n);return t.copy(r),r}function eo(t){var e=new t.constructor(t.byteLength);return new ze(e).set(new ze(t)),e}function no(t,e){var n=e?eo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ro(t,e){if(t!==e){var r=t!==n,i=null===t,o=t==t,a=Rs(t),s=e!==n,l=null===e,u=e==e,h=Rs(e);if(!l&&!h&&!a&&t>e||a&&s&&u&&!l&&!h||i&&s&&u||!r&&u||!o)return 1;if(!i&&!a&&!h&&t<e||h&&r&&o&&!i&&!a||l&&r&&o||!s&&o||!u)return-1}return 0}function io(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,l=e.length,u=Xn(o-a,0),h=Qt(l+u),c=!r;++s<l;)h[s]=e[s];for(;++i<a;)(c||i<o)&&(h[n[i]]=t[i]);for(;u--;)h[s++]=t[i++];return h}function oo(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,h=Xn(o-s,0),c=Qt(h+u),f=!r;++i<h;)c[i]=t[i];for(var p=i;++l<u;)c[p+l]=e[l];for(;++a<s;)(f||i<o)&&(c[p+n[a]]=t[i++]);return c}function ao(t,e){var n=-1,r=t.length;for(e||(e=Qt(r));++n<r;)e[n]=t[n];return e}function so(t,e,r,i){var o=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var l=e[a],u=i?i(r[l],t[l],l,r,t):n;u===n&&(u=t[l]),o?Fr(r,l,u):Lr(r,l,u)}return r}function lo(t,e){return function(n,r){var i=_s(n)?Ye:Dr,o=e?e():{};return i(n,t,Wo(r,2),o)}}function uo(t){return Ii(function(e,r){var i=-1,o=r.length,a=o>1?r[o-1]:n,s=o>2?r[2]:n;for(a=t.length>3&&"function"==typeof a?(o--,a):n,s&&Zo(r[0],r[1],s)&&(a=o<3?n:a,o=1),e=re(e);++i<o;){var l=r[i];l&&t(e,l,i,a)}return e})}function ho(t,e){return function(n,r){if(null==n)return n;if(!bs(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=re(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function co(t){return function(e,n,r){for(var i=-1,o=re(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}function fo(t){return function(e){var r=An(e=$s(e))?On(e):n,i=r?r[0]:e.charAt(0),o=r?Qi(r,1).join(""):e.slice(1);return i[t]()+o}}function po(t){return function(e){return nn(Il(xl(e).replace(ye,"")),t,"")}}function go(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=mr(t.prototype),r=t.apply(n,e);return Es(r)?r:n}}function vo(t){return function(e,r,i){var o=re(e);if(!bs(e)){var a=Wo(r,3);e=sl(e),r=function(t){return a(o[t],t,o)}}var s=t(e,r,i);return s>-1?o[a?e[s]:s]:n}}function yo(t){return Do(function(e){var r=e.length,i=r,a=_r.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new ae(o);if(a&&!l&&"wrapper"==Ro(s))var l=new _r([],!0)}for(i=l?i:r;++i<r;){var u=Ro(s=e[i]),h="wrapper"==u?No(s):n;l=h&&Jo(h[0])&&h[1]==(b|m|_|S)&&!h[4].length&&1==h[9]?l[Ro(h[0])].apply(l,h[3]):1==s.length&&Jo(s)?l[u]():l.thru(s)}return function(){var t=arguments,n=t[0];if(l&&1==t.length&&_s(n))return l.plant(n).value();for(var i=0,o=r?e[i].apply(this,t):n;++i<r;)o=e[i].call(this,o);return o}})}function mo(t,e,r,i,o,a,s,l,u,h){var c=e&b,f=e&g,p=e&v,d=e&(m|x),y=e&k,_=p?n:go(t);return function g(){for(var v=arguments.length,m=Qt(v),x=v;x--;)m[x]=arguments[x];if(d)var w=Bo(g),b=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}(m,w);if(i&&(m=io(m,i,o,d)),a&&(m=oo(m,a,s,d)),v-=b,d&&v<h){var S=Cn(m,w);return Mo(t,e,mo,g.placeholder,r,m,S,l,u,h-v)}var k=f?r:this,M=p?k[t]:t;return v=m.length,l?m=function(t,e){for(var r=t.length,i=Kn(e.length,r),o=ao(t);i--;){var a=e[i];t[i]=Ko(a,r)?o[a]:n}return t}(m,l):y&&v>1&&m.reverse(),c&&u<v&&(m.length=u),this&&this!==Le&&this instanceof g&&(M=_||go(M)),M.apply(k,m)}}function xo(t,e){return function(n,r){return function(t,e,n,r){return Zr(t,function(t,i,o){e(r,n(t),i,o)}),r}(n,t,e(r),{})}}function _o(t,e){return function(r,i){var o;if(r===n&&i===n)return e;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=Wi(r),i=Wi(i)):(r=Bi(r),i=Bi(i)),o=t(r,i)}return o}}function wo(t){return Do(function(e){return e=tn(e,mn(Wo())),Ii(function(n){var r=this;return t(e,function(t){return Ve(t,r,n)})})})}function bo(t,e){var r=(e=e===n?" ":Wi(e)).length;if(r<2)return r?Ai(e,t):e;var i=Ai(e,Gn(t/Ln(e)));return An(e)?Qi(On(i),0,t).join(""):i.slice(0,t)}function So(t){return function(e,r,i){return i&&"number"!=typeof i&&Zo(e,r,i)&&(r=i=n),e=Hs(e),r===n?(r=e,e=0):r=Hs(r),function(t,e,n,r){for(var i=-1,o=Xn(Gn((e-t)/(n||1)),0),a=Qt(o);o--;)a[r?o:++i]=t,t+=n;return a}(e,r,i=i===n?e<r?1:-1:Hs(i),t)}}function ko(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=Vs(e),n=Vs(n)),t(e,n)}}function Mo(t,e,r,i,o,a,s,l,u,h){var c=e&m;e|=c?_:w,(e&=~(c?w:_))&y||(e&=~(g|v));var f=[t,e,o,c?a:n,c?s:n,c?n:a,c?n:s,l,u,h],p=r.apply(n,f);return Jo(t)&&aa(p,f),p.placeholder=i,ua(p,t,e)}function Ao(t){var e=ne[t];return function(t,n){if(t=Vs(t),n=null==n?0:Kn(Us(n),292)){var r=($s(t)+"e").split("e");return+((r=($s(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Io=ir&&1/En(new ir([,-0]))[1]==z?function(t){return new ir(t)}:Rl;function To(t){return function(e){var n=Vo(e);return n==$?In(e):n==tt?zn(e):function(t,e){return tn(e,function(e){return[e,t[e]]})}(e,t(e))}}function Co(t,e,r,i,a,s,l,h){var c=e&v;if(!c&&"function"!=typeof t)throw new ae(o);var f=i?i.length:0;if(f||(e&=~(_|w),i=a=n),l=l===n?l:Xn(Us(l),0),h=h===n?h:Us(h),f-=a?a.length:0,e&w){var p=i,d=a;i=a=n}var k=c?n:No(t),M=[t,e,r,i,a,p,d,s,l,h];if(k&&function(t,e){var n=t[1],r=e[1],i=n|r,o=i<(g|v|b),a=r==b&&n==m||r==b&&n==S&&t[7].length<=e[8]||r==(b|S)&&e[7].length<=e[8]&&n==m;if(!o&&!a)return t;r&g&&(t[2]=e[2],i|=n&g?0:y);var s=e[3];if(s){var l=t[3];t[3]=l?io(l,s,e[4]):s,t[4]=l?Cn(t[3],u):e[4]}(s=e[5])&&(l=t[5],t[5]=l?oo(l,s,e[6]):s,t[6]=l?Cn(t[5],u):e[6]),(s=e[7])&&(t[7]=s),r&b&&(t[8]=null==t[8]?e[8]:Kn(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(M,k),t=M[0],e=M[1],r=M[2],i=M[3],a=M[4],!(h=M[9]=M[9]===n?c?0:t.length:Xn(M[9]-f,0))&&e&(m|x)&&(e&=~(m|x)),e&&e!=g)A=e==m||e==x?function(t,e,r){var i=go(t);return function o(){for(var a=arguments.length,s=Qt(a),l=a,u=Bo(o);l--;)s[l]=arguments[l];var h=a<3&&s[0]!==u&&s[a-1]!==u?[]:Cn(s,u);return(a-=h.length)<r?Mo(t,e,mo,o.placeholder,n,s,h,n,n,r-a):Ve(this&&this!==Le&&this instanceof o?i:t,this,s)}}(t,e,h):e!=_&&e!=(g|_)||a.length?mo.apply(n,M):function(t,e,n,r){var i=e&g,o=go(t);return function e(){for(var a=-1,s=arguments.length,l=-1,u=r.length,h=Qt(u+s),c=this&&this!==Le&&this instanceof e?o:t;++l<u;)h[l]=r[l];for(;s--;)h[l++]=arguments[++a];return Ve(c,i?n:this,h)}}(t,e,r,i);else var A=function(t,e,n){var r=e&g,i=go(t);return function e(){return(this&&this!==Le&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,r);return ua((k?zi:aa)(A,M),t,e)}function Eo(t,e,r,i){return t===n||vs(t,ue[r])&&!fe.call(i,r)?e:t}function zo(t,e,r,i,o,a){return Es(t)&&Es(e)&&(a.set(e,t),xi(t,e,n,zo,a),a.delete(e)),t}function Lo(t){return Ds(t)?n:t}function Oo(t,e,r,i,o,a){var s=r&p,l=t.length,u=e.length;if(l!=u&&!(s&&u>l))return!1;var h=a.get(t);if(h&&a.get(e))return h==e;var c=-1,f=!0,g=r&d?new Mr:n;for(a.set(t,e),a.set(e,t);++c<l;){var v=t[c],y=e[c];if(i)var m=s?i(y,v,c,e,t,a):i(v,y,c,t,e,a);if(m!==n){if(m)continue;f=!1;break}if(g){if(!on(e,function(t,e){if(!_n(g,e)&&(v===t||o(v,t,r,i,a)))return g.push(e)})){f=!1;break}}else if(v!==y&&!o(v,y,r,i,a)){f=!1;break}}return a.delete(t),a.delete(e),f}function Do(t){return la(ia(t,n,wa),t+"")}function Po(t){return ei(t,sl,Uo)}function Fo(t){return ei(t,ll,qo)}var No=sr?function(t){return sr.get(t)}:Rl;function Ro(t){for(var e=t.name+"",n=lr[e],r=fe.call(lr,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Bo(t){return(fe.call(yr,"placeholder")?yr:t).placeholder}function Wo(){var t=yr.iteratee||Dl;return t=t===Dl?fi:t,arguments.length?t(arguments[0],arguments[1]):t}function jo(t,e){var n,r,i=t.__data__;return("string"==(r=void 0===(n=e)?"undefined":a(n))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Go(t){for(var e=sl(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,na(i)]}return e}function Ho(t,e){var r=function(t,e){return null==t?n:t[e]}(t,e);return ci(r)?r:n}var Uo=Un?function(t){return null==t?[]:(t=re(t),Ze(Un(t),function(e){return Ne.call(t,e)}))}:ql,qo=Un?function(t){for(var e=[];t;)en(e,Uo(t)),t=De(t);return e}:ql,Vo=ni;function Yo(t,e,n){for(var r=-1,i=(e=Ki(e,t)).length,o=!1;++r<i;){var a=pa(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Cs(i)&&Ko(a,i)&&(_s(t)||xs(t))}function $o(t){return"function"!=typeof t.constructor||ea(t)?{}:mr(De(t))}function Xo(t){return _s(t)||xs(t)||!!(dn&&t&&t[dn])}function Ko(t,e){return!!(e=null==e?L:e)&&("number"==typeof t||Yt.test(t))&&t>-1&&t%1==0&&t<e}function Zo(t,e,n){if(!Es(n))return!1;var r=void 0===e?"undefined":a(e);return!!("number"==r?bs(n)&&Ko(e,n.length):"string"==r&&e in n)&&vs(n[e],t)}function Qo(t,e){if(_s(t))return!1;var n=void 0===t?"undefined":a(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Rs(t))||Tt.test(t)||!It.test(t)||null!=e&&t in re(e)}function Jo(t){var e=Ro(t),n=yr[e];if("function"!=typeof n||!(e in wr.prototype))return!1;if(t===n)return!0;var r=No(n);return!!r&&t===r[0]}(er&&Vo(new er(new ArrayBuffer(1)))!=st||nr&&Vo(new nr)!=$||rr&&"[object Promise]"!=Vo(rr.resolve())||ir&&Vo(new ir)!=tt||or&&Vo(new or)!=it)&&(Vo=function(t){var e=ni(t),r=e==Z?t.constructor:n,i=r?da(r):"";if(i)switch(i){case ur:return st;case hr:return $;case cr:return"[object Promise]";case fr:return tt;case pr:return it}return e});var ta=he?Is:Vl;function ea(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ue)}function na(t){return t==t&&!Es(t)}function ra(t,e){return function(r){return null!=r&&r[t]===e&&(e!==n||t in re(r))}}function ia(t,e,r){return e=Xn(e===n?t.length-1:e,0),function(){for(var n=arguments,i=-1,o=Xn(n.length-e,0),a=Qt(o);++i<o;)a[i]=n[e+i];i=-1;for(var s=Qt(e+1);++i<e;)s[i]=n[i];return s[e]=r(a),Ve(t,this,s)}}function oa(t,e){return e.length<2?t:ti(t,Di(e,0,-1))}var aa=ha(zi),sa=jn||function(t,e){return Le.setTimeout(t,e)},la=ha(Li);function ua(t,e,n){var r=e+"";return la(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ft,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return $e(R,function(n){var r="_."+n[0];e&n[1]&&!Qe(t,r)&&t.push(r)}),t.sort()}(function(t){var e=t.match(Nt);return e?e[1].split(Rt):[]}(r),n)))}function ha(t){var e=0,r=0;return function(){var i=Zn(),o=T-(i-r);if(r=i,o>0){if(++e>=I)return arguments[0]}else e=0;return t.apply(n,arguments)}}function ca(t,e){var r=-1,i=t.length,o=i-1;for(e=e===n?i:e;++r<e;){var a=Mi(r,o),s=t[a];t[a]=t[r],t[r]=s}return t.length=e,t}var fa=function(t){var e=hs(t,function(t){return n.size===l&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return Ct.test(t)&&e.push(""),t.replace(Et,function(t,n,r,i){e.push(r?i.replace(Wt,"$1"):n||t)}),e});function pa(t){if("string"==typeof t||Rs(t))return t;var e=t+"";return"0"==e&&1/t==-z?"-0":e}function da(t){if(null!=t){try{return ce.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ga(t){if(t instanceof wr)return t.clone();var e=new _r(t.__wrapped__,t.__chain__);return e.__actions__=ao(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var va=Ii(function(t,e){return Ss(t)?Gr(t,$r(e,1,Ss,!0)):[]}),ya=Ii(function(t,e){var r=Aa(e);return Ss(r)&&(r=n),Ss(t)?Gr(t,$r(e,1,Ss,!0),Wo(r,2)):[]}),ma=Ii(function(t,e){var r=Aa(e);return Ss(r)&&(r=n),Ss(t)?Gr(t,$r(e,1,Ss,!0),n,r):[]});function xa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Us(n);return i<0&&(i=Xn(r+i,0)),ln(t,Wo(e,3),i)}function _a(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return r!==n&&(o=Us(r),o=r<0?Xn(i+o,0):Kn(o,i-1)),ln(t,Wo(e,3),o,!0)}function wa(t){return null!=t&&t.length?$r(t,1):[]}function ba(t){return t&&t.length?t[0]:n}var Sa=Ii(function(t){var e=tn(t,$i);return e.length&&e[0]===t[0]?ai(e):[]}),ka=Ii(function(t){var e=Aa(t),r=tn(t,$i);return e===Aa(r)?e=n:r.pop(),r.length&&r[0]===t[0]?ai(r,Wo(e,2)):[]}),Ma=Ii(function(t){var e=Aa(t),r=tn(t,$i);return(e="function"==typeof e?e:n)&&r.pop(),r.length&&r[0]===t[0]?ai(r,n,e):[]});function Aa(t){var e=null==t?0:t.length;return e?t[e-1]:n}var Ia=Ii(Ta);function Ta(t,e){return t&&t.length&&e&&e.length?Si(t,e):t}var Ca=Do(function(t,e){var n=null==t?0:t.length,r=Nr(t,e);return ki(t,tn(e,function(t){return Ko(t,n)?+t:t}).sort(ro)),r});function Ea(t){return null==t?t:tr.call(t)}var za=Ii(function(t){return ji($r(t,1,Ss,!0))}),La=Ii(function(t){var e=Aa(t);return Ss(e)&&(e=n),ji($r(t,1,Ss,!0),Wo(e,2))}),Oa=Ii(function(t){var e=Aa(t);return e="function"==typeof e?e:n,ji($r(t,1,Ss,!0),n,e)});function Da(t){if(!t||!t.length)return[];var e=0;return t=Ze(t,function(t){if(Ss(t))return e=Xn(t.length,e),!0}),yn(e,function(e){return tn(t,pn(e))})}function Pa(t,e){if(!t||!t.length)return[];var r=Da(t);return null==e?r:tn(r,function(t){return Ve(e,n,t)})}var Fa=Ii(function(t,e){return Ss(t)?Gr(t,e):[]}),Na=Ii(function(t){return Vi(Ze(t,Ss))}),Ra=Ii(function(t){var e=Aa(t);return Ss(e)&&(e=n),Vi(Ze(t,Ss),Wo(e,2))}),Ba=Ii(function(t){var e=Aa(t);return e="function"==typeof e?e:n,Vi(Ze(t,Ss),n,e)}),Wa=Ii(Da);var ja=Ii(function(t){var e=t.length,r=e>1?t[e-1]:n;return Pa(t,r="function"==typeof r?(t.pop(),r):n)});function Ga(t){var e=yr(t);return e.__chain__=!0,e}function Ha(t,e){return e(t)}var Ua=Do(function(t){var e=t.length,r=e?t[0]:0,i=this.__wrapped__,o=function(e){return Nr(e,t)};return!(e>1||this.__actions__.length)&&i instanceof wr&&Ko(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:Ha,args:[o],thisArg:n}),new _r(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(n),t})):this.thru(o)});var qa=lo(function(t,e,n){fe.call(t,n)?++t[n]:Fr(t,n,1)});var Va=vo(xa),Ya=vo(_a);function $a(t,e){return(_s(t)?$e:Hr)(t,Wo(e,3))}function Xa(t,e){return(_s(t)?Xe:Ur)(t,Wo(e,3))}var Ka=lo(function(t,e,n){fe.call(t,n)?t[n].push(e):Fr(t,n,[e])});var Za=Ii(function(t,e,n){var r=-1,i="function"==typeof e,o=bs(t)?Qt(t.length):[];return Hr(t,function(t){o[++r]=i?Ve(e,t,n):si(t,e,n)}),o}),Qa=lo(function(t,e,n){Fr(t,n,e)});function Ja(t,e){return(_s(t)?tn:vi)(t,Wo(e,3))}var ts=lo(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var es=Ii(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Zo(t,e[0],e[1])?e=[]:n>2&&Zo(e[0],e[1],e[2])&&(e=[e[0]]),wi(t,$r(e,1),[])}),ns=Wn||function(){return Le.Date.now()};function rs(t,e,r){return e=r?n:e,e=t&&null==e?t.length:e,Co(t,b,n,n,n,n,e)}function is(t,e){var r;if("function"!=typeof e)throw new ae(o);return t=Us(t),function(){return--t>0&&(r=e.apply(this,arguments)),t<=1&&(e=n),r}}var os=Ii(function(t,e,n){var r=g;if(n.length){var i=Cn(n,Bo(os));r|=_}return Co(t,r,e,n,i)}),as=Ii(function(t,e,n){var r=g|v;if(n.length){var i=Cn(n,Bo(as));r|=_}return Co(e,r,t,n,i)});function ss(t,e,r){var i,a,s,l,u,h,c=0,f=!1,p=!1,d=!0;if("function"!=typeof t)throw new ae(o);function g(e){var r=i,o=a;return i=a=n,c=e,l=t.apply(o,r)}function v(t){var r=t-h;return h===n||r>=e||r<0||p&&t-c>=s}function y(){var t=ns();if(v(t))return m(t);u=sa(y,function(t){var n=e-(t-h);return p?Kn(n,s-(t-c)):n}(t))}function m(t){return u=n,d&&i?g(t):(i=a=n,l)}function x(){var t=ns(),r=v(t);if(i=arguments,a=this,h=t,r){if(u===n)return function(t){return c=t,u=sa(y,e),f?g(t):l}(h);if(p)return u=sa(y,e),g(h)}return u===n&&(u=sa(y,e)),l}return e=Vs(e)||0,Es(r)&&(f=!!r.leading,s=(p="maxWait"in r)?Xn(Vs(r.maxWait)||0,e):s,d="trailing"in r?!!r.trailing:d),x.cancel=function(){u!==n&&Ji(u),c=0,i=h=a=u=n},x.flush=function(){return u===n?l:m(ns())},x}var ls=Ii(function(t,e){return jr(t,1,e)}),us=Ii(function(t,e,n){return jr(t,Vs(e)||0,n)});function hs(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new ae(o);var n=function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(hs.Cache||kr),n}function cs(t){if("function"!=typeof t)throw new ae(o);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}hs.Cache=kr;var fs=Zi(function(t,e){var n=(e=1==e.length&&_s(e[0])?tn(e[0],mn(Wo())):tn($r(e,1),mn(Wo()))).length;return Ii(function(r){for(var i=-1,o=Kn(r.length,n);++i<o;)r[i]=e[i].call(this,r[i]);return Ve(t,this,r)})}),ps=Ii(function(t,e){var r=Cn(e,Bo(ps));return Co(t,_,n,e,r)}),ds=Ii(function(t,e){var r=Cn(e,Bo(ds));return Co(t,w,n,e,r)}),gs=Do(function(t,e){return Co(t,S,n,n,n,e)});function vs(t,e){return t===e||t!=t&&e!=e}var ys=ko(ri),ms=ko(function(t,e){return t>=e}),xs=li(function(){return arguments}())?li:function(t){return zs(t)&&fe.call(t,"callee")&&!Ne.call(t,"callee")},_s=Qt.isArray,ws=Re?mn(Re):function(t){return zs(t)&&ni(t)==at};function bs(t){return null!=t&&Cs(t.length)&&!Is(t)}function Ss(t){return zs(t)&&bs(t)}var ks=qn||Vl,Ms=Be?mn(Be):function(t){return zs(t)&&ni(t)==H};function As(t){if(!zs(t))return!1;var e=ni(t);return e==q||e==U||"string"==typeof t.message&&"string"==typeof t.name&&!Ds(t)}function Is(t){if(!Es(t))return!1;var e=ni(t);return e==V||e==Y||e==j||e==Q}function Ts(t){return"number"==typeof t&&t==Us(t)}function Cs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=L}function Es(t){var e=void 0===t?"undefined":a(t);return null!=t&&("object"==e||"function"==e)}function zs(t){return null!=t&&"object"==(void 0===t?"undefined":a(t))}var Ls=We?mn(We):function(t){return zs(t)&&Vo(t)==$};function Os(t){return"number"==typeof t||zs(t)&&ni(t)==X}function Ds(t){if(!zs(t)||ni(t)!=Z)return!1;var e=De(t);if(null===e)return!0;var n=fe.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ce.call(n)==ve}var Ps=je?mn(je):function(t){return zs(t)&&ni(t)==J};var Fs=Ge?mn(Ge):function(t){return zs(t)&&Vo(t)==tt};function Ns(t){return"string"==typeof t||!_s(t)&&zs(t)&&ni(t)==et}function Rs(t){return"symbol"==(void 0===t?"undefined":a(t))||zs(t)&&ni(t)==nt}var Bs=He?mn(He):function(t){return zs(t)&&Cs(t.length)&&!!Me[ni(t)]};var Ws=ko(gi),js=ko(function(t,e){return t<=e});function Gs(t){if(!t)return[];if(bs(t))return Ns(t)?On(t):ao(t);if(Fn&&t[Fn])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Fn]());var e=Vo(t);return(e==$?In:e==tt?En:vl)(t)}function Hs(t){return t?(t=Vs(t))===z||t===-z?(t<0?-1:1)*O:t==t?t:0:0===t?t:0}function Us(t){var e=Hs(t),n=e%1;return e==e?n?e-n:e:0}function qs(t){return t?Rr(Us(t),0,P):0}function Vs(t){if("number"==typeof t)return t;if(Rs(t))return D;if(Es(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Es(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ot,"");var n=Ut.test(t);return n||Vt.test(t)?Ce(t.slice(2),n?2:8):Ht.test(t)?D:+t}function Ys(t){return so(t,ll(t))}function $s(t){return null==t?"":Wi(t)}var Xs=uo(function(t,e){if(ea(e)||bs(e))so(e,sl(e),t);else for(var n in e)fe.call(e,n)&&Lr(t,n,e[n])}),Ks=uo(function(t,e){so(e,ll(e),t)}),Zs=uo(function(t,e,n,r){so(e,ll(e),t,r)}),Qs=uo(function(t,e,n,r){so(e,sl(e),t,r)}),Js=Do(Nr);var tl=Ii(function(t){return t.push(n,Eo),Ve(Zs,n,t)}),el=Ii(function(t){return t.push(n,zo),Ve(hl,n,t)});function nl(t,e,r){var i=null==t?n:ti(t,e);return i===n?r:i}function rl(t,e){return null!=t&&Yo(t,e,oi)}var il=xo(function(t,e,n){t[e]=n},El(Ol)),ol=xo(function(t,e,n){fe.call(t,e)?t[e].push(n):t[e]=[n]},Wo),al=Ii(si);function sl(t){return bs(t)?Ir(t):pi(t)}function ll(t){return bs(t)?Ir(t,!0):di(t)}var ul=uo(function(t,e,n){xi(t,e,n)}),hl=uo(function(t,e,n,r){xi(t,e,n,r)}),cl=Do(function(t,e){var n={};if(null==t)return n;var r=!1;e=tn(e,function(e){return e=Ki(e,t),r||(r=e.length>1),e}),so(t,Fo(t),n),r&&(n=Br(n,h|c|f,Lo));for(var i=e.length;i--;)Gi(n,e[i]);return n});var fl=Do(function(t,e){return null==t?{}:function(t,e){return bi(t,e,function(e,n){return rl(t,n)})}(t,e)});function pl(t,e){if(null==t)return{};var n=tn(Fo(t),function(t){return[t]});return e=Wo(e),bi(t,n,function(t,n){return e(t,n[0])})}var dl=To(sl),gl=To(ll);function vl(t){return null==t?[]:xn(t,sl(t))}var yl=po(function(t,e,n){return e=e.toLowerCase(),t+(n?ml(e):e)});function ml(t){return Al($s(t).toLowerCase())}function xl(t){return(t=$s(t))&&t.replace($t,Sn).replace(me,"")}var _l=po(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),wl=po(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),bl=fo("toLowerCase");var Sl=po(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var kl=po(function(t,e,n){return t+(n?" ":"")+Al(e)});var Ml=po(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Al=fo("toUpperCase");function Il(t,e,r){return t=$s(t),(e=r?n:e)===n?function(t){return be.test(t)}(t)?function(t){return t.match(_e)||[]}(t):function(t){return t.match(Bt)||[]}(t):t.match(e)||[]}var Tl=Ii(function(t,e){try{return Ve(t,n,e)}catch(t){return As(t)?t:new te(t)}}),Cl=Do(function(t,e){return $e(e,function(e){e=pa(e),Fr(t,e,os(t[e],t))}),t});function El(t){return function(){return t}}var zl=yo(),Ll=yo(!0);function Ol(t){return t}function Dl(t){return fi("function"==typeof t?t:Br(t,h))}var Pl=Ii(function(t,e){return function(n){return si(n,t,e)}}),Fl=Ii(function(t,e){return function(n){return si(t,n,e)}});function Nl(t,e,n){var r=sl(e),i=Jr(e,r);null!=n||Es(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=Jr(e,sl(e)));var o=!(Es(n)&&"chain"in n&&!n.chain),a=Is(t);return $e(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=ao(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,en([this.value()],arguments))})}),t}function Rl(){}var Bl=wo(tn),Wl=wo(Ke),jl=wo(on);function Gl(t){return Qo(t)?pn(pa(t)):function(t){return function(e){return ti(e,t)}}(t)}var Hl=So(),Ul=So(!0);function ql(){return[]}function Vl(){return!1}var Yl=_o(function(t,e){return t+e},0),$l=Ao("ceil"),Xl=_o(function(t,e){return t/e},1),Kl=Ao("floor");var Zl,Ql=_o(function(t,e){return t*e},1),Jl=Ao("round"),tu=_o(function(t,e){return t-e},0);return yr.after=function(t,e){if("function"!=typeof e)throw new ae(o);return t=Us(t),function(){if(--t<1)return e.apply(this,arguments)}},yr.ary=rs,yr.assign=Xs,yr.assignIn=Ks,yr.assignInWith=Zs,yr.assignWith=Qs,yr.at=Js,yr.before=is,yr.bind=os,yr.bindAll=Cl,yr.bindKey=as,yr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return _s(t)?t:[t]},yr.chain=Ga,yr.chunk=function(t,e,r){e=(r?Zo(t,e,r):e===n)?1:Xn(Us(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,s=Qt(Gn(i/e));o<i;)s[a++]=Di(t,o,o+=e);return s},yr.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},yr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=Qt(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return en(_s(n)?ao(n):[n],$r(e,1))},yr.cond=function(t){var e=null==t?0:t.length,n=Wo();return t=e?tn(t,function(t){if("function"!=typeof t[1])throw new ae(o);return[n(t[0]),t[1]]}):[],Ii(function(n){for(var r=-1;++r<e;){var i=t[r];if(Ve(i[0],this,n))return Ve(i[1],this,n)}})},yr.conforms=function(t){return function(t){var e=sl(t);return function(n){return Wr(n,t,e)}}(Br(t,h))},yr.constant=El,yr.countBy=qa,yr.create=function(t,e){var n=mr(t);return null==e?n:Pr(n,e)},yr.curry=function t(e,r,i){var o=Co(e,m,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},yr.curryRight=function t(e,r,i){var o=Co(e,x,n,n,n,n,n,r=i?n:r);return o.placeholder=t.placeholder,o},yr.debounce=ss,yr.defaults=tl,yr.defaultsDeep=el,yr.defer=ls,yr.delay=us,yr.difference=va,yr.differenceBy=ya,yr.differenceWith=ma,yr.drop=function(t,e,r){var i=null==t?0:t.length;return i?Di(t,(e=r||e===n?1:Us(e))<0?0:e,i):[]},yr.dropRight=function(t,e,r){var i=null==t?0:t.length;return i?Di(t,0,(e=i-(e=r||e===n?1:Us(e)))<0?0:e):[]},yr.dropRightWhile=function(t,e){return t&&t.length?Ui(t,Wo(e,3),!0,!0):[]},yr.dropWhile=function(t,e){return t&&t.length?Ui(t,Wo(e,3),!0):[]},yr.fill=function(t,e,r,i){var o=null==t?0:t.length;return o?(r&&"number"!=typeof r&&Zo(t,e,r)&&(r=0,i=o),function(t,e,r,i){var o=t.length;for((r=Us(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:Us(i))<0&&(i+=o),i=r>i?0:qs(i);r<i;)t[r++]=e;return t}(t,e,r,i)):[]},yr.filter=function(t,e){return(_s(t)?Ze:Yr)(t,Wo(e,3))},yr.flatMap=function(t,e){return $r(Ja(t,e),1)},yr.flatMapDeep=function(t,e){return $r(Ja(t,e),z)},yr.flatMapDepth=function(t,e,r){return r=r===n?1:Us(r),$r(Ja(t,e),r)},yr.flatten=wa,yr.flattenDeep=function(t){return null!=t&&t.length?$r(t,z):[]},yr.flattenDepth=function(t,e){return null!=t&&t.length?$r(t,e=e===n?1:Us(e)):[]},yr.flip=function(t){return Co(t,k)},yr.flow=zl,yr.flowRight=Ll,yr.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},yr.functions=function(t){return null==t?[]:Jr(t,sl(t))},yr.functionsIn=function(t){return null==t?[]:Jr(t,ll(t))},yr.groupBy=Ka,yr.initial=function(t){return null!=t&&t.length?Di(t,0,-1):[]},yr.intersection=Sa,yr.intersectionBy=ka,yr.intersectionWith=Ma,yr.invert=il,yr.invertBy=ol,yr.invokeMap=Za,yr.iteratee=Dl,yr.keyBy=Qa,yr.keys=sl,yr.keysIn=ll,yr.map=Ja,yr.mapKeys=function(t,e){var n={};return e=Wo(e,3),Zr(t,function(t,r,i){Fr(n,e(t,r,i),t)}),n},yr.mapValues=function(t,e){var n={};return e=Wo(e,3),Zr(t,function(t,r,i){Fr(n,r,e(t,r,i))}),n},yr.matches=function(t){return yi(Br(t,h))},yr.matchesProperty=function(t,e){return mi(t,Br(e,h))},yr.memoize=hs,yr.merge=ul,yr.mergeWith=hl,yr.method=Pl,yr.methodOf=Fl,yr.mixin=Nl,yr.negate=cs,yr.nthArg=function(t){return t=Us(t),Ii(function(e){return _i(e,t)})},yr.omit=cl,yr.omitBy=function(t,e){return pl(t,cs(Wo(e)))},yr.once=function(t){return is(2,t)},yr.orderBy=function(t,e,r,i){return null==t?[]:(_s(e)||(e=null==e?[]:[e]),_s(r=i?n:r)||(r=null==r?[]:[r]),wi(t,e,r))},yr.over=Bl,yr.overArgs=fs,yr.overEvery=Wl,yr.overSome=jl,yr.partial=ps,yr.partialRight=ds,yr.partition=ts,yr.pick=fl,yr.pickBy=pl,yr.property=Gl,yr.propertyOf=function(t){return function(e){return null==t?n:ti(t,e)}},yr.pull=Ia,yr.pullAll=Ta,yr.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Si(t,e,Wo(n,2)):t},yr.pullAllWith=function(t,e,r){return t&&t.length&&e&&e.length?Si(t,e,n,r):t},yr.pullAt=Ca,yr.range=Hl,yr.rangeRight=Ul,yr.rearg=gs,yr.reject=function(t,e){return(_s(t)?Ze:Yr)(t,cs(Wo(e,3)))},yr.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=Wo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return ki(t,i),n},yr.rest=function(t,e){if("function"!=typeof t)throw new ae(o);return Ii(t,e=e===n?e:Us(e))},yr.reverse=Ea,yr.sampleSize=function(t,e,r){return e=(r?Zo(t,e,r):e===n)?1:Us(e),(_s(t)?Cr:Ci)(t,e)},yr.set=function(t,e,n){return null==t?t:Ei(t,e,n)},yr.setWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:Ei(t,e,r,i)},yr.shuffle=function(t){return(_s(t)?Er:Oi)(t)},yr.slice=function(t,e,r){var i=null==t?0:t.length;return i?(r&&"number"!=typeof r&&Zo(t,e,r)?(e=0,r=i):(e=null==e?0:Us(e),r=r===n?i:Us(r)),Di(t,e,r)):[]},yr.sortBy=es,yr.sortedUniq=function(t){return t&&t.length?Ri(t):[]},yr.sortedUniqBy=function(t,e){return t&&t.length?Ri(t,Wo(e,2)):[]},yr.split=function(t,e,r){return r&&"number"!=typeof r&&Zo(t,e,r)&&(e=r=n),(r=r===n?P:r>>>0)?(t=$s(t))&&("string"==typeof e||null!=e&&!Ps(e))&&!(e=Wi(e))&&An(t)?Qi(On(t),0,r):t.split(e,r):[]},yr.spread=function(t,e){if("function"!=typeof t)throw new ae(o);return e=null==e?0:Xn(Us(e),0),Ii(function(n){var r=n[e],i=Qi(n,0,e);return r&&en(i,r),Ve(t,this,i)})},yr.tail=function(t){var e=null==t?0:t.length;return e?Di(t,1,e):[]},yr.take=function(t,e,r){return t&&t.length?Di(t,0,(e=r||e===n?1:Us(e))<0?0:e):[]},yr.takeRight=function(t,e,r){var i=null==t?0:t.length;return i?Di(t,(e=i-(e=r||e===n?1:Us(e)))<0?0:e,i):[]},yr.takeRightWhile=function(t,e){return t&&t.length?Ui(t,Wo(e,3),!1,!0):[]},yr.takeWhile=function(t,e){return t&&t.length?Ui(t,Wo(e,3)):[]},yr.tap=function(t,e){return e(t),t},yr.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new ae(o);return Es(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),ss(t,e,{leading:r,maxWait:e,trailing:i})},yr.thru=Ha,yr.toArray=Gs,yr.toPairs=dl,yr.toPairsIn=gl,yr.toPath=function(t){return _s(t)?tn(t,pa):Rs(t)?[t]:ao(fa($s(t)))},yr.toPlainObject=Ys,yr.transform=function(t,e,n){var r=_s(t),i=r||ks(t)||Bs(t);if(e=Wo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:Es(t)&&Is(o)?mr(De(t)):{}}return(i?$e:Zr)(t,function(t,r,i){return e(n,t,r,i)}),n},yr.unary=function(t){return rs(t,1)},yr.union=za,yr.unionBy=La,yr.unionWith=Oa,yr.uniq=function(t){return t&&t.length?ji(t):[]},yr.uniqBy=function(t,e){return t&&t.length?ji(t,Wo(e,2)):[]},yr.uniqWith=function(t,e){return e="function"==typeof e?e:n,t&&t.length?ji(t,n,e):[]},yr.unset=function(t,e){return null==t||Gi(t,e)},yr.unzip=Da,yr.unzipWith=Pa,yr.update=function(t,e,n){return null==t?t:Hi(t,e,Xi(n))},yr.updateWith=function(t,e,r,i){return i="function"==typeof i?i:n,null==t?t:Hi(t,e,Xi(r),i)},yr.values=vl,yr.valuesIn=function(t){return null==t?[]:xn(t,ll(t))},yr.without=Fa,yr.words=Il,yr.wrap=function(t,e){return ps(Xi(e),t)},yr.xor=Na,yr.xorBy=Ra,yr.xorWith=Ba,yr.zip=Wa,yr.zipObject=function(t,e){return Yi(t||[],e||[],Lr)},yr.zipObjectDeep=function(t,e){return Yi(t||[],e||[],Ei)},yr.zipWith=ja,yr.entries=dl,yr.entriesIn=gl,yr.extend=Ks,yr.extendWith=Zs,Nl(yr,yr),yr.add=Yl,yr.attempt=Tl,yr.camelCase=yl,yr.capitalize=ml,yr.ceil=$l,yr.clamp=function(t,e,r){return r===n&&(r=e,e=n),r!==n&&(r=(r=Vs(r))==r?r:0),e!==n&&(e=(e=Vs(e))==e?e:0),Rr(Vs(t),e,r)},yr.clone=function(t){return Br(t,f)},yr.cloneDeep=function(t){return Br(t,h|f)},yr.cloneDeepWith=function(t,e){return Br(t,h|f,e="function"==typeof e?e:n)},yr.cloneWith=function(t,e){return Br(t,f,e="function"==typeof e?e:n)},yr.conformsTo=function(t,e){return null==e||Wr(t,e,sl(e))},yr.deburr=xl,yr.defaultTo=function(t,e){return null==t||t!=t?e:t},yr.divide=Xl,yr.endsWith=function(t,e,r){t=$s(t),e=Wi(e);var i=t.length,o=r=r===n?i:Rr(Us(r),0,i);return(r-=e.length)>=0&&t.slice(r,o)==e},yr.eq=vs,yr.escape=function(t){return(t=$s(t))&&St.test(t)?t.replace(wt,kn):t},yr.escapeRegExp=function(t){return(t=$s(t))&&Lt.test(t)?t.replace(zt,"\\$&"):t},yr.every=function(t,e,r){var i=_s(t)?Ke:qr;return r&&Zo(t,e,r)&&(e=n),i(t,Wo(e,3))},yr.find=Va,yr.findIndex=xa,yr.findKey=function(t,e){return sn(t,Wo(e,3),Zr)},yr.findLast=Ya,yr.findLastIndex=_a,yr.findLastKey=function(t,e){return sn(t,Wo(e,3),Qr)},yr.floor=Kl,yr.forEach=$a,yr.forEachRight=Xa,yr.forIn=function(t,e){return null==t?t:Xr(t,Wo(e,3),ll)},yr.forInRight=function(t,e){return null==t?t:Kr(t,Wo(e,3),ll)},yr.forOwn=function(t,e){return t&&Zr(t,Wo(e,3))},yr.forOwnRight=function(t,e){return t&&Qr(t,Wo(e,3))},yr.get=nl,yr.gt=ys,yr.gte=ms,yr.has=function(t,e){return null!=t&&Yo(t,e,ii)},yr.hasIn=rl,yr.head=ba,yr.identity=Ol,yr.includes=function(t,e,n,r){t=bs(t)?t:vl(t),n=n&&!r?Us(n):0;var i=t.length;return n<0&&(n=Xn(i+n,0)),Ns(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&un(t,e,n)>-1},yr.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:Us(n);return i<0&&(i=Xn(r+i,0)),un(t,e,i)},yr.inRange=function(t,e,r){return e=Hs(e),r===n?(r=e,e=0):r=Hs(r),function(t,e,n){return t>=Kn(e,n)&&t<Xn(e,n)}(t=Vs(t),e,r)},yr.invoke=al,yr.isArguments=xs,yr.isArray=_s,yr.isArrayBuffer=ws,yr.isArrayLike=bs,yr.isArrayLikeObject=Ss,yr.isBoolean=function(t){return!0===t||!1===t||zs(t)&&ni(t)==G},yr.isBuffer=ks,yr.isDate=Ms,yr.isElement=function(t){return zs(t)&&1===t.nodeType&&!Ds(t)},yr.isEmpty=function(t){if(null==t)return!0;if(bs(t)&&(_s(t)||"string"==typeof t||"function"==typeof t.splice||ks(t)||Bs(t)||xs(t)))return!t.length;var e=Vo(t);if(e==$||e==tt)return!t.size;if(ea(t))return!pi(t).length;for(var n in t)if(fe.call(t,n))return!1;return!0},yr.isEqual=function(t,e){return ui(t,e)},yr.isEqualWith=function(t,e,r){var i=(r="function"==typeof r?r:n)?r(t,e):n;return i===n?ui(t,e,n,r):!!i},yr.isError=As,yr.isFinite=function(t){return"number"==typeof t&&Vn(t)},yr.isFunction=Is,yr.isInteger=Ts,yr.isLength=Cs,yr.isMap=Ls,yr.isMatch=function(t,e){return t===e||hi(t,e,Go(e))},yr.isMatchWith=function(t,e,r){return r="function"==typeof r?r:n,hi(t,e,Go(e),r)},yr.isNaN=function(t){return Os(t)&&t!=+t},yr.isNative=function(t){if(ta(t))throw new te(i);return ci(t)},yr.isNil=function(t){return null==t},yr.isNull=function(t){return null===t},yr.isNumber=Os,yr.isObject=Es,yr.isObjectLike=zs,yr.isPlainObject=Ds,yr.isRegExp=Ps,yr.isSafeInteger=function(t){return Ts(t)&&t>=-L&&t<=L},yr.isSet=Fs,yr.isString=Ns,yr.isSymbol=Rs,yr.isTypedArray=Bs,yr.isUndefined=function(t){return t===n},yr.isWeakMap=function(t){return zs(t)&&Vo(t)==it},yr.isWeakSet=function(t){return zs(t)&&ni(t)==ot},yr.join=function(t,e){return null==t?"":Yn.call(t,e)},yr.kebabCase=_l,yr.last=Aa,yr.lastIndexOf=function(t,e,r){var i=null==t?0:t.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=Us(r))<0?Xn(i+o,0):Kn(o,i-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,o):ln(t,cn,o,!0)},yr.lowerCase=wl,yr.lowerFirst=bl,yr.lt=Ws,yr.lte=js,yr.max=function(t){return t&&t.length?Vr(t,Ol,ri):n},yr.maxBy=function(t,e){return t&&t.length?Vr(t,Wo(e,2),ri):n},yr.mean=function(t){return fn(t,Ol)},yr.meanBy=function(t,e){return fn(t,Wo(e,2))},yr.min=function(t){return t&&t.length?Vr(t,Ol,gi):n},yr.minBy=function(t,e){return t&&t.length?Vr(t,Wo(e,2),gi):n},yr.stubArray=ql,yr.stubFalse=Vl,yr.stubObject=function(){return{}},yr.stubString=function(){return""},yr.stubTrue=function(){return!0},yr.multiply=Ql,yr.nth=function(t,e){return t&&t.length?_i(t,Us(e)):n},yr.noConflict=function(){return Le._===this&&(Le._=xe),this},yr.noop=Rl,yr.now=ns,yr.pad=function(t,e,n){t=$s(t);var r=(e=Us(e))?Ln(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return bo(Hn(i),n)+t+bo(Gn(i),n)},yr.padEnd=function(t,e,n){t=$s(t);var r=(e=Us(e))?Ln(t):0;return e&&r<e?t+bo(e-r,n):t},yr.padStart=function(t,e,n){t=$s(t);var r=(e=Us(e))?Ln(t):0;return e&&r<e?bo(e-r,n)+t:t},yr.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),Qn($s(t).replace(Dt,""),e||0)},yr.random=function(t,e,r){if(r&&"boolean"!=typeof r&&Zo(t,e,r)&&(e=r=n),r===n&&("boolean"==typeof e?(r=e,e=n):"boolean"==typeof t&&(r=t,t=n)),t===n&&e===n?(t=0,e=1):(t=Hs(t),e===n?(e=t,t=0):e=Hs(e)),t>e){var i=t;t=e,e=i}if(r||t%1||e%1){var o=Jn();return Kn(t+o*(e-t+Te("1e-"+((o+"").length-1))),e)}return Mi(t,e)},yr.reduce=function(t,e,n){var r=_s(t)?nn:gn,i=arguments.length<3;return r(t,Wo(e,4),n,i,Hr)},yr.reduceRight=function(t,e,n){var r=_s(t)?rn:gn,i=arguments.length<3;return r(t,Wo(e,4),n,i,Ur)},yr.repeat=function(t,e,r){return e=(r?Zo(t,e,r):e===n)?1:Us(e),Ai($s(t),e)},yr.replace=function(){var t=arguments,e=$s(t[0]);return t.length<3?e:e.replace(t[1],t[2])},yr.result=function(t,e,r){var i=-1,o=(e=Ki(e,t)).length;for(o||(o=1,t=n);++i<o;){var a=null==t?n:t[pa(e[i])];a===n&&(i=o,a=r),t=Is(a)?a.call(t):a}return t},yr.round=Jl,yr.runInContext=t,yr.sample=function(t){return(_s(t)?Tr:Ti)(t)},yr.size=function(t){if(null==t)return 0;if(bs(t))return Ns(t)?Ln(t):t.length;var e=Vo(t);return e==$||e==tt?t.size:pi(t).length},yr.snakeCase=Sl,yr.some=function(t,e,r){var i=_s(t)?on:Pi;return r&&Zo(t,e,r)&&(e=n),i(t,Wo(e,3))},yr.sortedIndex=function(t,e){return Fi(t,e)},yr.sortedIndexBy=function(t,e,n){return Ni(t,e,Wo(n,2))},yr.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=Fi(t,e);if(r<n&&vs(t[r],e))return r}return-1},yr.sortedLastIndex=function(t,e){return Fi(t,e,!0)},yr.sortedLastIndexBy=function(t,e,n){return Ni(t,e,Wo(n,2),!0)},yr.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=Fi(t,e,!0)-1;if(vs(t[n],e))return n}return-1},yr.startCase=kl,yr.startsWith=function(t,e,n){return t=$s(t),n=null==n?0:Rr(Us(n),0,t.length),e=Wi(e),t.slice(n,n+e.length)==e},yr.subtract=tu,yr.sum=function(t){return t&&t.length?vn(t,Ol):0},yr.sumBy=function(t,e){return t&&t.length?vn(t,Wo(e,2)):0},yr.template=function(t,e,r){var i=yr.templateSettings;r&&Zo(t,e,r)&&(e=n),t=$s(t),e=Zs({},e,i,Eo);var o,a,s=Zs({},e.imports,i.imports,Eo),l=sl(s),u=xn(s,l),h=0,c=e.interpolate||Xt,f="__p += '",p=ie((e.escape||Xt).source+"|"+c.source+"|"+(c===At?jt:Xt).source+"|"+(e.evaluate||Xt).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++ke+"]")+"\n";t.replace(p,function(e,n,r,i,s,l){return r||(r=i),f+=t.slice(h,l).replace(Kt,Mn),n&&(o=!0,f+="' +\n__e("+n+") +\n'"),s&&(a=!0,f+="';\n"+s+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),h=l+e.length,e}),f+="';\n";var g=e.variable;g||(f="with (obj) {\n"+f+"\n}\n"),f=(a?f.replace(yt,""):f).replace(mt,"$1").replace(xt,"$1;"),f="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var v=Tl(function(){return ee(l,d+"return "+f).apply(n,u)});if(v.source=f,As(v))throw v;return v},yr.times=function(t,e){if((t=Us(t))<1||t>L)return[];var n=P,r=Kn(t,P);e=Wo(e),t-=P;for(var i=yn(r,e);++n<t;)e(n);return i},yr.toFinite=Hs,yr.toInteger=Us,yr.toLength=qs,yr.toLower=function(t){return $s(t).toLowerCase()},yr.toNumber=Vs,yr.toSafeInteger=function(t){return t?Rr(Us(t),-L,L):0===t?t:0},yr.toString=$s,yr.toUpper=function(t){return $s(t).toUpperCase()},yr.trim=function(t,e,r){if((t=$s(t))&&(r||e===n))return t.replace(Ot,"");if(!t||!(e=Wi(e)))return t;var i=On(t),o=On(e);return Qi(i,wn(i,o),bn(i,o)+1).join("")},yr.trimEnd=function(t,e,r){if((t=$s(t))&&(r||e===n))return t.replace(Pt,"");if(!t||!(e=Wi(e)))return t;var i=On(t);return Qi(i,0,bn(i,On(e))+1).join("")},yr.trimStart=function(t,e,r){if((t=$s(t))&&(r||e===n))return t.replace(Dt,"");if(!t||!(e=Wi(e)))return t;var i=On(t);return Qi(i,wn(i,On(e))).join("")},yr.truncate=function(t,e){var r=M,i=A;if(Es(e)){var o="separator"in e?e.separator:o;r="length"in e?Us(e.length):r,i="omission"in e?Wi(e.omission):i}var a=(t=$s(t)).length;if(An(t)){var s=On(t);a=s.length}if(r>=a)return t;var l=r-Ln(i);if(l<1)return i;var u=s?Qi(s,0,l).join(""):t.slice(0,l);if(o===n)return u+i;if(s&&(l+=u.length-l),Ps(o)){if(t.slice(l).search(o)){var h,c=u;for(o.global||(o=ie(o.source,$s(Gt.exec(o))+"g")),o.lastIndex=0;h=o.exec(c);)var f=h.index;u=u.slice(0,f===n?l:f)}}else if(t.indexOf(Wi(o),l)!=l){var p=u.lastIndexOf(o);p>-1&&(u=u.slice(0,p))}return u+i},yr.unescape=function(t){return(t=$s(t))&&bt.test(t)?t.replace(_t,Dn):t},yr.uniqueId=function(t){var e=++pe;return $s(t)+e},yr.upperCase=Ml,yr.upperFirst=Al,yr.each=$a,yr.eachRight=Xa,yr.first=ba,Nl(yr,(Zl={},Zr(yr,function(t,e){fe.call(yr.prototype,e)||(Zl[e]=t)}),Zl),{chain:!1}),yr.VERSION="4.17.4",$e(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){yr[t].placeholder=yr}),$e(["drop","take"],function(t,e){wr.prototype[t]=function(r){r=r===n?1:Xn(Us(r),0);var i=this.__filtered__&&!e?new wr(this):this.clone();return i.__filtered__?i.__takeCount__=Kn(r,i.__takeCount__):i.__views__.push({size:Kn(r,P),type:t+(i.__dir__<0?"Right":"")}),i},wr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),$e(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==C||3==n;wr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Wo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),$e(["head","last"],function(t,e){var n="take"+(e?"Right":"");wr.prototype[t]=function(){return this[n](1).value()[0]}}),$e(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");wr.prototype[t]=function(){return this.__filtered__?new wr(this):this[n](1)}}),wr.prototype.compact=function(){return this.filter(Ol)},wr.prototype.find=function(t){return this.filter(t).head()},wr.prototype.findLast=function(t){return this.reverse().find(t)},wr.prototype.invokeMap=Ii(function(t,e){return"function"==typeof t?new wr(this):this.map(function(n){return si(n,t,e)})}),wr.prototype.reject=function(t){return this.filter(cs(Wo(t)))},wr.prototype.slice=function(t,e){t=Us(t);var r=this;return r.__filtered__&&(t>0||e<0)?new wr(r):(t<0?r=r.takeRight(-t):t&&(r=r.drop(t)),e!==n&&(r=(e=Us(e))<0?r.dropRight(-e):r.take(e-t)),r)},wr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},wr.prototype.toArray=function(){return this.take(P)},Zr(wr.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=yr[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(yr.prototype[e]=function(){var e=this.__wrapped__,s=i?[1]:arguments,l=e instanceof wr,u=s[0],h=l||_s(e),c=function(t){var e=o.apply(yr,en([t],s));return i&&f?e[0]:e};h&&r&&"function"==typeof u&&1!=u.length&&(l=h=!1);var f=this.__chain__,p=!!this.__actions__.length,d=a&&!f,g=l&&!p;if(!a&&h){e=g?e:new wr(this);var v=t.apply(e,s);return v.__actions__.push({func:Ha,args:[c],thisArg:n}),new _r(v,f)}return d&&g?t.apply(this,s):(v=this.thru(c),d?i?v.value()[0]:v.value():v)})}),$e(["pop","push","shift","sort","splice","unshift"],function(t){var e=se[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);yr.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(_s(i)?i:[],t)}return this[n](function(n){return e.apply(_s(n)?n:[],t)})}}),Zr(wr.prototype,function(t,e){var n=yr[e];if(n){var r=n.name+"";(lr[r]||(lr[r]=[])).push({name:e,func:n})}}),lr[mo(n,v).name]=[{name:"wrapper",func:n}],wr.prototype.clone=function(){var t=new wr(this.__wrapped__);return t.__actions__=ao(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ao(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ao(this.__views__),t},wr.prototype.reverse=function(){if(this.__filtered__){var t=new wr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},wr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=_s(t),r=e<0,i=n?t.length:0,o=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Kn(e,t+a);break;case"takeRight":t=Xn(t,e-a)}}return{start:t,end:e}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,u=r?s:a-1,h=this.__iteratees__,c=h.length,f=0,p=Kn(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return qi(t,this.__actions__);var d=[];t:for(;l--&&f<p;){for(var g=-1,v=t[u+=e];++g<c;){var y=h[g],m=y.iteratee,x=y.type,_=m(v);if(x==E)v=_;else if(!_){if(x==C)continue t;break t}}d[f++]=v}return d},yr.prototype.at=Ua,yr.prototype.chain=function(){return Ga(this)},yr.prototype.commit=function(){return new _r(this.value(),this.__chain__)},yr.prototype.next=function(){this.__values__===n&&(this.__values__=Gs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?n:this.__values__[this.__index__++]}},yr.prototype.plant=function(t){for(var e,r=this;r instanceof xr;){var i=ga(r);i.__index__=0,i.__values__=n,e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e},yr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof wr){var e=t;return this.__actions__.length&&(e=new wr(this)),(e=e.reverse()).__actions__.push({func:Ha,args:[Ea],thisArg:n}),new _r(e,this.__chain__)}return this.thru(Ea)},yr.prototype.toJSON=yr.prototype.valueOf=yr.prototype.value=function(){return qi(this.__wrapped__,this.__actions__)},yr.prototype.first=yr.prototype.head,Fn&&(yr.prototype[Fn]=function(){return this}),yr}();"function"==typeof n&&"object"==a(n.amd)&&n.amd?(Le._=Pn,n(function(){return Pn})):De?((De.exports=Pn)._=Pn,Oe._=Pn):Le._=Pn}).call(KS)});try{ZS=QS}catch(t){}ZS||(ZS=window._);var JS=ZS,tk=ik,ek="\0",nk="\0",rk="";function ik(t){this._isDirected=!JS.has(t,"directed")||t.directed,this._isMultigraph=!!JS.has(t,"multigraph")&&t.multigraph,this._isCompound=!!JS.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=JS.constant(void 0),this._defaultEdgeLabelFn=JS.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[nk]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function ok(t,e){t[e]?t[e]++:t[e]=1}function ak(t,e){--t[e]||delete t[e]}function sk(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}return i+rk+o+rk+(JS.isUndefined(r)?ek:r)}function lk(t,e){return sk(t,e.v,e.w,e.name)}ik.prototype._nodeCount=0,ik.prototype._edgeCount=0,ik.prototype.isDirected=function(){return this._isDirected},ik.prototype.isMultigraph=function(){return this._isMultigraph},ik.prototype.isCompound=function(){return this._isCompound},ik.prototype.setGraph=function(t){return this._label=t,this},ik.prototype.graph=function(){return this._label},ik.prototype.setDefaultNodeLabel=function(t){return JS.isFunction(t)||(t=JS.constant(t)),this._defaultNodeLabelFn=t,this},ik.prototype.nodeCount=function(){return this._nodeCount},ik.prototype.nodes=function(){return JS.keys(this._nodes)},ik.prototype.sources=function(){var t=this;return JS.filter(this.nodes(),function(e){return JS.isEmpty(t._in[e])})},ik.prototype.sinks=function(){var t=this;return JS.filter(this.nodes(),function(e){return JS.isEmpty(t._out[e])})},ik.prototype.setNodes=function(t,e){var n=arguments,r=this;return JS.each(t,function(t){n.length>1?r.setNode(t,e):r.setNode(t)}),this},ik.prototype.setNode=function(t,e){return JS.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=nk,this._children[t]={},this._children[nk][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},ik.prototype.node=function(t){return this._nodes[t]},ik.prototype.hasNode=function(t){return JS.has(this._nodes,t)},ik.prototype.removeNode=function(t){var e=this;if(JS.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],JS.each(this.children(t),function(t){e.setParent(t)}),delete this._children[t]),JS.each(JS.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],JS.each(JS.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},ik.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(JS.isUndefined(e))e=nk;else{for(var n=e+="";!JS.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},ik.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},ik.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==nk)return e}},ik.prototype.children=function(t){if(JS.isUndefined(t)&&(t=nk),this._isCompound){var e=this._children[t];if(e)return JS.keys(e)}else{if(t===nk)return this.nodes();if(this.hasNode(t))return[]}},ik.prototype.predecessors=function(t){var e=this._preds[t];if(e)return JS.keys(e)},ik.prototype.successors=function(t){var e=this._sucs[t];if(e)return JS.keys(e)},ik.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return JS.union(e,this.successors(t))},ik.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},ik.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;JS.each(this._nodes,function(n,r){t(r)&&e.setNode(r,n)}),JS.each(this._edgeObjs,function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))});var r={};return this._isCompound&&JS.each(e.nodes(),function(t){e.setParent(t,function t(i){var o=n.parent(i);return void 0===o||e.hasNode(o)?(r[i]=o,o):o in r?r[o]:t(o)}(t))}),e},ik.prototype.setDefaultEdgeLabel=function(t){return JS.isFunction(t)||(t=JS.constant(t)),this._defaultEdgeLabelFn=t,this},ik.prototype.edgeCount=function(){return this._edgeCount},ik.prototype.edges=function(){return JS.values(this._edgeObjs)},ik.prototype.setPath=function(t,e){var n=this,r=arguments;return JS.reduce(t,function(t,i){return r.length>1?n.setEdge(t,i,e):n.setEdge(t,i),i}),this},ik.prototype.setEdge=function(){var t,e,n,r,i=!1,o=arguments[0];"object"===(void 0===o?"undefined":a(o))&&null!==o&&"v"in o?(t=o.v,e=o.w,n=o.name,2===arguments.length&&(r=arguments[1],i=!0)):(t=o,e=arguments[1],n=arguments[3],arguments.length>2&&(r=arguments[2],i=!0)),t=""+t,e=""+e,JS.isUndefined(n)||(n=""+n);var s=sk(this._isDirected,t,e,n);if(JS.has(this._edgeLabels,s))return i&&(this._edgeLabels[s]=r),this;if(!JS.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[s]=i?r:this._defaultEdgeLabelFn(t,e,n);var l=function(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};r&&(s.name=r);return s}(this._isDirected,t,e,n);return t=l.v,e=l.w,Object.freeze(l),this._edgeObjs[s]=l,ok(this._preds[e],t),ok(this._sucs[t],e),this._in[e][s]=l,this._out[t][s]=l,this._edgeCount++,this},ik.prototype.edge=function(t,e,n){var r=1===arguments.length?lk(this._isDirected,arguments[0]):sk(this._isDirected,t,e,n);return this._edgeLabels[r]},ik.prototype.hasEdge=function(t,e,n){var r=1===arguments.length?lk(this._isDirected,arguments[0]):sk(this._isDirected,t,e,n);return JS.has(this._edgeLabels,r)},ik.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?lk(this._isDirected,arguments[0]):sk(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],ak(this._preds[e],t),ak(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},ik.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var r=JS.values(n);return e?JS.filter(r,function(t){return t.v===e}):r}},ik.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var r=JS.values(n);return e?JS.filter(r,function(t){return t.w===e}):r}},ik.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))};var uk={Graph:tk,version:"2.1.5"},hk={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:function(t){return JS.map(t.nodes(),function(e){var n=t.node(e),r=t.parent(e),i={v:e};return JS.isUndefined(n)||(i.value=n),JS.isUndefined(r)||(i.parent=r),i})}(t),edges:function(t){return JS.map(t.edges(),function(e){var n=t.edge(e),r={v:e.v,w:e.w};return JS.isUndefined(e.name)||(r.name=e.name),JS.isUndefined(n)||(r.value=n),r})}(t)};JS.isUndefined(t.graph())||(e.value=JS.clone(t.graph()));return e},read:function(t){var e=new tk(t.options).setGraph(t.value);return JS.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),JS.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}};var ck=function(t){var e,n={},r=[];function i(r){JS.has(n,r)||(n[r]=!0,e.push(r),JS.each(t.successors(r),i),JS.each(t.predecessors(r),i))}return JS.each(t.nodes(),function(t){e=[],i(t),e.length&&r.push(e)}),r};var fk=pk;function pk(){this._arr=[],this._keyIndices={}}pk.prototype.size=function(){return this._arr.length},pk.prototype.keys=function(){return this._arr.map(function(t){return t.key})},pk.prototype.has=function(t){return JS.has(this._keyIndices,t)},pk.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},pk.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},pk.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!JS.has(n,t)){var r=this._arr,i=r.length;return n[t]=i,r.push({key:t,priority:e}),this._decrease(i),!0}return!1},pk.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},pk.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},pk.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},pk.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},pk.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e};var dk=function(t,e,n,r){return function(t,e,n,r){var i,o,a={},s=new fk,l=function(t){var e=t.v!==i?t.v:t.w,r=a[e],l=n(t),u=o.distance+l;if(l<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+l);u<r.distance&&(r.distance=u,r.predecessor=i,s.decrease(e,u))};t.nodes().forEach(function(t){var n=t===e?0:Number.POSITIVE_INFINITY;a[t]={distance:n},s.add(t,n)});for(;s.size()>0&&(i=s.removeMin(),(o=a[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(l);return a}(t,String(e),n||gk,r||function(e){return t.outEdges(e)})},gk=JS.constant(1);var vk=function(t,e,n){return JS.transform(t.nodes(),function(r,i){r[i]=dk(t,i,e,n)},{})};var yk=function(t){var e=0,n=[],r={},i=[];return t.nodes().forEach(function(o){JS.has(r,o)||function o(a){var s=r[a]={onStack:!0,lowlink:e,index:e++};if(n.push(a),t.successors(a).forEach(function(t){JS.has(r,t)?r[t].onStack&&(s.lowlink=Math.min(s.lowlink,r[t].index)):(o(t),s.lowlink=Math.min(s.lowlink,r[t].lowlink))}),s.lowlink===s.index){var l,u=[];do{l=n.pop(),r[l].onStack=!1,u.push(l)}while(a!==l);i.push(u)}}(o)}),i};var mk=function(t){return JS.filter(yk(t),function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])})};var xk=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach(function(t){r[t]={},r[t][t]={distance:0},i.forEach(function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})}),n(t).forEach(function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}})}),i.forEach(function(t){var e=r[t];i.forEach(function(n){var o=r[n];i.forEach(function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)})})}),r}(t,e||_k,n||function(e){return t.outEdges(e)})},_k=JS.constant(1);var wk=bk;function bk(t){var e={},n={},r=[];if(JS.each(t.sinks(),function i(o){if(JS.has(n,o))throw new Sk;JS.has(e,o)||(n[o]=!0,e[o]=!0,JS.each(t.predecessors(o),i),delete n[o],r.push(o))}),JS.size(e)!==t.nodeCount())throw new Sk;return r}function Sk(){}bk.CycleException=Sk;var kk=function(t,e,n){JS.isArray(e)||(e=[e]);var r=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],o={};return JS.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,r,i,o,a){JS.has(i,n)||(i[n]=!0,r||a.push(n),JS.each(o(n),function(n){t(e,n,r,i,o,a)}),r&&a.push(n))}(t,e,"post"===n,o,r,i)}),i};var Mk,Ak={Graph:uk.Graph,json:hk,alg:{components:ck,dijkstra:dk,dijkstraAll:vk,findCycles:mk,floydWarshall:xk,isAcyclic:function(t){try{wk(t)}catch(t){if(t instanceof wk.CycleException)return!1;throw t}return!0},postorder:function(t,e){return kk(t,e,"post")},preorder:function(t,e){return kk(t,e,"pre")},prim:function(t,e){var n,r=new tk,i={},o=new fk;function a(t){var r=t.v===n?t.w:t.v,a=o.priority(r);if(void 0!==a){var s=e(t);s<a&&(i[r]=n,o.decrease(r,s))}}if(0===t.nodeCount())return r;JS.each(t.nodes(),function(t){o.add(t,Number.POSITIVE_INFINITY),r.setNode(t)}),o.decrease(t.nodes()[0],0);var s=!1;for(;o.size()>0;){if(n=o.removeMin(),JS.has(i,n))r.setEdge(n,i[n]);else{if(s)throw new Error("Input graph is not connected: "+t);s=!0}t.nodeEdges(n).forEach(a)}return r},tarjan:yk,topsort:wk},version:uk.version};try{Mk=Ak}catch(t){}Mk||(Mk=window.graphlib);var Ik,Tk=Mk;try{Ik=QS}catch(t){}Ik||(Ik=window._);var Ck=Ik,Ek=zk;function zk(){var t={};t._next=t._prev=t,this._sentinel=t}function Lk(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function Ok(t,e){if("_next"!==t&&"_prev"!==t)return e}zk.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return Lk(e),e},zk.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&Lk(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},zk.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,Ok)),n=n._prev;return"["+t.join(", ")+"]"};var Dk=Tk.Graph,Pk=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new Dk,r=0,i=0;Ck.forEach(t.nodes(),function(t){n.setNode(t,{v:t,in:0,out:0})}),Ck.forEach(t.edges(),function(t){var o=n.edge(t.v,t.w)||0,a=e(t),s=o+a;n.setEdge(t.v,t.w,s),i=Math.max(i,n.node(t.v).out+=a),r=Math.max(r,n.node(t.w).in+=a)});var o=Ck.range(i+r+3).map(function(){return new Ek}),a=r+1;return Ck.forEach(n.nodes(),function(t){Rk(o,a,n.node(t))}),{graph:n,buckets:o,zeroIdx:a}}(t,e||Fk),r=function(t,e,n){var r,i=[],o=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)Nk(t,e,n,r);for(;r=o.dequeue();)Nk(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){i=i.concat(Nk(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return Ck.flatten(Ck.map(r,function(e){return t.outEdges(e.v,e.w)}),!0)},Fk=Ck.constant(1);function Nk(t,e,n,r,i){var o=i?[]:void 0;return Ck.forEach(t.inEdges(r.v),function(r){var a=t.edge(r),s=t.node(r.v);i&&o.push({v:r.v,w:r.w}),s.out-=a,Rk(e,n,s)}),Ck.forEach(t.outEdges(r.v),function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,Rk(e,n,a)}),t.removeNode(r.v),o}function Rk(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}var Bk={run:function(t){var e="greedy"===t.graph().acyclicer?Pk(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},r={};return Ck.forEach(t.nodes(),function i(o){Ck.has(r,o)||(r[o]=!0,n[o]=!0,Ck.forEach(t.outEdges(o),function(t){Ck.has(n,t.w)?e.push(t):i(t.w)}),delete n[o])}),e}(t);Ck.forEach(e,function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,Ck.uniqueId("rev"))})},undo:function(t){Ck.forEach(t.edges(),function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}})}};var Wk=Tk.Graph,jk={addDummyNode:Gk,simplify:function(t){var e=(new Wk).setGraph(t.graph());return Ck.forEach(t.nodes(),function(n){e.setNode(n,t.node(n))}),Ck.forEach(t.edges(),function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),e},asNonCompoundGraph:function(t){var e=new Wk({multigraph:t.isMultigraph()}).setGraph(t.graph());return Ck.forEach(t.nodes(),function(n){t.children(n).length||e.setNode(n,t.node(n))}),Ck.forEach(t.edges(),function(n){e.setEdge(n,t.edge(n))}),e},successorWeights:function(t){var e=Ck.map(t.nodes(),function(e){var n={};return Ck.forEach(t.outEdges(e),function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight}),n});return Ck.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=Ck.map(t.nodes(),function(e){var n={};return Ck.forEach(t.inEdges(e),function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight}),n});return Ck.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,u=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*l>Math.abs(a)*u?(s<0&&(u=-u),n=u*a/s,r=u):(a<0&&(l=-l),n=l,r=l*s/a);return{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=Ck.map(Ck.range(Hk(t)+1),function(){return[]});return Ck.forEach(t.nodes(),function(n){var r=t.node(n),i=r.rank;Ck.isUndefined(i)||(e[i][r.order]=n)}),e},normalizeRanks:function(t){var e=Ck.min(Ck.map(t.nodes(),function(e){return t.node(e).rank}));Ck.forEach(t.nodes(),function(n){var r=t.node(n);Ck.has(r,"rank")&&(r.rank-=e)})},removeEmptyRanks:function(t){var e=Ck.min(Ck.map(t.nodes(),function(e){return t.node(e).rank})),n=[];Ck.forEach(t.nodes(),function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)});var r=0,i=t.graph().nodeRankFactor;Ck.forEach(n,function(e,n){Ck.isUndefined(e)&&n%i!=0?--r:r&&Ck.forEach(e,function(e){t.node(e).rank+=r})})},addBorderNode:function(t,e,n,r){var i={width:0,height:0};arguments.length>=4&&(i.rank=n,i.order=r);return Gk(t,"border",i,e)},maxRank:Hk,partition:function(t,e){var n={lhs:[],rhs:[]};return Ck.forEach(t,function(t){e(t)?n.lhs.push(t):n.rhs.push(t)}),n},time:function(t,e){Ck.now();try{return e()}finally{}},notime:function(t,e){return e()}};function Gk(t,e,n,r){var i;do{i=Ck.uniqueId(r)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function Hk(t){return Ck.max(Ck.map(t.nodes(),function(e){var n=t.node(e).rank;if(!Ck.isUndefined(n))return n}))}var Uk={run:function(t){t.graph().dummyChains=[],Ck.forEach(t.edges(),function(e){!function(t,e){var n,r,i,o=e.v,a=t.node(o).rank,s=e.w,l=t.node(s).rank,u=e.name,h=t.edge(e),c=h.labelRank;if(l===a+1)return;for(t.removeEdge(e),i=0,++a;a<l;++i,++a)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:e,rank:a},n=jk.addDummyNode(t,"edge",r,"_d"),a===c&&(r.width=h.width,r.height=h.height,r.dummy="edge-label",r.labelpos=h.labelpos),t.setEdge(o,n,{weight:h.weight},u),0===i&&t.graph().dummyChains.push(n),o=n;t.setEdge(o,s,{weight:h.weight},u)}(t,e)})},undo:function(t){Ck.forEach(t.graph().dummyChains,function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)})}};var qk=function(t){var e={};Ck.forEach(t.sources(),function n(r){var i=t.node(r);if(Ck.has(e,r))return i.rank;e[r]=!0;var o=Ck.min(Ck.map(t.outEdges(r),function(e){return n(e.w)-t.edge(e).minlen}));o!==Number.POSITIVE_INFINITY&&void 0!==o&&null!==o||(o=0);return i.rank=o})},Vk=function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen};var Yk=Tk.Graph,$k=Vk,Xk=function(t){var e,n,r=new Yk({directed:!1}),i=t.nodes()[0],o=t.nodeCount();r.setNode(i,{});for(;Kk(r,t)<o;)e=Zk(r,t),n=r.hasNode(e.v)?$k(t,e):-$k(t,e),Qk(r,t,n);return r};function Kk(t,e){return Ck.forEach(t.nodes(),function n(r){Ck.forEach(e.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;t.hasNode(a)||$k(e,i)||(t.setNode(a,{}),t.setEdge(r,a,{}),n(a))})}),t.nodeCount()}function Zk(t,e){return Ck.minBy(e.edges(),function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return $k(e,n)})}function Qk(t,e,n){Ck.forEach(t.nodes(),function(t){e.node(t).rank+=n})}var Jk=Vk,tM=qk,eM=Tk.alg.preorder,nM=Tk.alg.postorder,rM=jk.simplify,iM=oM;function oM(t){t=rM(t),tM(t);var e,n=Xk(t);for(lM(n),aM(n,t);e=uM(n);)cM(n,t,e,hM(n,t,e))}function aM(t,e){var n=nM(t,t.nodes());n=n.slice(0,n.length-1),Ck.forEach(n,function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=sM(t,e,n)}(t,e,n)})}function sM(t,e,n){var r=t.node(n).parent,i=!0,o=e.edge(n,r),a=0;return o||(i=!1,o=e.edge(r,n)),a=o.weight,Ck.forEach(e.nodeEdges(n),function(o){var s,l,u=o.v===n,h=u?o.w:o.v;if(h!==r){var c=u===i,f=e.edge(o).weight;if(a+=c?f:-f,s=n,l=h,t.hasEdge(s,l)){var p=t.edge(n,h).cutvalue;a+=c?-p:p}}}),a}function lM(t,e){arguments.length<2&&(e=t.nodes()[0]),function t(e,n,r,i,o){var a=r,s=e.node(i);n[i]=!0;Ck.forEach(e.neighbors(i),function(o){Ck.has(n,o)||(r=t(e,n,r,o,i))});s.low=a;s.lim=r++;o?s.parent=o:delete s.parent;return r}(t,{},1,e)}function uM(t){return Ck.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function hM(t,e,n){var r=n.v,i=n.w;e.hasEdge(r,i)||(r=n.w,i=n.v);var o=t.node(r),a=t.node(i),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var u=Ck.filter(e.edges(),function(e){return l===fM(t,t.node(e.v),s)&&l!==fM(t,t.node(e.w),s)});return Ck.minBy(u,function(t){return Jk(e,t)})}function cM(t,e,n,r){var i=n.v,o=n.w;t.removeEdge(i,o),t.setEdge(r.v,r.w,{}),lM(t),aM(t,e),function(t,e){var n=Ck.find(t.nodes(),function(t){return!e.node(t).parent}),r=eM(t,n);r=r.slice(1),Ck.forEach(r,function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)})}(t,e)}function fM(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}oM.initLowLimValues=lM,oM.initCutValues=aM,oM.calcCutValue=sM,oM.leaveEdge=uM,oM.enterEdge=hM,oM.exchangeEdges=cM;var pM=qk,dM=function(t){switch(t.graph().ranker){case"network-simplex":vM(t);break;case"tight-tree":!function(t){pM(t),Xk(t)}(t);break;case"longest-path":gM(t);break;default:vM(t)}};var gM=pM;function vM(t){iM(t)}var yM=function(t){var e=function(t){var e={},n=0;return Ck.forEach(t.children(),function r(i){var o=n;Ck.forEach(t.children(i),r),e[i]={low:o,lim:n++}}),e}(t);Ck.forEach(t.graph().dummyChains,function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],s=[],l=Math.min(e[n].low,e[r].low),u=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>l||u>e[i].lim));o=i,i=r;for(;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,l=0,u=a[l],h=!0;n!==i.w;){if(r=t.node(n),h){for(;(u=a[l])!==s&&t.node(u).maxRank<r.rank;)l++;u===s&&(h=!1)}if(!h){for(;l<a.length-1&&t.node(u=a[l+1]).minRank<=r.rank;)l++;u=a[l]}t.setParent(n,u),n=t.successors(n)[0]}})};var mM={run:function(t){var e=jk.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return Ck.forEach(t.children(),function(n){!function n(r,i){var o=t.children(r);o&&o.length&&Ck.forEach(o,function(t){n(t,i+1)}),e[r]=i}(n,1)}),e}(t),r=Ck.max(Ck.values(n))-1,i=2*r+1;t.graph().nestingRoot=e,Ck.forEach(t.edges(),function(e){t.edge(e).minlen*=i});var o=function(t){return Ck.reduce(t.edges(),function(e,n){return e+t.edge(n).weight},0)}(t)+1;Ck.forEach(t.children(),function(a){!function t(e,n,r,i,o,a,s){var l=e.children(s);if(!l.length)return void(s!==n&&e.setEdge(n,s,{weight:0,minlen:r}));var u=jk.addBorderNode(e,"_bt"),h=jk.addBorderNode(e,"_bb"),c=e.node(s);e.setParent(u,s);c.borderTop=u;e.setParent(h,s);c.borderBottom=h;Ck.forEach(l,function(l){t(e,n,r,i,o,a,l);var c=e.node(l),f=c.borderTop?c.borderTop:l,p=c.borderBottom?c.borderBottom:l,d=c.borderTop?i:2*i,g=f!==p?1:o-a[s]+1;e.setEdge(u,f,{weight:d,minlen:g,nestingEdge:!0}),e.setEdge(p,h,{weight:d,minlen:g,nestingEdge:!0})});e.parent(s)||e.setEdge(n,u,{weight:0,minlen:o+a[s]})}(t,e,i,o,r,n,a)}),t.graph().nodeRankFactor=i},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,Ck.forEach(t.edges(),function(e){var n=t.edge(e);n.nestingEdge&&t.removeEdge(e)})}};var xM=function(t){Ck.forEach(t.children(),function e(n){var r=t.children(n),i=t.node(n);r.length&&Ck.forEach(r,e);if(Ck.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)_M(t,"borderLeft","_bl",n,i,o),_M(t,"borderRight","_br",n,i,o)}})};function _M(t,e,n,r,i,o){var a={width:0,height:0,rank:o,borderType:e},s=i[e][o-1],l=jk.addDummyNode(t,"border",a,n);i[e][o]=l,t.setParent(l,r),s&&t.setEdge(s,l,{weight:1})}var wM={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||bM(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){Ck.forEach(t.nodes(),function(e){kM(t.node(e))}),Ck.forEach(t.edges(),function(e){var n=t.edge(e);Ck.forEach(n.points,kM),Ck.has(n,"y")&&kM(n)})}(t);"lr"!==e&&"rl"!==e||(!function(t){Ck.forEach(t.nodes(),function(e){MM(t.node(e))}),Ck.forEach(t.edges(),function(e){var n=t.edge(e);Ck.forEach(n.points,MM),Ck.has(n,"x")&&MM(n)})}(t),bM(t))}};function bM(t){Ck.forEach(t.nodes(),function(e){SM(t.node(e))}),Ck.forEach(t.edges(),function(e){SM(t.edge(e))})}function SM(t){var e=t.width;t.width=t.height,t.height=e}function kM(t){t.y=-t.y}function MM(t){var e=t.x;t.x=t.y,t.y=e}var AM=function(t){var e={},n=Ck.filter(t.nodes(),function(e){return!t.children(e).length}),r=Ck.max(Ck.map(n,function(e){return t.node(e).rank})),i=Ck.map(Ck.range(r+1),function(){return[]});var o=Ck.sortBy(n,function(e){return t.node(e).rank});return Ck.forEach(o,function n(r){if(!Ck.has(e,r)){e[r]=!0;var o=t.node(r);i[o.rank].push(r),Ck.forEach(t.successors(r),n)}}),i};var IM=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=TM(t,e[r-1],e[r]);return n};function TM(t,e,n){for(var r=Ck.zipObject(n,Ck.map(n,function(t,e){return e})),i=Ck.flatten(Ck.map(e,function(e){return Ck.chain(t.outEdges(e)).map(function(e){return{pos:r[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=Ck.map(new Array(a),function(){return 0}),l=0;return Ck.forEach(i.forEach(function(t){var e=t.pos+o;s[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;l+=t.weight*n})),l}var CM=function(t,e){return Ck.map(e,function(e){var n=t.inEdges(e);if(n.length){var r=Ck.reduce(n,function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}},{sum:0,weight:0});return{v:e,barycenter:r.sum/r.weight,weight:r.weight}}return{v:e}})};var EM=function(t,e){var n={};return Ck.forEach(t,function(t,e){var r=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};Ck.isUndefined(t.barycenter)||(r.barycenter=t.barycenter,r.weight=t.weight)}),Ck.forEach(e.edges(),function(t){var e=n[t.v],r=n[t.w];Ck.isUndefined(e)||Ck.isUndefined(r)||(r.indegree++,e.out.push(n[t.w]))}),function(t){var e=[];function n(t){return function(e){var n,r,i,o;e.merged||(Ck.isUndefined(e.barycenter)||Ck.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&(r=e,i=0,o=0,(n=t).weight&&(i+=n.barycenter*n.weight,o+=n.weight),r.weight&&(i+=r.barycenter*r.weight,o+=r.weight),n.vs=r.vs.concat(n.vs),n.barycenter=i/o,n.weight=o,n.i=Math.min(r.i,n.i),r.merged=!0)}}function r(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),Ck.forEach(i.in.reverse(),n(i)),Ck.forEach(i.out,r(i))}return Ck.chain(e).filter(function(t){return!t.merged}).map(function(t){return Ck.pick(t,["vs","i","barycenter","weight"])}).value()}(Ck.filter(n,function(t){return!t.indegree}))};var zM=function(t,e){var n=jk.partition(t,function(t){return Ck.has(t,"barycenter")}),r=n.lhs,i=Ck.sortBy(n.rhs,function(t){return-t.i}),o=[],a=0,s=0,l=0;r.sort((u=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:u?e.i-t.i:t.i-e.i})),l=LM(o,i,l),Ck.forEach(r,function(t){l+=t.vs.length,o.push(t.vs),a+=t.barycenter*t.weight,s+=t.weight,l=LM(o,i,l)});var u;var h={vs:Ck.flatten(o,!0)};s&&(h.barycenter=a/s,h.weight=s);return h};function LM(t,e,n){for(var r;e.length&&(r=Ck.last(e)).i<=n;)e.pop(),t.push(r.vs),n++;return n}var OM=function t(e,n,r,i){var o=e.children(n),a=e.node(n),s=a?a.borderLeft:void 0,l=a?a.borderRight:void 0,u={};s&&(o=Ck.filter(o,function(t){return t!==s&&t!==l}));var h=CM(e,o);Ck.forEach(h,function(n){if(e.children(n.v).length){var o=t(e,n.v,r,i);u[n.v]=o,Ck.has(o,"barycenter")&&(a=n,s=o,Ck.isUndefined(a.barycenter)?(a.barycenter=s.barycenter,a.weight=s.weight):(a.barycenter=(a.barycenter*a.weight+s.barycenter*s.weight)/(a.weight+s.weight),a.weight+=s.weight))}var a,s});var c=EM(h,r);!function(t,e){Ck.forEach(t,function(t){t.vs=Ck.flatten(t.vs.map(function(t){return e[t]?e[t].vs:t}),!0)})}(c,u);var f=zM(c,i);if(s&&(f.vs=Ck.flatten([s,f.vs,l],!0),e.predecessors(s).length)){var p=e.node(e.predecessors(s)[0]),d=e.node(e.predecessors(l)[0]);Ck.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+p.order+d.order)/(f.weight+2),f.weight+=2}return f};var DM=Tk.Graph,PM=function(t,e,n){var r=function(t){var e;for(;t.hasNode(e=Ck.uniqueId("_root")););return e}(t),i=new DM({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(e){return t.node(e)});return Ck.forEach(t.nodes(),function(o){var a=t.node(o),s=t.parent(o);(a.rank===e||a.minRank<=e&&e<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),Ck.forEach(t[n](o),function(e){var n=e.v===o?e.w:e.v,r=i.edge(n,o),a=Ck.isUndefined(r)?0:r.weight;i.setEdge(n,o,{weight:t.edge(e).weight+a})}),Ck.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[e],borderRight:a.borderRight[e]}))}),i};var FM=function(t,e,n){var r,i={};Ck.forEach(n,function(n){for(var o,a,s=t.parent(n);s;){if((o=t.parent(s))?(a=i[o],i[o]=s):(a=r,r=s),a&&a!==s)return void e.setEdge(a,s);s=o}})};var NM=Tk.Graph,RM=function(t){var e=jk.maxRank(t),n=BM(t,Ck.range(1,e+1),"inEdges"),r=BM(t,Ck.range(e-1,-1,-1),"outEdges"),i=AM(t);jM(t,i);for(var o,a=Number.POSITIVE_INFINITY,s=0,l=0;l<4;++s,++l){WM(s%2?n:r,s%4>=2),i=jk.buildLayerMatrix(t);var u=IM(t,i);u<a&&(l=0,o=Ck.cloneDeep(i),a=u)}jM(t,o)};function BM(t,e,n){return Ck.map(e,function(e){return PM(t,e,n)})}function WM(t,e){var n=new NM;Ck.forEach(t,function(t){var r=t.graph().root,i=OM(t,r,n,e);Ck.forEach(i.vs,function(e,n){t.node(e).order=n}),FM(t,n,i.vs)})}function jM(t,e){Ck.forEach(e,function(e){Ck.forEach(e,function(e,n){t.node(e).order=n})})}var GM=Tk.Graph;function HM(t,e){var n={};return Ck.reduce(e,function(e,r){var i=0,o=0,a=e.length,s=Ck.last(r);return Ck.forEach(r,function(e,l){var u=function(t,e){if(t.node(e).dummy)return Ck.find(t.predecessors(e),function(e){return t.node(e).dummy})}(t,e),h=u?t.node(u).order:a;(u||e===s)&&(Ck.forEach(r.slice(o,l+1),function(e){Ck.forEach(t.predecessors(e),function(r){var o=t.node(r),a=o.order;!(a<i||h<a)||o.dummy&&t.node(e).dummy||qM(n,r,e)})}),o=l+1,i=h)}),r}),n}function UM(t,e){var n={};function r(e,r,i,o,a){var s;Ck.forEach(Ck.range(r,i),function(r){s=e[r],t.node(s).dummy&&Ck.forEach(t.predecessors(s),function(e){var r=t.node(e);r.dummy&&(r.order<o||r.order>a)&&qM(n,e,s)})})}return Ck.reduce(e,function(e,n){var i,o=-1,a=0;return Ck.forEach(n,function(s,l){if("border"===t.node(s).dummy){var u=t.predecessors(s);u.length&&(i=t.node(u[0]).order,r(n,a,l,o,i),a=l,o=i)}r(n,a,n.length,i,e.length)}),n}),n}function qM(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function VM(t,e,n){if(e>n){var r=e;e=n,n=r}return Ck.has(t[e],n)}function YM(t,e,n,r){var i={},o={},a={};return Ck.forEach(e,function(t){Ck.forEach(t,function(t,e){i[t]=t,o[t]=t,a[t]=e})}),Ck.forEach(e,function(t){var e=-1;Ck.forEach(t,function(t){var s=r(t);if(s.length)for(var l=((s=Ck.sortBy(s,function(t){return a[t]})).length-1)/2,u=Math.floor(l),h=Math.ceil(l);u<=h;++u){var c=s[u];o[t]===t&&e<a[c]&&!VM(n,t,c)&&(o[c]=t,o[t]=i[t]=i[c],e=a[c])}})}),{root:i,align:o}}function $M(t,e,n,r,i){var o={},a=function(t,e,n,r){var i=new GM,o=t.graph(),a=function(t,e,n){return function(r,i,o){var a,s=r.node(i),l=r.node(o),u=0;if(u+=s.width/2,Ck.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":a=-s.width/2;break;case"r":a=s.width/2}if(a&&(u+=n?a:-a),a=0,u+=(s.dummy?e:t)/2,u+=(l.dummy?e:t)/2,u+=l.width/2,Ck.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":a=l.width/2;break;case"r":a=-l.width/2}return a&&(u+=n?a:-a),a=0,u}}(o.nodesep,o.edgesep,r);return Ck.forEach(e,function(e){var r;Ck.forEach(e,function(e){var o=n[e];if(i.setNode(o),r){var s=n[r],l=i.edge(s,o);i.setEdge(s,o,Math.max(a(t,e,r),l||0))}r=e})}),i}(t,e,n,i),s=i?"borderLeft":"borderRight";function l(t,e){for(var n=a.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return l(function(t){o[t]=a.inEdges(t).reduce(function(t,e){return Math.max(t,o[e.v]+a.edge(e))},0)},Ck.bind(a.predecessors,a)),l(function(e){var n=a.outEdges(e).reduce(function(t,e){return Math.min(t,o[e.w]-a.edge(e))},Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==s&&(o[e]=Math.max(o[e],n))},Ck.bind(a.successors,a)),Ck.forEach(r,function(t){o[t]=o[n[t]]}),o}function XM(t,e){return Ck.minBy(Ck.values(e),function(e){var n=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return Ck.forIn(e,function(e,i){var o=function(t,e){return t.node(e).width}(t,i)/2;n=Math.max(e+o,n),r=Math.min(e-o,r)}),n-r})}function KM(t,e){var n=Ck.values(e),r=Ck.min(n),i=Ck.max(n);Ck.forEach(["u","d"],function(n){Ck.forEach(["l","r"],function(o){var a,s=n+o,l=t[s];if(l!==e){var u=Ck.values(l);(a="l"===o?r-Ck.min(u):i-Ck.max(u))&&(t[s]=Ck.mapValues(l,function(t){return t+a}))}})})}function ZM(t,e){return Ck.mapValues(t.ul,function(n,r){if(e)return t[e.toLowerCase()][r];var i=Ck.sortBy(Ck.map(t,r));return(i[1]+i[2])/2})}var QM=function(t){var e,n=jk.buildLayerMatrix(t),r=Ck.merge(HM(t,n),UM(t,n)),i={};Ck.forEach(["u","d"],function(o){e="u"===o?n:Ck.values(n).reverse(),Ck.forEach(["l","r"],function(n){"r"===n&&(e=Ck.map(e,function(t){return Ck.values(t).reverse()}));var a=Ck.bind("u"===o?t.predecessors:t.successors,t),s=YM(t,e,r,a),l=$M(t,e,s.root,s.align,"r"===n);"r"===n&&(l=Ck.mapValues(l,function(t){return-t})),i[o+n]=l})});var o=XM(t,i);return KM(i,o),ZM(i,t.graph().align)},JM=function(t){(function(t){var e=jk.buildLayerMatrix(t),n=t.graph().ranksep,r=0;Ck.forEach(e,function(e){var i=Ck.max(Ck.map(e,function(e){return t.node(e).height}));Ck.forEach(e,function(e){t.node(e).y=r+i/2}),r+=i+n})})(t=jk.asNonCompoundGraph(t)),Ck.forEach(QM(t),function(e,n){t.node(n).x=e})};var tA=jk.normalizeRanks,eA=jk.removeEmptyRanks,nA=jk,rA=Tk.Graph,iA=function(t,e){var n=e&&e.debugTiming?nA.time:nA.notime;n("layout",function(){var e=n("  buildLayoutGraph",function(){return function(t){var e=new rA({multigraph:!0,compound:!0}),n=dA(t.graph());return e.setGraph(Ck.merge({},aA,pA(n,oA),Ck.pick(n,sA))),Ck.forEach(t.nodes(),function(n){var r=dA(t.node(n));e.setNode(n,Ck.defaults(pA(r,lA),uA)),e.setParent(n,t.parent(n))}),Ck.forEach(t.edges(),function(n){var r=dA(t.edge(n));e.setEdge(n,Ck.merge({},cA,pA(r,hA),Ck.pick(r,fA)))}),e}(t)});n("  runLayout",function(){!function(t,e){e("    makeSpaceForEdgeLabels",function(){!function(t){var e=t.graph();e.ranksep/=2,Ck.forEach(t.edges(),function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})}(t)}),e("    removeSelfEdges",function(){!function(t){Ck.forEach(t.edges(),function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}})}(t)}),e("    acyclic",function(){Bk.run(t)}),e("    nestingGraph.run",function(){mM.run(t)}),e("    rank",function(){dM(nA.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){!function(t){Ck.forEach(t.edges(),function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i=t.node(e.w),o={rank:(i.rank-r.rank)/2+r.rank,e:e};nA.addDummyNode(t,"edge-proxy",o,"_ep")}})}(t)}),e("    removeEmptyRanks",function(){eA(t)}),e("    nestingGraph.cleanup",function(){mM.cleanup(t)}),e("    normalizeRanks",function(){tA(t)}),e("    assignRankMinMax",function(){!function(t){var e=0;Ck.forEach(t.nodes(),function(n){var r=t.node(n);r.borderTop&&(r.minRank=t.node(r.borderTop).rank,r.maxRank=t.node(r.borderBottom).rank,e=Ck.max(e,r.maxRank))}),t.graph().maxRank=e}(t)}),e("    removeEdgeLabelProxies",function(){!function(t){Ck.forEach(t.nodes(),function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))})}(t)}),e("    normalize.run",function(){Uk.run(t)}),e("    parentDummyChains",function(){yM(t)}),e("    addBorderSegments",function(){xM(t)}),e("    order",function(){RM(t)}),e("    insertSelfEdges",function(){!function(t){var e=nA.buildLayerMatrix(t);Ck.forEach(e,function(e){var n=0;Ck.forEach(e,function(e,r){var i=t.node(e);i.order=r+n,Ck.forEach(i.selfEdges,function(e){nA.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:r+ ++n,e:e.e,label:e.label},"_se")}),delete i.selfEdges})})}(t)}),e("    adjustCoordinateSystem",function(){wM.adjust(t)}),e("    position",function(){JM(t)}),e("    positionSelfEdges",function(){!function(t){Ck.forEach(t.nodes(),function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}(t)}),e("    removeBorderNodes",function(){!function(t){Ck.forEach(t.nodes(),function(e){if(t.children(e).length){var n=t.node(e),r=t.node(n.borderTop),i=t.node(n.borderBottom),o=t.node(Ck.last(n.borderLeft)),a=t.node(Ck.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),Ck.forEach(t.nodes(),function(e){"border"===t.node(e).dummy&&t.removeNode(e)})}(t)}),e("    normalize.undo",function(){Uk.undo(t)}),e("    fixupEdgeLabelCoords",function(){!function(t){Ck.forEach(t.edges(),function(e){var n=t.edge(e);if(Ck.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})}(t)}),e("    undoCoordinateSystem",function(){wM.undo(t)}),e("    translateGraph",function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=t.graph(),a=o.marginx||0,s=o.marginy||0;function l(t){var o=t.x,a=t.y,s=t.width,l=t.height;e=Math.min(e,o-s/2),n=Math.max(n,o+s/2),r=Math.min(r,a-l/2),i=Math.max(i,a+l/2)}Ck.forEach(t.nodes(),function(e){l(t.node(e))}),Ck.forEach(t.edges(),function(e){var n=t.edge(e);Ck.has(n,"x")&&l(n)}),e-=a,r-=s,Ck.forEach(t.nodes(),function(n){var i=t.node(n);i.x-=e,i.y-=r}),Ck.forEach(t.edges(),function(n){var i=t.edge(n);Ck.forEach(i.points,function(t){t.x-=e,t.y-=r}),Ck.has(i,"x")&&(i.x-=e),Ck.has(i,"y")&&(i.y-=r)}),o.width=n-e+a,o.height=i-r+s}(t)}),e("    assignNodeIntersects",function(){!function(t){Ck.forEach(t.edges(),function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(nA.intersectRect(o,n)),i.points.push(nA.intersectRect(a,r))})}(t)}),e("    reversePoints",function(){!function(t){Ck.forEach(t.edges(),function(e){var n=t.edge(e);n.reversed&&n.points.reverse()})}(t)}),e("    acyclic.undo",function(){Bk.undo(t)})}(e,n)}),n("  updateInputGraph",function(){!function(t,e){Ck.forEach(t.nodes(),function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))}),Ck.forEach(t.edges(),function(n){var r=t.edge(n),i=e.edge(n);r.points=i.points,Ck.has(i,"x")&&(r.x=i.x,r.y=i.y)}),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)})})};var oA=["nodesep","edgesep","ranksep","marginx","marginy"],aA={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},sA=["acyclicer","ranker","rankdir","align"],lA=["width","height"],uA={width:0,height:0},hA=["minlen","weight","width","height","labeloffset"],cA={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},fA=["labelpos"];function pA(t,e){return Ck.mapValues(Ck.pick(t,e),Number)}function dA(t){var e={};return Ck.forEach(t,function(t,n){e[n.toLowerCase()]=t}),e}var gA=Tk.Graph;var vA={graphlib:Tk,layout:iA,debug:{debugOrdering:function(t){var e=jk.buildLayerMatrix(t),n=new gA({compound:!0,multigraph:!0}).setGraph({});return Ck.forEach(t.nodes(),function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)}),Ck.forEach(t.edges(),function(t){n.setEdge(t.v,t.w,{},t.name)}),Ck.forEach(e,function(t,e){var r="layer"+e;n.setNode(r,{rank:"same"}),Ck.reduce(t,function(t,e){return n.setEdge(t,e,{style:"invis"}),e})}),n}},util:{time:jk.time,notime:jk.notime},version:"0.8.3-pre"},yA=void 0,mA=void 0,xA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=$S,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.getData(),o=t.get("node"),a=t.get("link"),s=new vA.graphlib.Graph({multigraph:!0,directed:!0,compound:!0}),u=t.get("draggable");s.setGraph({ranksep:o.rankStep}),s.setDefaultEdgeLabel(function(){return{}});var h=i.nodes;o.entireLabel?co(h,function(t){if(t.data&&_A(t.data.name)/2>7&&1===t.data.category){var e=t.data.name.slice(0,7)+"...";s.setNode(t.data.id,{label:t.data.category,width:o.shape.width,height:o.shape.height,newName:e,isClick:!0})}else{var n=escape(t.data.name).indexOf("%u"),r=_A(t.data.name)/2;if(r>7)if(-1===n){var i=Math.ceil(r/2)*o.style.normal.fontSize;s.setNode(t.data.id,{label:t.data.category,width:i,height:o.shape.height,newName:t.data.name,isClick:!1})}else{var a=Math.ceil(r/2),l=new RegExp(".{"+2*a+"}?","g"),u=t.data.name.replace(/[^\x00-\xff]/g,"$&").replace(l,"$&\n").replace(/\x01/g,"");s.setNode(t.data.id,{label:t.data.category,width:o.shape.width,height:o.shape.height,newName:u,isClick:!1})}else{var h=r*o.style.normal.fontSize+50;s.setNode(t.data.id,{label:t.data.category,width:h,height:o.shape.height,newName:t.data.name,isClick:!1})}}}):co(h,function(t){if(t.data&&t.data.name.length>4){var e=t.data.name.slice(0,4)+"...";s.setNode(t.data.id,{label:t.data.category,width:o.shape.width,height:o.shape.height,newName:e,isClick:!0})}else s.setNode(t.data.id,{label:t.data.category,width:o.shape.width,height:o.shape.height,newName:t.data.name,isClick:!0})}),this.maxCategory=bd(h,function(t){return t.data.category}),this.minCategory=kd(h,function(t){return t.data.category}),this.categoryArr=h.map(function(t){return t.data.category});var c=i.edges,f=bd(c,function(t){return t.data.weight});co(c,function(t){var e=void 0;e=t.data?"text"===a.label.type?a.lineWidth[0]:t.data.weight?t.data.weight/f:a.lineWidth[0]:.5,s.setEdge(t.data.source,t.data.target,{lineWidth:e,label:t.data.weight})}),vA.layout(s),yA=n.getWidth(),mA=n.getHeight(),this.offsetWidth=yA-s.graph().width,this.offsetHeight=mA-s.graph().height;var p=[],d=function(t,e){if(o.entireLabel){if(1===e.data.category)return t;return e.data.name.length>7?Math.ceil(e.data.name.length/2)*o.style.normal.fontSize+50:e.data.name.length*o.style.normal.fontSize+50}return t};co(s.nodes(),function(e,n){var i=s.node(e),a=i.x+r.offsetWidth/2,u=i.y+r.offsetHeight/2;p.push({shape:{x:a,y:u,width:d(o.shape.width,h[n]),height:function(t,e){if(o.entireLabel){var n=escape(e.data.name).indexOf("%u");return 1===e.data.category?t:-1===n?t:e.data.name.length>7?t+o.style.normal.fontSize:t}return t}(o.shape.height,h[n]),r:function(t,e){if(o.entireLabel){var n=escape(e.data.name).indexOf("%u");return 1===e.data.category?t:-1===n?e.data.name.length>14?t+o.style.normal.fontSize/2:t:e.data.name.length>7?t+o.style.normal.fontSize/2:t}return t}(o.shape.r,h[n])},style:l({},o.style.normal,{fill:function(t){return t.label===r.maxCategory?o.style.normal.colors.end:t.label===r.minCategory?o.style.normal.colors.origin:o.style.normal.colors.process}(i)}),position:[-d(o.shape.width,h[n])/2,-o.shape.height/2],z:t.get("z"),z2:900,nodeKey:e,nodeName:h[n].data.name,nodeData:h[n],nodeLabel:i.newName,isClick:i.isClick}),r.setShape(e,Yh,{style:{text:i.newName,fontSize:o.style.normal.fontSize,textFill:o.style.normal.textFill,textAlign:"center"},position:[a,u-o.style.normal.fontSize/2],z:t.get("z"),z2:901,silent:!0})});var g=t.get("limited");(function(t,e){this.group.scale=[1,1],this.group.position=[0,0];var n=this.group.getBoundingRect(),r=n.width/yA,i=n.height/mA,o=(1/(1.1*Math.max(r,i))-1)/.1,a=void 0;a=e?Math.min(o,-1):o;var s=yA/2,l=mA/2;t.option.isTop&&(l=0,this.group.position[1]=10-n.y);this.scale(s,l,a)}).call(this,t,g),this.edgeOffsetX=-(yA-s.graph().width)/2,this.edgeOffsetY=-(mA-s.graph().height)/2,this.setShapeGroup("nodes",ac,p,void 0,void 0,function(e,a){var l=!1,h=.8*e.shape.height,c=void 0,f=!1;e.on("mousedown",function(i){i.offsetX,i.offsetY;l=!0,f=!f,c=r.getShape(e.nodeKey),n.dispatchAction(t,Of.nodeClick,e.nodeData);var a=Math.ceil(_A(e.nodeName)/2)+.5;if(a>7&&e.isClick)if(f){c.setStyle("text",e.nodeName),c.attr("z2",1501);var s=(a+1.5)*o.style.normal.fontSize;e.setShape("width",s);o.style.normal.fontSize;if(e.attr("position",[-s/2,-o.shape.height/2]),escape(e.nodeName).indexOf("%u")){var u=(a/2+2)*o.style.normal.fontSize;e.setShape("width",u);var h=(a/2-7)*o.style.normal.fontSize/2;e.attr("position",[-o.shape.width/2-h,-o.shape.height/2])}e.attr("z2",1500)}else c.setStyle("text",e.nodeLabel),c.attr("z2",901),e.setShape("width",o.shape.width),e.attr("position",[-o.shape.width/2,-o.shape.height/2]),e.attr("z2",900)}),n.on("mousemove",function(a){var f=a.offsetX,p=a.offsetY;if(!0===l&&u){var d=r.group.transformCoordToLocal(f,p);e.setShape("x",d[0]),e.setShape("y",d[1]),c.attr("position",[d[0],d[1]-o.style.normal.fontSize/2]),co(s.nodeEdges(e.nodeKey),function(t){var n=s.edge(t).points;if(e.nodeKey===t.w){var i=[d[0]+r.edgeOffsetX,d[1]+r.edgeOffsetY],o=n[n.length-2],a=Math.sqrt(Math.pow(i[0]-o.x,2)+Math.pow(i[1]-o.y,2)),l=(a-h)/a,u=o.x+(i[0]-o.x)*l,c=o.y+(i[1]-o.y)*l;s.setEdge(t.v,t.w,{lineWidth:s.edge(t).lineWidth,label:s.edge(t).label,points:n.map(function(t,e){return e>n.length-2?{x:u,y:c}:t})})}else e.nodeKey===t.v&&s.setEdge(t.v,t.w,{lineWidth:s.edge(t).lineWidth,label:s.edge(t).label,points:n.map(function(t,e){return e<1?{x:d[0]+r.edgeOffsetX,y:d[1]+r.edgeOffsetY}:t})})}),wA.call(r,t,n,s,r.offsetWidth,r.offsetHeight,i.edges)}}),n.on("mouseup",function(){l=!1})}),co(s.edges(),function(t,e){var n,i,o,a=s.edge(t).points;if((n=r.categoryArr,i=[],o={},co(n,function(t){o[t]||(i.push(t),o[t]=1)}),i).length<3)3===a.length&&a.splice(1,1);else{!function t(){if(a.length>2)for(var e=0;e<a.length-1;e+=1)e<a.length-2&&a[e].x===a[e+1].x&&a[e+1].x===a[e+2].x&&(a.splice(e+1,1),t())}()}}),wA.call(this,t,n,s,this.offsetWidth,this.offsetHeight,i.edges)},e}(Hf);function _A(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r>=1&&r<=126||65376<=r&&r<=65439?e++:e+=2}return e}function wA(t,e,n,r,i,o){var a=this,s=t.get("link"),u=t.get("roam"),h=[],c=[],f=[];co(n.edges(),function(e,r){var i,u=Math.max(s.lineWidth[0],n.edge(e).lineWidth*s.lineWidth[1]),p=n.edge(e).points,d=[p[p.length-2].x+a.offsetWidth/2,p[p.length-2].y+a.offsetHeight/2],g=[p[p.length-1].x+a.offsetWidth/2,p[p.length-1].y+a.offsetHeight/2],v=Math.max(s.arrowSize[0],n.edge(e).lineWidth*s.arrowSize[1]),y=Math.sqrt(Math.pow(g[0]-d[0],2)+Math.pow(g[1]-d[1],2)),m=(y-v)/y,x=p.map(function(t,e){return e<p.length-1?[t.x+a.offsetWidth/2,t.y+a.offsetHeight/2]:[d[0]+(g[0]-d[0])*m,d[1]+(g[1]-d[1])*m]});h.push({shape:{points:x},style:l({},s.style.normal,{stroke:function(t){return t.label?s.style.normal.dashFill:s.style.normal.stroke}(o[r].data),lineWidth:u,lineDash:(i=o[r].data.label,i?[5,5]:[0,0])}),edgeData:o[r],z:t.get("z"),z2:880});var _=void 0;g[1]-d[1]>=0?_=Math.asin((g[0]-d[0])/y):g[1]-d[1]<0&&g[0]-d[0]<0?_=-Math.PI/2+Math.asin((g[1]-d[1])/y):g[1]-d[1]<0&&g[0]-d[0]>=0&&(_=Math.PI/2+Math.asin((d[1]-g[1])/y)),c.push({shape:{points:[g,[g[0]+v,g[1]-v],[g[0]-v,g[1]-v]]},style:{fill:function(t){return t?null:s.style.normal.stroke}(o[r].data.label)},z:t.get("z"),z2:880,rotation:_,origin:g}),f.push({style:{text:function(t,e){return"text"===s.label.type?e:t.weight?t.weight+"%":t.label?t.label:""}(o[r].data,n.edge(e).label),fontSize:s.label.fontSize,textFill:s.label.textFill,textAlign:"center"},position:function(t){if(t.length>2){for(var e=void 0,n=void 0,r=0;r<t.length;r+=1)e=(t[t.length-3][0]+t[t.length-2][0])/2,n=(t[t.length-3][1]+t[t.length-2][1])/2;return[e,n]}return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}(x),z:t.get("z"),z2:882,silent:!0})}),this.setShapeGroup("edges",nc,h,void 0,void 0,function(n){u.enable||(n.cursor="default"),n.on("mousedown",function(){e.dispatchAction(t,Of.linkClick,n.edgeData)})}),this.setShapeGroup("arrows",ec,c),this.setShapeGroup("edgeLabel",Yh,f)}function bA(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function SA(t){this._context=t}function kA(t){return new SA(t)}xA.type=$S,qp(XS,xA),SA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:bA(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:bA(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var MA="dagrex",AA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=MA,c(r,n)}return u(e,t),e}(Qf);AA.type=MA,AA.defaultOption={zlevel:0,z:1,isTop:!1,limited:!0,node:{rankStep:80,entireLabel:!1,shape:{width:80,height:30,r:15},style:{normal:{colors:{origin:"rgb(47, 151, 255)",process:"rgba(169, 210, 251)",end:"rgba(43, 87, 194, 1)"},fontSize:14,textFill:"rgb(255, 255 ,255)",stroke:"rgb(47, 151, 255)",lineWidth:1}}},link:{arrowSize:[3,6],lineWidth:[1,3],label:{type:"percent",fontSize:10,textFill:"rgb(47, 151, 255)"},style:{normal:{stroke:"rgb(47, 151, 255)",opacity:.4}}}};var IA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=MA,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r,i,o=this,a=t.getData(),s=a.edges,u=a.nodes,h=(bd(s,function(t){return t.data.weight}),t.get("node")),c=t.get("link"),f=this.g||new vA.graphlib.Graph({multigraph:!0,directed:!0,compound:!0}),p=["click","mouseover","mousemove","mouseout"],d=ao();d.font=c.label.fontSize+"px sans-serif";var g=0;u.forEach(function(t){var e=function(t){for(var e=0,n=0;n<t.length;n++)t.charAt(n)>"~"?e+=2:e++;return e}(t.data.name);g<e&&(g=e)}),this.g||(f.setGraph({nodesep:isNaN(h.nodesep)?4*g:h.nodesep,ranksep:h.rankStep}),f.setDefaultEdgeLabel(function(){return{}}),co(u,function(t){f.setNode(t.data.id,{label:t.data.category,width:h.shape.width+h.style.normal.lineWidth,height:h.shape.height+h.style.normal.lineWidth,newName:t.data.name,group:t.data.group,isRoot:t.data.isRoot,isClick:!0})}),co(s,function(t){f.setEdge(t.data.source,t.data.target,{label:t.data.weight,group:t.data.group})}),vA.layout(f),this.g=f),r=n.getWidth(),i=n.getHeight(),this.maxCategory=bd(u,function(t){return t.data.category}),this.minCategory=kd(u,function(t){return t.data.category}),this.categoryArr=u.map(function(t){return t.data.category}),this.offsetWidth=r-f.graph().width,this.offsetHeight=i-f.graph().height,this.onlyShowNodes=this.onlyShowNodes||f.nodes(),this.onlyShowEdges=this.onlyShowEdges||f.edges();var v=[],y=[],m=function(t,e){return t};co(f.nodes(),function(e,n){var r=f.node(e),i=r.x+o.offsetWidth/2,a=r.y+o.offsetHeight/2,s=void 0,c=void 0,p=void 0;r.isRoot?r.isFillHl?(c=h.style.highlight.solidFill,s=h.style.highlight,p=h.style.highlight.stroke):r.isFill?(c=h.style.normal.solidFill,s=h.style.normal,p=h.style.normal.stroke):(c=h.style.highlight.solidFill,s=h.style.highlight,p=h.style.highlight.stroke):(r.isFillHl?(c=h.style.highlight.solidFill,s=h.style.highlight):r.isFill?(c=h.style.normal.solidFill,s=h.style.normal):(c=h.style.normal.fill,s=h.style.normal),p=r.isHl?h.style.highlight.stroke:h.style.normal.stroke);var d,g,x=1;-1!=o.onlyShowNodes.indexOf(e)||r.isRoot||(x=h.blurOpacity),v.push({shape:{x:i,y:a,width:m(h.shape.width),height:(g=h.shape.height,g),r:r.isRoot?200:(d=h.shape.r,d)},style:l({},s,{opacity:x,fill:c,stroke:p}),position:[-m(h.shape.width)/2,-h.shape.height/2],z:t.get("z"),z2:900,data:u.filter(function(t){return t.data.id==e}),nodeKey:e,nodeLabel:r.newName,isClick:r.isClick}),y.push({style:{opacity:x,text:r.newName,fontSize:h.style.normal.fontSize,textFill:h.style.normal.textFill,textAlign:"center"},position:[i,a-h.style.normal.fontSize/2+30],z:t.get("z"),z2:901,silent:!0})});t.get("limited");function x(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return!0;return!1}function _(t){return f.nodes().filter(function(e){return x(t,f.node(e).group)})}function w(t){return f.edges().filter(function(e){return x(t,f.edge(e).group)})}this.edgeOffsetX=-(r-f.graph().width)/2,this.edgeOffsetY=-(i-f.graph().height)/2,t.getNodes=this.setShapeGroup("nodes",ac,v,void 0,void 0,function(e){p.forEach(function(r){e.on(r,function(e){e.target.data;n.dispatchAction(t,"node_"+r,e),n.dispatchAction(t,zf["node"+r.slice(0,1).toUpperCase()+r.slice(1)],e)})})}),this.setShapeGroup("texts",Yh,y),function(t,e,n,r,i,o){var a=this,u=t.get("link"),h=(t.get("roam"),[]),c=[],f=[];var g=[];co(n.edges(),function(e,r){u.lineWidth;var i=n.edge(e),p=i.isHl,v=i.points,y=[v[v.length-2].x+a.offsetWidth/2,v[v.length-2].y+a.offsetHeight/2],m=[v[v.length-1].x+a.offsetWidth/2,v[v.length-1].y+a.offsetHeight/2],x=Math.max(u.arrowSize[0],u.arrowSize[1]),_=Math.sqrt(Math.pow(m[0]-y[0],2)+Math.pow(m[1]-y[1],2)),w=(_-x)/_,b=void 0;-1==a.onlyShowEdges.indexOf(e)&&(b=u.blurOpacity);var S=p?u.style.highlight:u.style.normal,k=p?u.style.highlight.arrowStroke:u.style.normal.arrowStroke,M=function(t,e){return"text"===u.label.type?e:t.weight?t.weight+"%":t.label?t.label:""}(o[r].data,n.edge(e).label),A=l({},v[1],{width:d.measureText(M).width,height:12});g.forEach(function(t){var e=[A.x,A.y,A.width,A.height],n=[t.x,t.y,t.width,t.height],r=function(t,e,n,r,i,o,a,s){var l;if(r+=e,a+=i,s+=o,(n+=t)<=i||a<=t||r<=o||s<=e)l=[0,0,0,0];else{var u,h;u=i>t?a<n?[i,a]:[i,n]:n<a?[t,n]:[t,a],h=o>e?s<r?[o,s]:[o,r]:r<s?[e,r]:[e,s],l=[u[0],h[0],u[1],h[1]]}return(l[2]-l[0])*(l[3]-l[1])>0}.apply(void 0,e.concat(n));r&&(t.x<=A.x?v[1].x+=t.width:v[1].x-=t.width)}),g.push(A);var I,T=v.map(function(t,e){return e<v.length-1?[t.x+a.offsetWidth/2,t.y+a.offsetHeight/2]:[y[0]+(m[0]-y[0])*w,y[1]+(m[1]-y[1])*w]});f.push({width:d.measureText(M).width,style:{opacity:b,text:M,fontSize:u.label.fontSize,textFill:p?u.label.hlTextFill:u.label.textFill,textAlign:"center"},position:(I=T,[I[1][0],I[1][1]]),z:t.get("z"),z2:882,silent:!0}),h.push({shape:{x:function(t){return t[0]},y:function(t){return t[1]},data:T,percent:1,curve:u.smooth?kA:void 0,defined:function(t){return t}},style:l({},S,{opacity:b,lineDash:[0,0]}),data:s.filter(function(t){return t.data.source==e.v&&t.data.target==e.w}),z:t.get("z"),z2:880});var C=void 0;m[1]-y[1]>=0?C=Math.asin((m[0]-y[0])/_):m[1]-y[1]<0&&m[0]-y[0]<0?C=-Math.PI/2+Math.asin((m[1]-y[1])/_):m[1]-y[1]<0&&m[0]-y[0]>=0&&(C=Math.PI/2+Math.asin((y[1]-m[1])/_)),c.push({shape:{points:[m,[m[0]+x,m[1]-x],[m[0]-x,m[1]-x]]},style:{fill:k,opacity:b},z:t.get("z"),z2:880,rotation:C,origin:m})}),this.setShapeGroup("edges",Cc,h,void 0,function(n){p.forEach(function(r){n.on(r,function(n){n.target.data;e.dispatchAction(t,"edge_"+r,n),e.dispatchAction(t,zf["edge"+r.slice(0,1).toUpperCase()+r.slice(1)],n)})})}),this.setShapeGroup("arrows",ec,c),this.setShapeGroup("edgeLabel",Yh,f)}.call(this,t,n,f,this.offsetWidth,this.offsetHeight,a.edges),t.highlightNode=function(e){f.node(e).isHl=!0,t.dirty()},t.unHighlightNode=function(e){f.node(e).isHl=!1,t.dirty()},t.fillNode=function(e){f.node(e).isFill=!0,t.dirty()},t.unFillNode=function(e){f.node(e).isFill=!1,t.dirty()},t.highlightEdge=function(e){var n=f.edge(e),r=f.node(e.v),i=f.node(e.w);n.isHl=!0,r.isHl=!0,i.isHl=!0,t.dirty()},t.unHighlightEdge=function(e){var n=f.edge(e),r=f.node(e.v),i=f.node(e.w);n.isHl=!1,r.isHl=!1,i.isHl=!1,t.dirty()},t.highlightGroup=function(e,n){var r=_(e),i=void 0;i=n?w(e):f.edges().filter(function(t){return r.indexOf(t.v)>=0&&r.indexOf(t.w)>=0}),co(r,function(t){return f.node(t).isHl=!0}),co(i,function(t){return f.edge(t).isHl=!0}),t.dirty()},t.unHighlightGroup=function(e,n){var r=_(e);co(r,function(t){return f.node(t).isHl=!1});co(n?w(e):f.edges().filter(function(t){return r.indexOf(t.v)>=0&&r.indexOf(t.w)>=0}),function(t){return f.edge(t).isHl=!1}),t.dirty()},t.showGroup=function(e,n){var r=_(e),i=void 0;o.onlyShowNodes=r,i=n?w(e):f.edges().filter(function(t){return r.indexOf(t.v)>=0&&r.indexOf(t.w)>=0}),o.onlyShowEdges=i,f.nodes().forEach(function(t){var e=f.node(t);r.indexOf(t)>=0?(e.isHl=!0,e.isFillHl=!0):(e.isHl=!1,e.isFillHl=!1)}),f.edges().forEach(function(t){var e=f.edge(t);i.indexOf(t)>=0?e.isHl=!0:e.isHl=!1}),t.dirty()},t.hideGroup=function(e){var n=f.nodes().filter(function(t){return-1==e.indexOf(f.node(t).group[0])});o.onlyShowNodes=n;var r=f.edges().filter(function(t){return n.indexOf(t.v)>=0&&n.indexOf(t.w)>=0});o.onlyShowEdges=r,t.dirty()},t.reset=function(){co(f.nodes(),function(t){var e=f.node(t);e.isHl=!1,e.isFillHl=!1,e.isFill=!1}),co(f.edges(),function(t){f.edge(t).isHl=!1}),o.onlyShowNodes=null,o.onlyShowEdges=null,t.dirty()}},e}(Hf);IA.type=MA,qp(AA,IA);var TA="orgchart",CA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=TA,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this,e=this.getData(),n=void 0;if(this.g)n=this.g;else{(n=new vA.graphlib.Graph({multigraph:!0,directed:!0,compound:!0})).setGraph({rankdir:"LR",nodesep:this.get("nodeStep"),ranksep:this.get("rankStep")}),n.setDefaultEdgeLabel(function(){return{}});var r=function(n,r){var i=!1;co(e.edges,function(t){n.data.name===t.data.source&&(i=!0)});var o,a,s=n.data.color,l=n.data.stroke,u=n.data.textFill,h=n.data.clickable,c=n.data.nodeData;r.setNode(n.data.id,{label:n.data.category+"-"+i,width:t.get("node").shape.width,height:(o=n.data.height,a=t.get("node").shape.height,o||a),color:s,stroke:l,textFill:u,clickable:h,nodeData:c,paddingY:function(t,e){if(t)return(t-e)/2}(n.data.height,t.get("node").shape.height)})};this.splitNameArr=[],this.nameMap={},co(e.nodes,function(e){e.data.category<t.get("node").hierarchy&&(r(e,n),t.splitNameArr.push(e.data.name),t.nameMap[e.data.id]=e.data.name)}),co(e.edges,function(e){if(e.data.category<t.get("node").hierarchy){var r=n.node(e.data.target);n.setEdge(e.data.source,e.data.target,{label:"edges",paddingY:r.paddingY})}}),vA.layout(n);this.finalScale=function(e){var n=e.graph().width/t.global.getWidth(),r=e.graph().height/t.global.getWidth();return 1.2*Math.max(n,r)}(n),this.g=n,this.bg=new vA.graphlib.Graph({multigraph:!0,directed:!0,compound:!0}),this.bg.setGraph({rankdir:"LR",nodesep:5,ranksep:200}),this.bg.setDefaultEdgeLabel(function(){return{}}),co(e.nodes,function(e){r(e,t.bg)}),co(e.edges,function(e){t.bg.setEdge(e.data.source,e.data.target,{label:"edges"})}),vA.layout(this.bg)}},e}(Qf);CA.type=TA,CA.defaultOption={zlevel:0,z:1,offset:[0,0],scale:1.2,rankStep:200,nodeStep:15,eventId:"EVENT",node:{colors:["#3F48FF","rgb(150, 150, 150)","#3F96FF","#996699","rgb(102, 51, 153)"],hierarchy:3,isTextLength:!1,shape:{symbolType:"circle",r:0,width:20,height:10},style:{normal:{shadowBlur:0,shadowColor:"rgb(255, 0, 0)",fontSize:10,shadowOffsetX:3,stroke:"#000",lineWidth:1},emphasis:{}}},link:{arrowSize:[1,5],lineWidth:[1,5],label:{fontSize:12,textFill:"rgb(102, 102, 102)"},style:{normal:{stroke:"#cccccc",opacity:.7},emphasis:{}}},roam:{enable:!0}};var EA=void 0,zA=void 0,LA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=TA,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.getData(),o=t.get("node");this.w=n.getWidth(),this.h=n.getHeight();var a=t.get("scale"),s=t.get("roam").enable;a?(EA=this.w-t.g.graph().width,zA=this.h-t.g.graph().height):(EA=0,zA=0);var u=[],h=[],c=t.get("node").isTextLength;co(t.g.nodes(),function(e,n){var r,i,a,f=t.g.node(e),p=f.x+EA/2,d=f.y+zA/2-(f.paddingY||0),g=t.nameMap[e];u.push({shape:{symbolType:o.shape.symbolType,x:p,y:d,width:function(t,e,n,r){if(t)return-1===escape(r).indexOf("%u")?r.length/2*n+1.5*n:r.length*n+n;return e}(c,o.shape.width,o.style.normal.fontSize,g),height:o.shape.height,r:o.shape.r},style:l({},o.style.normal,{fill:(i=f.color,a=o.colors[f.label.split("-")[0]],i||a),shadowOffsetX:(r=f.label.split("-")[1],"true"===r?o.style.normal.shadowOffsetX:0),stroke:function(t,e){return t||e}(f.stroke,o.style.normal.stroke)}),position:[-o.shape.width/2,-o.shape.height/2],z:t.get("z"),z2:998,silent:function(t,e){return!(t||s&&"true"===e)}(f.clickable,f.label.split("-")[1]),nodeKey:e,group:t.g.node(e).label,key:e,nodeData:f.nodeData}),h.push({style:{text:g,fontSize:o.style.normal.fontSize,textFill:function(t,e){return t||e}(f.textFill,o.colors[f.label.split("-")[0]]),textAlign:"left"},position:[p-o.shape.width/2+o.style.normal.fontSize/2,d-o.style.normal.fontSize/2],z:t.get("z"),z2:999,silent:!0,nodeName:e,key:e})}),this.setShapeGroup("nodes",lp,u,{animation:!0,animateList:{shape:{x:0,y:0}}},void 0,function(e,r){e.shape.width;var i=t.g.successors(e.nodeKey);e.open=i.length>0,e.on("mousedown",function(){var r=t.get("eventId");n.dispatchAction(t,r,e.nodeData);t.get("expandAndCollaspe")&&(e.open?function(){var n=new vA.graphlib.alg.dijkstra(t.g,e.nodeKey),r=function(e){n[e].predecessor&&(co(t.splitNameArr,function(n,r){n===e&&t.splitNameArr.splice(r,1)}),t.g.removeNode(e))};for(var i in n)r(i)}():co(t.bg.successors(e.nodeKey),function(n){t.splitNameArr.push(n),t.g.setNode(n,t.bg.node(n)),t.g.setEdge(e.nodeKey,n,{label:"edges"})}),e.open=!e.open,vA.layout(t.g),t.dirty())})}),this.setShapeGroup("nodeLabels",Yh,h,{animation:!0,animateList:{position:[0,0]}}),function(t,e,n,r){var i=this,o=t.get("link"),a=[],s=[];co(t.g.edges(),function(e,u){var h=t.g.edge(e).points;if(t.g.edge(e).paddingY){var c=t.g.edge(e).points;i[u]||(c[c.length-1].y-=t.g.edge(e).paddingY,c[c.length-2].y-=t.g.edge(e).paddingY),i[u]=!0}var f=[h[h.length-2].x+n/2,h[h.length-2].y+r/2],p=[h[h.length-1].x+n/2,h[h.length-1].y+r/2],d=o.arrowSize,g=Math.sqrt(Math.pow(p[0]-f[0],2)+Math.pow(p[1]-f[1],2)),v=h.map(function(t){return[t.x+n/2,t.y+r/2]});a.push({shape:{points:v},style:l({},o.style.normal),z:t.get("z"),z2:997,key:e.v+e.w,silent:!0});var y=void 0;p[1]-f[1]>=0?y=Math.asin((p[0]-f[0])/g):p[1]-f[1]<0&&p[0]-f[0]<0?y=-Math.PI/2+Math.asin((p[1]-f[1])/g):p[1]-f[1]<0&&p[0]-f[0]>=0&&(y=Math.PI/2+Math.asin((f[1]-p[1])/g)),s.push({shape:{points:[p,[p[0]+d,p[1]-d],[p[0]-d,p[1]-d]]},style:{fill:o.style.normal.stroke},z:t.get("z"),z2:997,rotation:y,origin:p,key:e.w+e.v,silent:!0})}),this.setShapeGroup("edges",nc,a,{animation:!0,animateList:{shape:{points:[[0,0],[0,0],[0,0]]}}}),this.setShapeGroup("arrows",ec,s,{animation:!0,animateList:{shape:{points:[[0,0],[0,0],[0,0]]},origin:[0,0]}})}.call(this,t,n,EA,zA,i.edges);var f=t.get("offset");if(a)(function(t){var e=t.get("scale");this.group.scale=[1,1],this.group.position=[0,0];var n=this.group.getBoundingRect(),r=n.width/this.w,i=n.height/this.h,o=(1/(Math.max(r,i)*e)-1)/.1,a=.5*this.w,s=.5*this.h;t.option.isTop&&(s=0,this.group.position[1]=10-n.y);this.scale(a,s,o)}).call(this,t);else{this.group.scale=[1,1];var p=this.group.getBoundingRect(),d=f[0],g=f[1];this.group.position=[-p.x+d,-p.y+g];var v=(1/(p.width/this.w*1.1)-1)/.1;this.scale(0,0,v)}s||(n.on("mousedown",function(t){var e=t.offsetX,n=t.offsetY,i=t.target,o=r.group;o&&!i&&(r._isMove=!0,r.startX=e,r.startY=n,r.startPosition=[o.position[0],o.position[1]],r.initY,r.initY||(r.initY=r.group.position[1]))}),n.on("mousemove",function(t){t.offsetX;var e=t.offsetY;if(r._isMove){var n=r.group,i=r.group.getBoundingRect();n.attr({position:[r.startPosition[0],r.startPosition[1]+e-r.startY]}),n.position[1]>r.initY&&n.attr({position:[r.startPosition[0],r.initY]}),n.position[1]<r.initY+r.h-i.height*r.group.scale[1]&&n.attr({position:[r.startPosition[0],r.initY+r.h-i.height*r.group.scale[1]-f[1]*r.group.scale[1]]})}}),n.on("mouseup",function(){r._isMove=!1}))},e}(Hf);LA.type=TA,qp(CA,LA);var OA="pieRelation",DA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=OA,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this,e=this.getData(),n=(this.get("cluster"),void 0);if(this.g)n=this.g;else{(n=new vA.graphlib.Graph({multigraph:!0,directed:!0,compound:!0})).setGraph({rankdir:"LR",nodesep:this.get("node").paddingX,ranksep:this.get("node").rankPadding}),n.setDefaultEdgeLabel(function(){return{}}),this.splitNameArr=[],co(e.nodes,function(e){n.setNode(e.data.id,{label:e.data.id,group:e.data.category,width:t.get("node").paddingY,height:t.get("node").paddingX,proportion:e.data.proportion}),t.splitNameArr.push(e.data.name)}),co(e.edges,function(t){n.setEdge(t.data.source,t.data.target,{label:"edges"})}),vA.layout(n);this.finalScale=function(e){var n=e.graph().width/t.global.getWidth(),r=e.graph().height/t.global.getWidth();return 1.2*Math.max(n,r)}(n),this.g=n}},e}(Qf);DA.type=OA,DA.defaultOption={zlevel:0,z:1,node:{colors:["#3F48FF","rgb(150, 150, 150)","#3F96FF","#996699","rgb(102, 51, 153)"],paddingX:5,paddingY:30,rankPadding:200,shape:{r:30,piePadding:5},style:{normal:{fontSize:10},emphasis:{}}},link:{arrowSize:5,lineWidth:5,label:{fontSize:12,textFill:"rgb(102, 102, 102)"},style:{normal:{stroke:"#000",opacity:.7},emphasis:{}}}};var PA=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=OA,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=this,i=t.getData(),o=t.get("node");t.get("cluster");if(this.w=n.getWidth(),this.h=n.getHeight(),!this.isRender){var a=(1/t.finalScale-1)/.1,s=this.w/2,u=this.h/2;this.scale(s,u,a)}this.isRender=!0;var h=this.w-t.g.graph().width,c=this.h-t.g.graph().height;(function(t,e,n,r){var i=this,o=t.get("link");t.get("roam");co(t.g.edges(),function(e,a){o.lineWidth;var s=t.g.edge(e).points,u=[s[s.length-2].x+n/2,s[s.length-2].y+r/2],h=[s[s.length-1].x+n/2,s[s.length-1].y+r/2],c=o.arrowSize,f=Math.sqrt(Math.pow(h[0]-u[0],2)+Math.pow(h[1]-u[1],2)),p=(f-c)/f,d=s.map(function(t,e){return e<s.length-1?[t.x+n/2,t.y+r/2]:[u[0]+(h[0]-u[0])*p,u[1]+(h[1]-u[1])*p]});i.setShape(e.v+e.w,nc,{shape:{points:d},style:l({},o.style.normal),z:t.get("z"),z2:997,key:e.v+e.w,silent:!0});var g=void 0;h[1]-u[1]>=0?g=Math.asin((h[0]-u[0])/f):h[1]-u[1]<0&&h[0]-u[0]<0?g=-Math.PI/2+Math.asin((h[1]-u[1])/f):h[1]-u[1]<0&&h[0]-u[0]>=0&&(g=Math.PI/2+Math.asin((u[1]-h[1])/f)),i.setShape(e.w+e.v,ec,{shape:{points:[h,[h[0]+c,h[1]-c],[h[0]-c,h[1]-c]]},style:{fill:o.style.normal.stroke},z:t.get("z"),z2:997,rotation:g,origin:h,key:e.w+e.v,silent:!0})})}).call(this,t,n,h,c,i.edges),co(t.g.nodes(),function(e,n){var i=t.g.node(e),a=i.x+h/2,s=i.y+c/2;r.setShape(i.label,$h,{shape:{cx:a,cy:s,r:o.shape.r},style:l({},o.style.normal,{fill:o.colors[i.group]}),z:t.get("z"),z2:998,silent:!0,group:t.g.node(e).label,key:e}),r.setShape(i.label+"label",Yh,{style:{text:t.splitNameArr[n],fontSize:o.style.normal.fontSize,textFill:o.colors[i.group],textAlign:"left"},position:[a+o.shape.r,s-o.style.normal.fontSize/2],z:t.get("z"),z2:999,silent:!0,nodeName:e,key:e});var u=i.proportion,f=[],p=0;for(var d in u)p+=u[d],f.push(p);for(var g=[0],v=0;v<f.length;v+=1)v<f.length-1&&g.push(f[v]);co(g,function(e,n){r.setShape(i.label+"pie"+n,cd,{shape:{outerRadius:o.shape.r-o.shape.piePadding,innerRadius:0,startAngle:e*Math.PI*2,endAngle:f[n]*Math.PI*2},position:[a,s],style:{fill:o.pieColors[n]},z:t.get("z"),z2:998,silent:!0})})})},e}(Hf);PA.type=OA,qp(DA,PA);var FA=pd(function(t){return t&&-t[1]}).right,NA="axis",RA=!1,BA=void 0,WA=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=NA,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){var r=t.getGridModels(),i=t.getAxisType(),o=t.get("xOrY"),a=t.get("position"),s=void 0,l=[],u=!0,h=e.getComponentByIndex("dataZoom",t.get("$dataZoomIndex"));function c(){if(!u){if(clearTimeout(BA),RA=!1,"continuous"===i)n.dispatchAction(t,wf.out,{});else{var e=t.getLastData();n.dispatchAction(t,wf.out,{lastIndex:s,lastDataIndex:t.endIndex,lastData:e}),s=void 0}u=!0}}(n.on("mousemove",function(e){if(!n.isEnableEdit&&!n.isEnableSketch){var o=e.offsetX,l=e.offsetY,h=!1,f=t.get("ifTriggerMove");if(co(r,function(t){t.isPointInGrid(o,l)&&(h=!0)}),h){if("continuous"===i){var p=t.scale.invert("bottom"===a||"top"===a?o:l);n.dispatchAction(t,wf.move,{e:e,axisData:p}),n.dispatchAction(t,"",{e:e,axisData:p})}else{var d=t.getIndexByOffset(o,l);if("number"==typeof d){var g=t.getMoveDataByIndex(d,s);g.e=e,g.lastIndex=s,isNaN(g.pos)||f&&!f(g)||n.dispatchAction(t,wf.move,g),0==RA&&(BA=setTimeout(function(){n.dispatchAction(t,"AXIS_LONG_CLICK",g)},300),RA=!0)}}u=!1}else u||c()}}),n.on("globalout",c),n.on("mouseup",c),"x"===o)&&(t.get("ifTriggerHighlight")&&(n.registerAction(t,wf.move,function(r){var o=r.e,a=r.index,u=(r.axisData,e.getSeriesByAxis(t.index)),h=t.get("position"),c="left"===h||"right"===h;if("continuous"===i){var f=o.offsetX,p=o.offsetY;co(u,function(t){if("line"===t.get("type")){var r=n.getViewOfComponentModel(t),i=t.points,o=c?FA(i,-p):function(t,e){var n=void 0;for(n=0;n<t.length&&!(null!==t[n]&&e<t[n][0]);n++);return n}(i,f);i[--o]&&r.highlight(t,e,n,{index:o,startIndex:0})}})}else s!==a&&co(u,function(r){var i=n.getViewOfComponentModel(r);void 0!==s&&i.downplay(r,e,n,{index:s+t.startIndex,startIndex:t.startIndex}),void 0!==a&&i.highlight(r,e,n,{index:t.startIndex+a,startIndex:t.startIndex})}),s=a;l=u}),n.registerAction(t,wf.out,function(r){var i=r.lastIndex;co(l,function(r){n.getViewOfComponentModel(r).downplay(r,e,n,{index:t.startIndex+i,startIndex:t.startIndex})}),l=[]})),h&&n.registerAction(h,Mf.change,function(){n.dispatchAction(t,wf.out,{lastIndex:s}),s=void 0}))},e.prototype.render=function(t,e,n){var r=t.get("splitArea"),i=t.get("splitLine"),o=t.get("axisName"),a=t.axis,s=t.scale,u=t.get("position"),h=t.get("animation"),c=t.get("animationDuration"),f=t.get("animationEasing");t.get("cursor");if(t.axis(this,t,e,n),r&&r.show){var p=s.domain(),d=s.range(),g=void 0,v=r.style.color,y=r.onRect,m=(t.get("$gridIndex"),e.getComponent("grid",function(e){var n=t.get("$gridIndex");return mo(n)?n.indexOf(e.index)>-1:n===e.index})),x="band"===t.get("type"),_=void 0,w=void 0,b=void 0,S=[];if(x){var k=s.step();g=p,_=k*s.paddingInner(),w=k*s.paddingOuter(),b=s.bandwidth()}else g=a.values();for(var M=g.length,A=0;A<m.length;A++)for(var I=m[A].position,T=I.left,C=I.top,E=I.width,z=I.height,L=0,O=M;L<O;L++){var D=void 0,P=void 0,F=void 0;x?(F=s(g[L])+b,y||(F+=L===M-1?Math.min(_/2,w):_/2),"left"===u||"right"===u?(D=T,P=s(g[L]),y||(P-=0===L?Math.min(_/2,w):_/2),z=F-P):(D=s(g[L]),P=C,y||(D-=0===L?Math.min(_/2,w):_/2),E=F-D)):(F=L===M-1?d[1]:s(g[L+1]),"left"===u||"right"===u?(D=T,P=F,z=s(g[L])-P):(P=C,E=F-(D=s(g[L])))),S.push({shape:{x:D,y:P,width:E,height:z},style:{fill:mo(v)?v[L%v.length]:v},silent:!0,key:g[L]+"_"+A,z2:-1})}this.setShapeGroup("areaGroup",ac,S,{animation:h,duration:c,easing:f,animateList:{shape:{x:0,y:0,width:0,height:0}}})}if(i&&i.show){for(var N=a.values(),R=i.style,B=e.getComponent("grid",function(e){var n=t.get("$gridIndex");return mo(n)?n.indexOf(e.index)>-1:n===e.index}),W=[],j=s.bandwidth?s.bandwidth()/2:0,G=0;G<B.length;G++)for(var H=B[G].position,U=H.left,q=H.top,V=H.right,Y=H.bottom,$=0,X=N.length;$<X;$++){var K={},Z=s(N[$])+j,Q={};R.color;if(K="left"===u||"right"===u?{x1:U,y1:Z,x2:V,y2:Z}:{x1:Z,y1:q,x2:Z,y2:Y},xo(R))Q=R(N[$],$);else{var J=R.color;Q=l({},R,{stroke:mo(J)?J[$%J.length]:J})}W.push(Fc({shape:K,style:Q,silent:!0,key:N[$]+"_"+G,z2:-1}))}this.setShapeGroup("splitLine",lc,W,{animation:h,duration:c,easing:f,animateList:{shape:{x1:0,y1:0,x2:0,y2:0}}})}if(o.show){var tt=o.offset,et=o.location,nt=o.vertical,rt=void 0,it=void 0,ot=void 0,at=o.text,st=s.range(),lt=void 0,ut=a.linePos();switch(et){case"start":lt=st[0];break;case"middle":case"center":lt=(st[0]+st[1])/2;break;case"end":lt=st[1]}"left"===u||"right"===u?(rt=[ut+tt[0],lt+tt[1]],it="center",ot="start"===et?"top":"end"===et?"bottom":"center"):(rt=[lt+tt[0],ut+tt[1]],it="start"===et?"right":"end"===et?"left":"center",ot="center"),nt&&(at=at.split("").join("\n")),this.setShape("name",Yh,e.getFormattedText({style:l({text:at,textAlign:it,textVerticalAlign:ot},o.style),scale:o.scale,rotation:o.rotate/180*Math.PI,position:rt,silent:!0}))}},e}(Uf);WA.type=NA;var jA=1e3,GA=60*jA,HA=60*GA,UA=24*HA,qA=7*UA,VA=30*UA,YA=365*UA;function $A(t){return new Date(t)}function XA(t){return t instanceof Date?+t:+new Date(+t)}var KA={linear:_v,point:function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Bd().paddingInner(1))},band:Bd,time:function(){return function t(e,n,r,i,o,a,s,l,u){var h=iv(tv,Vg),c=h.invert,f=h.domain,p=u(".%L"),d=u(":%S"),g=u("%I:%M"),v=u("{I|%I} {p|%p}"),y=u("{m|%m}-{d|%d}"),m=u("{m|%m}-{d|%d}"),x=u("{m|%m}"),_=u("{Y|%Y}"),w=[[s,1,jA],[s,5,5*jA],[s,15,15*jA],[s,30,30*jA],[a,1,GA],[a,5,5*GA],[a,15,15*GA],[a,30,30*GA],[o,1,HA],[o,3,3*HA],[o,6,6*HA],[o,12,12*HA],[i,1,UA],[i,2,2*UA],[r,1,qA],[n,1,VA],[n,3,3*VA],[e,1,YA]];function b(t){return(s(t)<t?p:a(t)<t?d:o(t)<t?g:i(t)<t?v:n(t)<t?r(t)<t?y:m:e(t)<t?x:_)(t)}function S(t,n,r,i){if(null==t&&(t=10),"number"==typeof t){var o=Math.abs(r-n)/t,a=pd(function(t){return t[2]}).right(w,o);a===w.length?(i=wd(n/YA,r/YA,t),t=e):a?(i=(a=w[o/w[a-1][2]<w[a][2]/o?a-1:a])[1],t=a[0]):(i=wd(n,r,t),t=l)}return null==i?t:t.every(i)}return h.invert=function(t){return new Date(c(t))},h.domain=function(t){return arguments.length?f(Pd.call(t,XA)):f().map($A)},h.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=S(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},h.tickFormat=function(t,e){return null==e?b:u(e)},h.nice=function(t,e){var n=f();return(t=S(t,n[0],n[n.length-1],e))?f(wv(n,t)):h},h.copy=function(){return rv(h,t(e,n,r,i,o,a,s,l,u))},h}(ay,iy,Uv,jv,Bv,Nv,Pv,zv,Ry).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},log:function t(){var e=iv(bv,Sv).domain([1,10]),n=e.domain,r=10,i=Av(10),o=Mv(10);function a(){return i=Av(r),o=Mv(r),n()[0]<0&&(i=Iv(i),o=Iv(o)),e}return e.base=function(t){return arguments.length?(r=+t,a()):r},e.domain=function(t){return arguments.length?(n(t),a()):n()},e.ticks=function(t){var e,a=n(),s=a[0],l=a[a.length-1];(e=l<s)&&(f=s,s=l,l=f);var u,h,c,f=i(s),p=i(l),d=null==t?10:+t,g=[];if(!(r%1)&&p-f<d){if(f=Math.round(f)-1,p=Math.round(p)+1,s>0){for(;f<p;++f)for(h=1,u=o(f);h<r;++h)if(!((c=u*h)<s)){if(c>l)break;g.push(c)}}else for(;f<p;++f)for(h=r-1,u=o(f);h>=1;--h)if(!((c=u*h)<s)){if(c>l)break;g.push(c)}}else g=xd(f,p,Math.min(p-f,d)).map(o);return e?g.reverse():g},e.tickFormat=function(t,n){if(null==n&&(n=10===r?".0e":","),"function"!=typeof n&&(n=gv(n)),t===1/0)return n;null==t&&(t=10);var a=Math.max(1,r*t/e.ticks().length);return function(t){var e=t/o(Math.round(i(t)));return e*r<r-.5&&(e*=r),e<=a?n(t):""}},e.nice=function(){return n(wv(n(),{floor:function(t){return o(Math.floor(i(t)))},ceil:function(t){return o(Math.ceil(i(t)))}}))},e.copy=function(){return rv(e,t().base(r))},e}},ZA=Array.prototype.slice;function QA(t){return t}var JA=1,tI=2,eI=3,nI=4;function rI(t,e){return[t,e]}function iI(t,e){return[e,t]}function oI(t,e){var n,r=[],i=null,o=null,a=!1,s=!1,u=t===JA||t===nI?-1:1,h=t===nI||t===tI?"x":"y",c=t===JA||t===eI?rI:iI,f=t===tI?"left":t===nI?"right":"center",p=t===JA?"bottom":t===eI?"top":"middle",d={show:!0},g={show:!0,outerSize:6,innerSize:0},v={show:!0,padding:3,rotation:Math.PI/6},y=200;function m(r,i,o,a){var s=m.values(),x=m.format(),_=e.range(),w=Math.min(_[0],_[_.length-1]),b=Math.max(_[0],_[_.length-1]),S=(e.step?function(t){return function(e,n){var r,i=t.range();return r=!1===n?Math.max(0,t.paddingInner?t.step()*(1-t.paddingInner()/2):t.step()/2):Math.max(0,t.bandwidth?t.bandwidth():t.step())/2,t.round()&&(r=Math.round(r)),i[0]<i[1]?Math.min(Math.max(t(e)+r,i[0]),i[1]):Math.max(Math.min(t(e)+r,i[0]),i[1])}}:QA)(e.copy()),k=g.outerSize,M=g.innerSize,A=(v.inside,v.padding),I=v.vertical,T=y,C=i.getAxisType(),E=e.domain(),z=i.get("animation"),L=i.get("animationDuration"),O=i.get("animationEasing"),D=i.get("cursor");n=y;var P=s.length;if(d.show){var F;if(d.onZero){var N=o.getComponentByIndex("axis",d.onZeroAxisIndex);if(N){var R=N.scale,B=R.domain();if(B[0]<0||B[1]<0){var W=i.get("$gridIndex");mo(W)&&(W=W[0]);var j=i.get("position"),G=N.scale.range();switch(n=R(0),j){case"left":case"right":n=Math.max(Math.min(G[1],n),G[0]);break;case"top":case"bottom":n=Math.max(Math.min(G[0],n),G[1])}}}}F=t===nI||t==tI?{x1:n,y1:w,x2:n,y2:b}:{x1:w,y1:n,x2:b,y2:n},r.setShape("line",lc,Fc({shape:F,style:d.style,z2:1,silent:!0}),{animation:z,duration:L,easing:O,animateList:{shape:{x1:0,y1:0,x2:0,y2:0}}})}if(g.show){var H,U=[],q={shape:l({x1:0,y1:0,x2:0,y2:0},(H={},H[h+"1"]=u*k,H[h+"2"]=-u*M,H)),style:g.style};g.onCenter||"ordinal"!==C||(U.push(Fc(l({},to(q),{position:c(w,n),key:-1,silent:!0}))),U.push(Fc(l({},to(q),{position:c(b,n),key:P,silent:!0}))));for(var V=0;V<P&&(g.onCenter||V!==P-1||"ordinal"!==C||E[E.length-1]!==s[V]);V++)U.push(Fc(l({},to(q),{position:c(S(s[V],g.onCenter),n),key:V,silent:!0})));r.setShapeGroup("tickGroup",lc,U,{animation:z,duration:L,easing:O,animateList:{position:[0,0]}})}if(v.show){var Y=[],$=null;v.followLine&&(T=n);var X=i.get("position"),K=i.interval;if(v.truncate&&e.step&&K){var Z=e.step()*K;$="top"===X||"bottom"===X?{outerWidth:Z}:{outerHeight:Z}}for(var Q=0;Q<P;Q++){var J=x(s[Q],Q,P),tt=c(S(s[Q]),T),et=f,nt=p;I&&(J=J.split("").join("\n")),v.inRange&&(t===nI||t===tI?0===Q?s[Q]===E[0]&&(nt="bottom")&&(tt[1]=b):Q===P-1&&s[Q]===E[E.length-1]&&(nt="top")&&(tt[1]=w):0===Q?s[Q]===E[0]&&(et="left")&&(tt[0]=w):Q===P-1&&s[Q]===E[E.length-1]&&(et="right")&&(tt[0]=b)),v.inside&&(t===nI||t===tI?et="left":nt="bottom"),tt["x"===h?0:1]+=u*A*(v.inside?-1:1);var rt=v.style;rt=xo(rt)?rt(s[Q],Q,tt,s):rt,Y.push(o.getFormattedText({style:l({text:J,textVerticalAlign:nt,textAlign:et},rt,{textOrign:"center",truncate:$}),scale:v.scale||[1,1],position:tt,rotation:v.rotate/180*Math.PI,key:s[Q],cursor:D,z2:10,silent:!0}))}r.setShapeGroup("labelGroup",Yh,Y,{animation:z,duration:L,easing:O,animateList:{position:[0,0]}})}}return n=y,m.values=function(){if(i)return i;if(e.ticks){var t=e.ticks.apply(e,r),n=e.domain(),o=t.length,l=Math.abs(n[1]-n[0])/o;return s&&(Math.abs(t[t.length-1]-n[1])<l/3&&t.pop(),-1===t.indexOf(n[1])&&t.push(n[1])),a&&(Math.abs(t[0]-n[0])<l/3&&t.shift(),-1===t.indexOf(n[0])&&t.unshift(n[0])),t}return e.domain()},m.axisLine=function(t){return arguments.length?(d=t,m):y},m.axisTick=function(t){return arguments.length?(g=t,m):y},m.axisLabel=function(t){return arguments.length?(v=t,m):y},m.pos=function(t){return arguments.length?(y=t,m):y},m.scale=function(t){return arguments.length?(e=t,m):e},m.ticks=function(){return r=ZA.call(arguments),m},m.tickArguments=function(t){return arguments.length?(r=null==t?[]:ZA.call(t),m):r.slice()},m.tickValues=function(t){return arguments.length?(i=null==t?null:ZA.call(t),m):i&&i.slice()},m.tickFormat=function(t){return arguments.length?(o=t,m):o},m.alwaysShowFirst=function(t){return arguments.length?(a=t,m):a},m.alwaysShowLast=function(t){return arguments.length?(s=t,m):s},m.linePos=function(){return n},m.format=function(t,n,i){var o=v.formatter?v.formatter:e.tickFormat?e.tickFormat.apply(e,r):QA;return arguments.length?o(t,n,i):o},m}function aI(t){return oI(JA,t)}function sI(t){return oI(tI,t)}function lI(t){return oI(eI,t)}function uI(t){return oI(nI,t)}function hI(t){var e=t.toString().split(/[eE]/),n=(e[0].split(".")[1]||"").length-+(e[1]||0);return n>0?n:0}function cI(t){if(-1===t.toString().indexOf("e"))return Number(t.toString().replace(".",""));var e=hI(t);return e>0?t*Math.pow(10,e):t}function fI(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(n.length>0)return fI.apply(void 0,[fI(t,e),n[0]].concat(n.slice(1)));var i=cI(t),o=cI(e),a=hI(t)+hI(e);return i*o/Math.pow(10,a)}function pI(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return n.length>0?pI.apply(void 0,[pI(t,e),n[0]].concat(n.slice(1))):fI(cI(t)/cI(e),Math.pow(10,hI(e)-hI(t)))}var dI={strip:function(t,e){return void 0===e&&(e=12),+parseFloat(t.toPrecision(e))},plus:function t(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(r.length>0)return t.apply(void 0,[t(e,n),r[0]].concat(r.slice(1)));var o=Math.pow(10,Math.max(hI(e),hI(n)));return(fI(e,o)+fI(n,o))/o},minus:function t(e,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(r.length>0)return t.apply(void 0,[t(e,n),r[0]].concat(r.slice(1)));var o=Math.pow(10,Math.max(hI(e),hI(n)));return(fI(e,o)-fI(n,o))/o},times:fI,divide:pI,round:function(t,e){var n=Math.pow(10,e);return pI(Math.round(fI(t,n)),n)},digitLength:hI,float2Fixed:cI},gI="axis",vI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=gI,c(r,n)}return u(e,t),e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&(df(e,"axisName.style.fill",e.color),df(e,"label.style.fill",e.color),df(e,"tick.style.stroke",e.color),df(e,"line.style.stroke",e.color))},e.prototype.getScale=function(){var t=this.get("type"),e=this.scale;return e||(this.scale=e=KA[t]()),e},e.prototype.updateBySelf=function(){var t=this._option,e=t.type,n=t.position,r=t.splitNumber,i=t.$dataZoomIndex,o=(t.xOrY,t.domainFormatter),a=t.start,s=t.end,l=t.nice,u=t.min,h=t.max,c=t.fitMin,f=t.fitMax,p=t.alwaysShowFirst,d=t.alwaysShowLast,g=t.intervalLength,v=t.interval,y=t.tickValues,m=t.filterHide,x=t.domainScale,_=t.offset,w=t.domainEqualZero,b=t.space,S=this.globalModel,k=this.global,M=(S.getSeriesByAxis(this.index,m),this.axis),A=this.getScale(),I=void 0,T=[],C=void 0,E=S.getComponentByIndex("dataZoom",i),z=this.getGridModels()[0],L=z.position,O=L.left,D=L.top,P=L.bottom,F=L.right,N=L.width,R=L.height,B=this.get("label"),W=(B.style,B.scale,k.getWidth()),j=k.getHeight(),G=z.position[n];switch(n){case"top":M=M||aI(),I=[O,F],G-=_=uf(_,j);break;case"bottom":M=M||lI(),I=[O,F],G+=_=uf(_,j);break;case"left":M=M||uI(),I=[P,D],G-=_=uf(_,W);break;case"right":M=M||sI(),I=[P,D],G+=_=uf(_,W)}if(E){a=E.start,s=E.end;var H=E.minSpan;if("ordinal"===this.getAxisType()&&H>1){var U=E.get("minValueSpan"),q=this.getData();if(U&&q){q.length;I=[I[0],(I[1]-I[0])/H+I[0]]}}}else a=uf(a),s=uf(s);switch(A.range(I),T=this.getOriginDomain(),this.getAxisType()){case"continuous":if("linear"===e){if(w&&0===T[0]&&0===T[1]&&(T=w,x=0,b=0),T=[isNaN(u)?T[0]:u,isNaN(h)?T[1]:h],this.get("symmetry")){var V=Math.abs(Math.min.apply(null,T)),Y=Math.abs(Math.max.apply(null,T)),$=Math.max(V,Y);T=[-$,$]}if(b){var X=void 0,K=void 0;mo(b)?b.length>1?(X=b[0],K=b[1]):X=K=b[0]:X=K=b,X=uf(X,"top"===n||"bottom"===n?N:R),K=uf(K,"top"===n||"bottom"===n?N:R);var Z=Math.abs(I[0]-I[1]),Q=Z/(Z-X-K)*(T[1]-T[0]);T[0]=T[0]-X/Z*Q,T[1]=T[1]+K/Z*Q}else if(x){var J=(T[1]-T[0])*(x-1)/2;J||(J=T[0]*(x-1)),isNaN(u)&&(T[0]>=0?T[0]-J>0?T[0]-=J:T[0]=0:T[0]-=J),isNaN(h)&&(T[1]<=0?T[1]+J<0?T[1]+=J:T[1]=0:T[1]+=J)}T[0]>T[1]&&T.reverse()}o&&(T=o(T));var tt=(T=[isNaN(c)?T[0]:T[0]<c?c:T[0],isNaN(f)?T[1]:T[1]>f?f:T[1]])[1]-T[0];"time"!==e?(s<1&&(T[1]=T[0]+tt*s),a>0&&(T[0]=T[0]+tt*a)):(T[1]=new Date(+T[0]+tt*s),T[0]=new Date(+T[0]+tt*a));break;case"ordinal":"band"===e?A.paddingInner(uf(this.get("paddingInner"))).paddingOuter(uf(this.get("paddingOuter"))):"point"===e&&A.padding(uf(this.get("padding")));var et=T.length,nt=Math.round((et-1)*a),rt=Math.round((et-1)*s);this.startIndex=nt,this.endIndex=rt,T=T.slice(nt,rt+1)}if(A.domain(T),M.axisLine(this.get("line")),M.axisTick(this.get("tick")),M.axisLabel(this.get("label")),M.scale(A).pos(G).alwaysShowFirst(p).alwaysShowLast(d),y){var it=void 0;it=xo(y)?y(T):y,it="ordinal"===this.getAxisType()?po(it,function(t){return T.indexOf(t)>-1}):po(it,function(t){return t>=T[0]&&t<=T[1]}),M.tickValues(it)}switch(e){case"point":case"band":if(!y){var ot=[];if(C=T.length,!v){if(!g||g<=0){for(var at=T[0],st=1;st<T.length;st++)at.length<T[st].length&&(at=T[st]);g=this.getLabelLen(at),g*=1.2}v=Math.ceil(C/(Math.abs(I[1]-I[0])/g))}for(var lt=0;lt<C;lt+=v)ot.push(T[lt]);if(d){var ut=T[C-1],ht=ot[ot.length-1],ct=(this.getLabelLen(ut)+this.getLabelLen(ht))/2;ct*=1.5,A(ut)-A(ht)<ct&&ot.pop(),ot.push(ut)}M.tickValues(ot),this.interval=v}break;case"linear":if(!y&&(r&&M.ticks(r),l)){var ft=A.ticks(r);if(ft.length<2)T=[],ft=[];else{ft[0]>T[0]&&(T[0]=dI.minus(ft[0],dI.minus(ft[1],ft[0])),ft.unshift(T[0]));var pt=ft.length;ft[pt-1]<T[1]&&(T[1]=dI.plus(ft[pt-1],dI.minus(ft[pt-1],ft[pt-2])),ft.push(T[1]))}A.domain(T),M.tickValues(ft)}break;case"time":case"log":r&&M.ticks(r),l&&A.nice()}if("log"===e&&A.base(this.get("logBase")),this.lastDomain=this.domain,this.domain=T,this.range=I,this.pos=G,this.lastStart=this.start,this.lastEnd=this.end,this.start=a,this.end=s,this.axis=M,this.scale=A,this.dataZoomIndex=i,this.barGap=uf(this.get("barGap")),void 0===this.lastStart||void 0===this.lastEnd||a===this.lastStart&&s===this.lastEnd||k.dispatchAction(this,wf.zoomChange,{zoom:{start:a,end:s},model:this}),this.lastDomain&&this.lastDomain.length===T.length){for(var dt=0;dt<this.lastDomain.length;dt++)if(T[dt]!==this.lastDomain[dt]){k.dispatchAction(this,wf.zoomChange,{domain:T,model:this});break}}else k.dispatchAction(this,wf.domainChange,{domain:T,model:this})},e.prototype.getOriginDomain=function(){var t=this,e=this.globalModel;if(this.get("relyOtherAxis")){var n=this.get("$axisIndex");t=e.getComponentByIndex("axis",n)||t}var r=t._option,i=r.filterHide,o=r.addValues,a=e.getSeriesByAxis(t.index,i),s=[],l=[];switch(t.getAxisType()){case"continuous":co(a,function(n){var r=function(t,e,n){if(t.getData()){var r=yI(t,e,kd,n),i=yI(t,e,bd,n),o=t.get("onZero");return!~["time","log"].indexOf(e.get("type"))&&o&&(i<0?i=0:r>0&&(r=0)),[r,i]}return!1}(n,t,e);r&&s.push(r)}),l[0]=kd(s,function(t){return t[0]}),l[1]=bd(s,function(t){return t[1]}),mo(o)&&(l[0]=Math.min.apply(Math,[l[0]].concat(o)),l[1]=Math.max.apply(Math,[l[1]].concat(o)));break;case"ordinal":l=t.getData()||[]}return t.originDomain=l,l},e.prototype.updateByOther=function(t){var e=this._option,n=e.position,r=e.splitNumber,i=e.$dataZoomIndex,o=e.start,a=e.end,s=e.nice,l=(e.min,e.max,e.fitMin,e.fitMax,e.alwaysShowFirst),u=e.alwaysShowLast,h=e.tickValues,c=e.offset,f=this.global,p=this.axis,d=this.getScale(),g=t.domain,v=this.getGridModels()[0],y=v.position,m=y.left,x=y.top,_=y.bottom,w=y.right,b=(y.width,y.height,this.get("label"),f.getWidth()),S=f.getHeight(),k=t.get("type");this.startIndex=t.startIndex,this.endIndex=t.endIndex;var M=v.position[n];switch(d.domain(g),n){case"top":p=p||aI(),d.range([m,w]),M-=c=uf(c,S);break;case"bottom":p=p||lI(),d.range([m,w]),M+=c=uf(c,S);break;case"left":p=p||uI(),d.range([_,x]),M-=c=uf(c,b);break;case"right":p=p||sI(),d.range([_,x]),M+=c=uf(c,b)}switch(p.axisLine(this.get("line")),p.axisTick(this.get("tick")),p.axisLabel(this.get("label")),p.scale(d).pos(M).alwaysShowFirst(l).alwaysShowLast(u),h=t.axis.tickValues(),k){case"point":case"band":p.tickValues(h),this.interval=t.interval;break;case"linear":h?p.tickValues(h):r&&p.ticks(r);break;case"time":case"log":r&&p.ticks(r),s&&d.nice()}"log"===k&&d.base(this.get("logBase")),this.lastDomain=this.domain,this.domain=g,this.range=d.range(),this.pos=M,this.lastStart=this.start,this.lastEnd=this.end,this.start=o,this.end=a,this.axis=p,this.scale=d,this.dataZoomIndex=i,this.barGap=uf(this.get("barGap"))},e.prototype.update=function(){if(this.get("relyOtherAxis")){var t=this.get("$axisIndex"),e=this.globalModel.getComponentByIndex("axis",t);e&&this.updateByOther(e)}else this.updateBySelf()},e.prototype.updateData=function(){var e;(e=t.prototype.updateData).call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),this.originDomain=void 0},e.prototype.getDataByOffset=function(t,e){var n=this.startIndex,r=this.getIndexByOffset(t,e)+n;return this.getDataByIndex(r)},e.prototype.getMoveDataByIndex=function(t,e){var n=this.getData(t+this.startIndex),r={axis:{dataIndex:t+this.startIndex,data:n,startIndex:this.startIndex,axisIndex:t},series:this.getDataByIndex(t+this.startIndex),allSeries:this.getDataByIndex(t+this.startIndex,!1)};return{e:{offsetX:this.scale(n),offsetY:1},lastIndex:e,index:t,dataIndex:t+this.startIndex,axisData:n,data:r,pos:this.scale(n)+(this.scale.bandwidth?this.scale.bandwidth()/2:0)}},e.prototype.getDataByIndex=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.globalModel,r=this.index,i=(this.scale,this.startIndex),o=n.getSeriesByAxis(r,e),a=this.scale,s=a.domain(),l=[];return o&&o.length&&"x"===this.get("xOrY")&&"ordinal"===this.getAxisType()&&co(o,function(e){var n=e.getAxisModel("y"),r=n&&n.scale,o=r&&r.domain();co(cf(e._stackByPercent?e.stackData:e.getRealData(),function(r,i){return!!r&&(n?"ordinal"===n.getAxisType()?r[0]===t&&r[1]>=n.startIndex&&r[1]<=n.endIndex:e._stackByPercent?r[0]===t&&mI(r[1][0],o)&&mI(r[1][1],o):r[0]===t&&mI(r[1],o):r[0]===t)}),function(t){var n=e._stackByPercent?e.stackData[t]:e.getRealData(t),o=e._stackByPercent?[n[0],n[3]]:n,u=r&&(e._stackByPercent?r(n[1][1]):r(n[1]));l.push({name:e.get("name"),value:o,color:e.getSeriesColor(),seriesIndex:e.index,type:e.type,dataIndex:t,x:a(s[n[0]-i]),y:u,originValue:n})})}),l},e.prototype.getIndexByOffset=function(t,e){var n=this.scale,r=this.get("position"),i="top"===r||"bottom"===r?t:e;i="top"===r||"bottom"===r?t-n.range()[0]:n.range()[0]-e;var o=Math.min(Math["band"===this.get("type")?"floor":"round"]((i-(n.paddingOuter?(n.paddingOuter()-n.paddingInner()/2)*n.step():0))/n.step()),n.domain().length-1);return o>-1?o:0},e.prototype.getGridModels=function(){var t=this,e=this.get("$gridIndex"),n=[];return mo(e)||(e=[e]),co(e,function(e){n.push(t.globalModel.getComponentByIndex("grid",e))}),n},e.prototype.getAxisType=function(){switch(this.get("type")){case"linear":case"time":case"log":return"continuous";case"band":case"point":return"ordinal"}},e.prototype.setZoom=function(t){var e=this.globalModel.getComponentByIndex("dataZoom",this.get("$dataZoomIndex"));e?(e.set(t),this.global.dispatchAction(e,Mf.change,{zoom:t})):this.set(t)},e.prototype.getLabelLen=function(t,e){var n=this.get("position"),r=this.get("label"),i=r.style,o=r.scale,a=this.getScale(),s=r.formatter||a.tickFormat&&a.tickFormat.apply(a),u=new Yh({style:l({text:s?s(t):t},i)}).getBoundingRect(),h=void 0;if(e||(e="top"===n||"bottom"===n?"width":"height"),r.rotate){var c=r.rotate/180*Math.PI;h="width"===e?Math.min(Math.abs(u.height/Math.sin(c)),u.width):Math.min(Math.abs(u.height/Math.cos(c)),u.width)}else h=u[e]*(o?o["width"===e?0:1]:1);return h||0},e.prototype.getLastData=function(){var t=this.endIndex,e=this.get("findLastIndex");e&&(t=e(this.getData(),this.startIndex,this.endIndex));var n=this.getData(t);return{axis:{dataIndex:this.endIndex,data:n,startIndex:this.startIndex,axisIndex:this.endIndex-this.startIndex},series:this.getDataByIndex(t),allSeries:this.getDataByIndex(t,!1)}},e}(Kf);function yI(t,e,n,r){if("x"===e.get("xOrY")){var i="time"===e.get("type"),o=t.getData();if(!o||!o.length)return;for(var a=void 0,s=void 0,l=0;l<o.length;l++)if(o[l]){s=o[l][0];break}return a=mo(s)?n:i?function(t){return new Date(t)}:function(t){return t},n(o,function(t){if(t)return a(t[0])})}var u=t.get("stack")?t.stackData:t.getData();if((u=e.get("sliceData")?function(t,e){var n=e.getAxisModel("x"),r=n.start,i=n.end,o=n.getAxisType();if(void 0===r||void 0===i)return t;if("ordinal"===o){var a=n.getData().length,s=Math.round((a-1)*r),l=Math.round((a-1)*i);return po(t,function(t){if(t)return t[0]>=s&&t[0]<=l})}var u=n.scale.domain(),h="time"===n.get("type");return po(t,function(t){if(t){var e=t[0];return mo(e)?!(e[0]>u[1]||e[1]<u[0]):(h&&(e=new Date(e)),e>=u[0]&&e<=u[1])}})}(u,t):u)&&u.length){for(var h=void 0,c=void 0,f=0;f<u.length;f++)if(u[f]){c=u[f][1];break}h=mo(c)?n:wo(c)?function(t){var e=void 0;return n===kd?(e=1/0,co(t,function(t){return e>t&&(e=t)})):(e=-1/0,co(t,function(t){return e<t&&(e=t)})),e}:function(t){return t};var p=!t.get("stack")&&e.get("compare");return n(u,function(t){if(t){var e=t[1];return"number"==typeof e||mo(e)?(p&&("percent"===p?e=(e-c)/c:e-=c),h(e)):null}})}}function mI(t,e){if(mo(t)){for(var n=0;n<t.length;n++)if(t[n]<e[0]||t[n]>e[1])return!1}else if(t<e[0]||t>e[1])return!1;return!0}function xI(t){var e=t._option,n=e.left,r=e.right,i=e.top,o=e.bottom,a=e.width,s=e.height,l=t.global,u=l.getWidth(),h=l.getHeight(),c={};return void 0!==a?(c.width=uf(a,u),void 0!==n?(c.left=uf(n,u),c.right=c.left+c.width):(c.right=u-uf(r,u),c.left=c.right-c.width)):(c.left=uf(n,u),c.right=u-uf(r,u),c.width=c.right-c.left),void 0!==s?(c.height=uf(s,h),void 0!==o?(c.bottom=h-uf(o,h),c.top=c.bottom-c.height):(c.top=uf(i,h),c.bottom=c.top+c.height)):(c.top=uf(i,h),t.get("topPlaceHolder").show&&(c.top+=t.get("topPlaceHolder").height),c.bottom=h-uf(o,h),t.get("bottomPlaceHolder").show&&(c.bottom-=t.get("bottomPlaceHolder").height),c.height=c.bottom-c.top),t.position=c}vI.type=gI,vI.defaultOption={$dataIndex:void 0,dataKey:void 0,$gridIndex:0,$dataZoomIndex:void 0,relyOtherAxis:!1,xOrY:"x",position:"bottom",type:"band",start:"0%",end:"100%",barGap:"20%",paddingInner:"60%",paddingOuter:"30%",padding:"0%",offset:0,ifTriggerHighlight:!0,domainScale:1.2,nice:!1,domainFormatter:void 0,max:void 0,min:void 0,fitMax:void 0,fitMin:void 0,splitNumber:void 0,intervalLength:void 0,interval:void 0,tickValues:void 0,domainEqualZero:[-1,1],space:0,addValues:void 0,compare:!1,alwaysShowLast:!1,alwaysShowFirst:!1,findLastIndex:void 0,symmetry:!1,sliceData:!0,filterHide:!0,ifTriggerMove:void 0,logBase:10,line:{show:!0,style:{stroke:"rgba(51, 51, 51, 0.1)",lineWidth:2},onZero:!1,onZeroAxisIndex:1},tick:{show:!0,outerSize:6,innerSize:0,onCenter:!0,style:{lineWidth:1,stroke:"rgba(51, 51, 51, 0.1)"}},label:{show:!0,inRange:!1,padding:10,style:{fill:"rgba(51, 51, 51, 0.4)",rich:{Y:{},m:{},b:{},d:{},a:{},I:{},p:{}}},inside:!1,truncate:!1,followLine:!1,rotate:0,formatter:void 0},splitLine:{show:!1,style:{color:"rgba(51, 51, 51, 0.1)",lineWidth:1}},splitArea:{show:!1,onRect:!1,style:{color:["rgba(51, 51, 51, 0.05)","rgba(0, 0, 0, 0)"]}},axisName:{show:!1,text:"",offset:[0,0],location:"end",style:{}},cursor:"default",zlevel:0,z:0},qp(vI,WA);var _I="grid",wI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=_I,r.position={},c(r,n)}return u(e,t),e.prototype.update=function(){if(xI(this),this.get("containLabel")){var t=this.globalModel,e=this.supports.axis,n=this.position;co(e,function(e){var r=t.getComponentByIndex("axis",e),i=r.get("label"),o=(i.padding,r.getScale()),a=r.getOriginDomain();if(a.length){o.domain(a);for(var s=!1,l=r.get("position"),u=void 0,h=Math.ceil(a.length/100),c=0;c<a.length;c+=h)if(void 0!==a[c]){var f=a[c].toFixed?a[c].toFixed(10):a[c];0==s?s=f:s.length<f.length&&(s=f)}switch(l){case"left":case"right":!1!==s&&(u=r.getLabelLen(s,"width"),u+=i.padding,"left"===l?n.left+=u:n.right-=u,n.width-=u);break;case"top":case"bottom":!1!==s&&(u=r.getLabelLen(s,"height"),u+=i.padding,"top"===l?n.top+=u:n.bottom-=u,n.height-=u)}}})}},e.prototype.isPointInGrid=function(t,e){var n=this.position,r=n.left,i=n.right,o=n.top,a=n.bottom;return t>=r&&t<=i&&e>=o&&e<=a},e}(Kf);wI.type=_I,wI.defaultOption={left:"10%",right:"10%",top:"10%",bottom:"15%",width:void 0,height:void 0,background:{show:!1,borderEnable:1,style:{fill:void 0,stroke:void 0,lineWidth:1}},topPlaceHolder:{show:!1,borderEnable:1,style:{stroke:"#ccc",fill:void 0,lineWidth:1,lineDash:null},height:20},bottomPlaceHolder:{show:!1,borderEnable:1,style:{stroke:"#ccc",fill:void 0,lineWidth:1,lineDash:null},height:20},containLabel:!1,zlevel:0,z:0};var bI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=_I,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t.position,i=r.left,o=r.top,a=r.width,s=r.height,l=t.get("background"),u=l.borderEnable,h=t.get("topPlaceHolder"),c=t.get("bottomPlaceHolder");l.show&&this.setShape("background",yc,Nc({shape:{x:i,y:o,width:a,height:s,borderEnable:u},style:l.style,silent:!0})),h.show&&this.setShape("topPlaceHolder",yc,Nc({shape:{x:i,y:o-h.height,width:a,height:h.height,borderEnable:h.borderEnable},style:h.style,silent:!0})),c.show&&this.setShape("bottomPlaceHolder",yc,Nc({shape:{x:i,y:o+s,width:a,height:c.height,borderEnable:c.borderEnable},style:c.style,silent:!0}))},e.prototype.renderEdit=function(t,e,n){var r=t.position,i=r.left,o=r.top,a=r.right,s=r.bottom,l=n.getWidth(),u=n.getHeight();this.setShape("_edit_left",lc,{shape:{x1:i,y1:o,x2:i,y2:s},style:{stroke:"rgba(0, 0, 0, 0.8)",lineWidth:2},cursor:"e-resize",z2:9999},void 0,function(e){function r(e){var n=e.offsetX;e.offsetY;t.set({left:n})}sf(e,n,{onDragging:r,onDragEnd:r})}),this.setShape("_edit_top",lc,{shape:{x1:i,y1:o,x2:a,y2:o},style:{stroke:"rgba(0, 0, 0, 0.8)",lineWidth:2},cursor:"n-resize",z2:9999},void 0,function(e){function r(e){e.offsetX;var n=e.offsetY;t.set({top:n})}sf(e,n,{onDragging:r,onDragEnd:r})}),this.setShape("_edit_right",lc,{shape:{x1:a,y1:o,x2:a,y2:s},style:{stroke:"rgba(0, 0, 0, 0.8)",lineWidth:2},cursor:"e-resize",z2:9999},void 0,function(e){function r(e){var n=e.offsetX;e.offsetY;t.set({right:l-n})}sf(e,n,{onDragging:r,onDragEnd:r})}),this.setShape("_edit_bottom",lc,{shape:{x1:i,y1:s,x2:a,y2:s},style:{stroke:"rgba(0, 0, 0, 0.8)",lineWidth:2},cursor:"n-resize",z2:9999},void 0,function(e){function r(e){e.offsetX;var n=e.offsetY;t.set({bottom:u-n})}sf(e,n,{onDragging:r,onDragEnd:r})})},e.prototype.removeEdit=function(){var t=this;this.eachShape(function(e,n){0===n.indexOf("_edit_")&&(e.disableDrag&&e.disableDrag(),t.removeShape(n))})},e}(Uf);bI.type=_I,qp(wI,bI);var SI="tooltip",kI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=SI,c(r,n)}return u(e,t),e}(Kf);kI.type=SI,kI.defaultOption={$axisIndex:void 0,trigger:"item",alwaysShowContent:!1,offset:[12,15],position:void 0,confine:!0,formatter:void 0,toFixedNumber:2,dataFormatter:void 0,axisFormatter:function(t){return t},enterable:!1,showDelay:0,hideDelay:100,triggerOn:"mousemove",style:{position:"absolute",zIndex:99999,backgroundColor:"rgba(0, 0, 0, 0.5)",borderColor:"#333",borderStyle:"solid",borderWidth:0,borderRadius:"5px",padding:"5px",color:"white",display:"none"}};var MI=co,AI=["","Webkit","Moz","O"];function II(t,e,n){var r=document.createElement("div"),i=this._zr=e.getZr();MI(n,function(t,e){"transition"===e?MI(AI,function(e){r.style[e+"Transition"]=t}):r.style[e]=t}),this.el=r,r.className="d3charts-tooltip",this._x=e.getWidth()/2,this._y=e.getHeight()/2,t.appendChild(r),this._container=t,this._show=!1,this._hideTimeout;var o=this;r.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},r.onmousemove=function(e){if(e=e||window.event,!o._enterable){var n=i.handler;Jo(t,e,!0),n.dispatch("mousemove",e)}},r.onmouseleave=function(){o._inContent=!1,o._enterable&&o._show&&o.hideLater(o._hideDelay)},r.onclick=function(e){if(!o._enterable){var n=i.handler;Jo(t,e,!0),n.dispatch("click",e)}}}II.prototype={constructor:II,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),n=t.style;"absolute"!==n.position&&"absolute"!==e.position&&(n.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.left=this._x+"px",e.style.top=this._y+"px",e.style.display=e.innerHTML?"block":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n,r=this._zr;r&&r.painter&&(n=r.painter.getViewportRoot())&&(t+=n.offsetLeft||0,e+=n.offsetTop||0);var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(vo(this.hide,this),t)):this.hide())},isShow:function(){return this._show},remove:function(){this._container.removeChild(this.el)}};var TI=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=SI,o._tooltipContent=new II(i.getDom(),i,n.get("style")),o._tooltipContent.setEnterable(n.get("enterable")),o._tooltipContent.update(),o._initEvent(n,r,i),o}return u(e,t),e.prototype.showTooltip=function(t,e,n,r,i){t.global.dispatchAction(t,"BEFORE_SHOWTOOLTIP",e);var o=this._tooltipContent,a=t.get("toFixedNumber"),s=t.get("dataFormatter"),l=t.get("axisFormatter"),u=(t.get("formatter")||yo(CI,a,s,l))(e);u?(o.setContent(u),o.show(t),this._updatePosition(n,r,t,t.global,"axis",u,i)):this.hideTooltip(t)},e.prototype.hideTooltip=function(t){t.global.dispatchAction(t,"AFTER_SHOWTOOLTIP");var e=this._tooltipContent;e.isShow()&&!t.get("alwaysShowContent")&&e.hideLater(t.get("hideDelay"))},e.prototype._initEvent=function(t,e,n){var r=this,i=t.get("trigger"),o=t.get("triggerOn"),a=t.get("$axisIndex"),s=t.get("showDelay"),u=this._tooltipContent,h=e.getComponentByIndex("axis",a),c=t.get("$radarAxisIndex"),f=e.getComponentByIndex("radarAxis",c);if("axis"===i&&f&&"polar"===f.getAxisType())n.registerAction(f,bf.move,function(e){e&&e.allSeries.length?r.showTooltip(t,e,e.e.offsetX,e.e.offsetY,0):r.hideTooltip(t)}),n.registerAction(f,bf.out,function(e){r.hideTooltip(t)});else if("axis"===i&&h&&"ordinal"===h.getAxisType())n.registerAction(h,wf.move,function(e){var n=e.e,i=(e.index,e.lastIndex,e.axisData,e.data),o=e.dataIndex;i&&i.allSeries.length?r.showTooltip(t,i,n.offsetX,n.offsetY,o):r.hideTooltip(t)}),n.registerAction(h,wf.out,function(e){e.lastSeries,e.lastIndex;r.hideTooltip(t)});else if("item"===i){var p=n.getZr(),d=void 0;n.on(o,function(i){var o=i.offsetX,a=i.offsetY,h=p.findHover(o,a).target;if(h){h.parent&&h.parent.groupShape&&(h=h.parent);var c=h,f=c.dataIndex,g=c.name,v=c.seriesIndex,y=e.getComponentByIndex("series",v),m={},x=h.data;if(void 0===v)void 0!==x?m.series=[x]:m=!1;else{if(!y)return;x||(void 0!==f?x=y.get("stack")?y.points[f][2]:y.getRealData(f):void 0!==g&&(x=y.findDataNamed(g))),void 0!==x&&(m.series=[l({},x,{name:x.name||y.get("name"),value:x.value||x,color:x.color||y.getSeriesColor(),seriesIndex:y.index,type:y.type,dataIndex:f})])}if(m){var _=t.get("toFixedNumber"),w=t.get("dataFormatter");(m=(y&&y.get("tooltip")&&y.get("tooltip").formatter||t.get("formatter")||yo(CI,_,w,void 0))(m))&&(u.setContent(m),s?d=setTimeout(function(){u.show(t),r._updatePosition(o,a,t,n,"item",h)},s):(u.show(t),r._updatePosition(o,a,t,n,"item",h)))}else r.hideTooltip(t)}}),n.on("mouseout",function(e){d&&clearTimeout(d),r.hideTooltip(t)}),n.on("mouseup",function(e){d&&clearTimeout(d),r.hideTooltip(t)})}},e.prototype._updatePosition=function(t,e,n,r,i,o,a){var s=r.getWidth(),l=r.getHeight(),u=n.get("position"),h=n.get("offset"),c=n.get("confine"),f=this._tooltipContent,p=f.getSize();if("function"==typeof u){var d=u({x:t,y:e,model:n,dataIndex:a});t=d.x,e=d.y}else if(mo(u))t=u[0],e=u[1];else if(wo(u));else if("string"==typeof u&&o){var g={x:t,y:e,width:0,height:0};"axis"===i&&o.series&&o.series[0]?(g.x=o.series[0].x,g.y=o.series[0].y):"item"===i&&o&&(g=o.getBoundingRect().clone()).applyTransform(o.transform);var v=function(t,e,n){var r=n[0],i=n[1],o=0,a=0,s=e.width,l=e.height;switch(t){case"inside":o=e.x+s/2-r/2,a=e.y+l/2-i/2;break;case"top":o=e.x+s/2-r/2,a=e.y-i-5;break;case"bottom":o=e.x+s/2-r/2,a=e.y+l+5;break;case"left":o=e.x-r-5,a=e.y+l/2-i/2;break;case"right":o=e.x+s+5,a=e.y+l/2-i/2}return[o,a]}(u,g,p);t=v[0],e=v[1]}else{var y=function(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[0,0],a=EI(n),s=a.width,l=a.height;t+s+o[0]>r?t-=s+o[0]:t+=o[0];e+l+o[1]>i?e-=l+o[1]:e+=o[1];return[t,e]}(t,e,f.el,s,l,h);t=y[0],e=y[1]}if(c){var m=function(t,e,n,r,i){var o=EI(n),a=o.width,s=o.height;return t=Math.min(t+a,r)-a,e=Math.min(e+s,i)-s,t=Math.max(t,0),e=Math.max(e,0),[t,e]}(t,e,f.el,s,l);t=m[0],e=m[1]}f.moveTo(t,e)},e.prototype.remove=function(){t.prototype.remove.call(this),this._tooltipContent.remove()},e}(Uf);function CI(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t){return t},r=arguments[3];if(r){var i=r.axis,o=r.series,a=i&&i.data,s=void 0!==a?n(a,i):"",l=!0,u=!1;return co(o,function(n){var r=mo(n.value)?n.value[1]:n.value;if(void 0!==r){var i=e?e(r,n):"number"==typeof r?r.toFixed(t):r;(i||0===i)&&(s+="\n                    "+(void 0===a&&l?"":"</br>")+"\n                    "+(n.color?'<span style="display: inline-block; margin-right: 5px; border-radius: 10px; width: 9px; height: 9px; background-color: '+n.color+'"></span>':"")+"\n                    "+(n.name?n.name+": ":"")+i+"\n            ",l=!1,u=!0)}}),!!u&&s}}function EI(t){var e=t.clientWidth,n=t.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var r=document.defaultView.getComputedStyle(t);r&&(e+=parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10)+parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10),n+=parseInt(r.paddingTop,10)+parseInt(r.paddingBottom,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10))}return{width:e,height:n}}TI.type=SI,qp(kI,TI);var zI="data",LI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=zI,r.isPending=!1,c(r,n)}return u(e,t),e.prototype.getData=function(t){return void 0===t?this._data:mo(t)?t.length?fo(this._data,function(e){return fo(t,function(t){return e[t]})}):[]:fo(this._data,function(e){return e[t]})},e.prototype.update=function(){if(!this.isPending){var t=this.get("$dataIndex"),e=this.get("originData"),n=this.get("formatter"),r=this.globalModel.getComponentByIndex("timeline",this.get("$timelineIndex"));if(r&&(e=e[r.get("currentIndex")]),this.__dataDirty=!1,void 0!==e)this._data=n(e);else if(void 0!==t){var i=this.globalModel.getComponentByIndex("data",t).getData();i&&(this._data=n(i))}}},e.prototype.updateData=function(){},e.prototype.pushData=function(t){var e=this.get("originData");e&&mo(this._data)&&(e.push(t),this.dirty())},e.prototype.setData=function(t){this.set("originData",t)},e.prototype.dirty=function(t){this.dataDirty(),this.globalModel.dirty(this)},e.prototype.isDirty=function(){return this.__dataDirty},e}(Kf);LI.type=zI,LI.defaultOption={$dataIndex:void 0,formatter:function(t){return t},originData:void 0},qp(LI);var OI="dataZoom",DI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=OI,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this,e=this.globalModel,n=uf(this.get("start")),r=uf(this.get("end")),i=e.getComponent("axis",function(e){return e.get("$dataZoomIndex")===t.index&&"ordinal"===e.getAxisType()})[0],o=this._option,a=o.handler,s=o.orient,l=o.width,u=o.height,h=o.dataBackground,c=o.seriesIndex,f=o.label,p=o.valueIndex,d=this.get("minSpan"),g=this.get("maxSpan");if(i){var v=this.get("startValue"),y=this.get("endValue"),m=i.getData();if(m){var x=m.length,_=this.get("minValueSpan"),w=this.get("maxValueSpan");void 0!==v&&void 0===n&&("number"!=typeof v&&(v=m.indexOf(v)),v<0&&(v+=x),n=v/(x-1)),void 0!==y&&void 0===r&&("number"!=typeof y&&(y=m.indexOf(y)),y<0&&(y+=x),r=y/(x-1)),this.axisData=m,void 0!==_&&(d=_/x),void 0!==w&&(g=w/x)}this.axisModel=i}if(n=n||0,r=r||1,this.handlerStart=Math.min(Math.max(n,0),1),this.handlerEnd=Math.min(Math.max(0,r),1),this.start=Math.max(Math.min(n,r),0),this.end=Math.min(Math.max(n,r),1),this.minSpan=d,this.maxSpan=g,xI(this),a.show&&(this.handlerSize=ff(a.size,"horizontal"===s?u:l)),h.show||f.show){var b=e.getComponentByIndex("series",c),S=b.getAxisModel("x"),k=S.getData();if(h.show){var M=S.get("type"),A=b.getAxisModel("y").get("type"),I=b.getRealData(),T=this.xScale=this.xScale||KA[M](),C=this.yScale=this.yScale||KA[A](),E=this.position,z=E.left,L=E.right,O=E.top,D=E.bottom,P=this.points=[];T.domain(k).range([z,L]),C.domain([b.getDataExtent("min",void 0,p,!1)[1],b.getDataExtent("max",void 0,p,!1)[1]]).range([D,O]);var F=T.bandwidth?T.bandwidth()/2:0;co(k,function(t,e){mo(I[e][1])?P.push([T(t)+F,C(I[e][1][p])]):P.push([T(t)+F,C(I[e][1])])})}if(f.show){var N=k.length;this.xstart=k[Math.round((N-1)*n)],this.xend=k[Math.round((N-1)*r)]}}},e}(Kf);DI.type=OI,DI.defaultOption={$gridIndex:0,type:"inside",left:"10%",right:"10%",top:void 0,bottom:"3%",width:void 0,height:25,background:{show:!0,style:{fill:"rgba(47,69,84,0)",stroke:"#ddd",lineWidth:1}},seriesIndex:0,valueIndex:0,dataBackground:{show:!1,line:{show:!0,style:{stroke:"rgba(47,69,84,0.3)",lineWidth:.5}},area:{show:!0,style:{fill:"rgba(47,69,84,0.1)"}}},label:{show:!1,formatter:function(t){return t},style:{}},filler:{show:!0,type:"rect",style:{fill:"rgba(167,183,204,0.4)",stroke:"#ddd"}},handler:{show:!0,type:"path://M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",size:[10,"100%"],style:{fill:"#a7b7cc",stroke:"#000",lineWidth:0}},start:void 0,end:void 0,startValue:void 0,endValue:void 0,minSpan:void 0,maxSpan:void 0,minValueSpan:void 0,maxValueSpan:void 0,pressStop:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,preventDefaultMouseMove:!1,preventDefaultMouseWheel:!0,orient:"horizontal",zlevel:0,z:8};var PI=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=OI,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){var r=this;if("slider"!==t.get("type")){var i=t.get("$gridIndex");mo(i)?co(i,function(i){r._bindGridEvent(t,e,n,e.getComponentByIndex("grid",i))}):this._bindGridEvent(t,e,n,e.getComponentByIndex("grid",i))}},e.prototype._bindGridEvent=function(t,e,n,r){var i=!1,o=t.get("zoomOnMouseWheel"),a=t.get("moveOnMouseMove"),s=t.get("preventDefaultMouseMove"),l=t.get("preventDefaultMouseWheel");if(a){var u=void 0,h=!1;n.on("mousedown",function(o){if(!n.isEnableEdit&&!n.isEnableSketch){var a=o.offsetX,s=o.offsetY,l=e.getComponent("zoomBrush");if(l)for(var c=l.length;c--;)if(l[c].get("enable"))return;r.isPointInGrid(a,s)&&(u=new Date,i=!0,h=!1,n.dispatchAction(t,Mf.start,{e:o}))}}),n.on("mousemove",function(e){var o=t.get("pressStop"),a=e.offsetX,l=e.offsetY,c=new Date;o&&i&&!h&&c-u>300&&(i=!1),i&&r.isPointInGrid(a,l)&&(n.dispatchAction(t,Mf.moving,{e:e}),s&&NI(e),h=!0)}),n.on("mouseup",function(e){i&&n.dispatchAction(t,Mf.end),i=!1}),n.on("globalout",function(e){i&&n.dispatchAction(t,Mf.end),i=!1})}o&&(n.on("mousewheel",function(e){if(!n.isEnableEdit&&!n.isEnableSketch){var i=e.offsetX,o=e.offsetY,a=e.wheelDelta;r.isPointInGrid(i,o)&&(n.dispatchAction(t,Mf.wheel,{e:e,scale:a>0?.1:-.1,zoomX:i,zoomY:o}),l&&NI(e))}}),n.on("pinch",function(e){if(!n.isEnableEdit&&!n.isEnableSketch){e.offsetX,e.offsetY;var i=e.pinchX,o=e.pinchY;r.isPointInGrid(i,o)&&(n.dispatchAction(t,Mf.wheel,{e:e,scale:e.pinchScale-1,zoomX:i,zoomY:o}),NI(e.event))}}));var c=!1,f=void 0,p=void 0,d=void 0;n.registerAction(t,Mf.start,function(e){var n=e.e,r=n.offsetX,i=n.offsetY,o=t.get("orient");f="horizontal"===o?r:-i,c=!0}),n.registerAction(t,Mf.moving,function(e){var i=e.e,o=i.offsetX,a=i.offsetY;if(c){var s=t.get("orient"),l=r.position,u=l.width,h=l.height,g=t.start,v=t.end,y="horizontal"===s?o:-a,m="horizontal"===s?u:h,x=t.axisModel&&t.axisModel.scale.step&&t.axisModel.scale.step();if(d=(p=y-f)/m*(v-g),x&&Math.abs(p)<x)return;if(g-d>=0&&v-d<=1){var _={start:g-d,end:v-d};FI(t,_)&&(jI(_,t),t.set(_),n.dispatchAction(t,Mf.change,{zoom:GI(_)}))}else if(0!==g&&g-d<0){var w={start:0,end:v-d+(d-g)};FI(t,w)&&(jI(w,t),t.set(w),n.dispatchAction(t,Mf.change,{zoom:GI(w)}))}else if(1!==v&&v-d>1){var b={start:g-d-(v-d-1),end:1};FI(t,b)&&(jI(b,t),t.set(b),n.dispatchAction(t,Mf.change,{zoom:GI(b)}))}f=y}}),n.registerAction(t,Mf.end,function(){c=!1}),n.registerAction(t,Mf.wheel,function(e){var i=e.zoomX,o=e.zoomY,a=e.scale,s=t.get("orient"),l=t.minSpan,u=t.maxSpan,h=r.position,c=h.left,f=h.bottom,p=h.width,d=h.height,g="horizontal"===s?(i-c)/p:(f-o)/d,v=t.start,y=t.end,m=y-v;v+=(m*=a)*g,y-=m*(1-g),v=Math.max(0,v),y=Math.min(1,y);var x={start:Math.max(0,v),end:Math.min(1,y)};l&&(Math.abs(x.start-x.end)<l||l>1)||u&&Math.abs(x.start-x.end)>u||FI(t,x)&&(jI(x,t),t.set(x),n.dispatchAction(t,Mf.change,{zoom:GI(x)}))})},e.prototype.render=function(t,e,n){var r=this;if("inside"!==t.get("type")){var i=t.position,o=t.handlerStart,a=t.handlerEnd,s=(t.handlerSize,t.points),u=i.left,h=(i.right,i.top),c=i.bottom,f=i.width,p=i.height,d=t.get("filler"),g=t.get("background"),v=t.get("dataBackground"),y="horizontal"===t.get("orient");if(g.show&&this.setShape("background",ac,Nc({shape:{x:u,y:h,width:f,height:p},style:g.style})),v.show){if(v.line.show){var m={x:function(t){return t[0]},y:function(t){return t[1]},data:s,percent:1,defined:function(t){return t}},x=v.line.style;this.setShape("dataBackground.line",Cc,{shape:m,style:x})}if(v.area.show){var _={x:function(t){return t[0]},y1:function(t){return t[1]},y0:c,data:s,percent:1,defined:function(t){return t}},w=v.area.style;this.setShape("dataBackground.area",bx,{shape:_,style:w})}}if(d.show){var b=void 0;b=y?{x:f*o,y:0,width:f*(a-o),height:p}:{x:0,y:p*o,width:f,height:p*(a-o)},this.setShape("filler",lp,{shape:l({symbolType:d.type},b),position:[u,h],style:d.style},void 0,function(e){e.on("mousedown",function(e){r.draggingFiller=!0,WI.call(r,e,y,t,n)}),n.on("mousemove",function(e){WI.call(r,e,y,t,n)}),n.on("mouseup",function(e){WI.call(r,e,y,t,n),r.draggingFiller=!1,r.lastFillerOffset=void 0}),n.on("globalout",function(e){WI.call(r,e.event,y,t,n),r.draggingFiller=!1,r.lastFillerOffset=void 0})})}t.get("handler").show&&(RI.call(this,"start",t,e,n),RI.call(this,"end",t,e,n))}},e}(Uf);function FI(t,e){return t.start!==e.start||t.end!==e.end}function NI(t){var e=t.event;e.preventDefault&&e.preventDefault()}function RI(t,e,n,r){var i,o=this,a=e.position,s=e.handlerStart,u=e.handlerEnd,h=e.handlerSize,c=(e.xstart,e.xend,e.get("label")),f=a.left,p=(a.right,a.top),d=(a.bottom,a.width),g=(a.height,"horizontal"===e.get("orient")),v=e.get("handler"),y=v.style;c.show&&(y=l({text:c.formatter(e["x"+t]),textPosition:"start"===t&&s<u||"end"===t&&s>u?"left":"right"},n.getFormattedText(c.style),v.style)),i={shape:l({symbolType:v.type,x:-h.width/2,y:0},h),position:[f+d*e["start"===t?"handlerStart":"handlerEnd"],p],style:y,rectHover:!0,cursor:"ew-resize"},this.setShape("handler"+t,lp,i,void 0,function(n){n.handlerType=t,n.on("mousedown",function(){o["draggingHandler"+t]=!0}),r.on("mousemove",function(i){BI(o["draggingHandler"+t],i,g,e,n.handlerType,r)}),r.on("mouseup",function(i){BI(o["draggingHandler"+t],i,g,e,n.handlerType,r),o["draggingHandler"+t]=!1}),r.on("globalout",function(i){BI(o["draggingHandler"+t],i.event,g,e,n.handlerType,r),o["draggingHandler"+t]=!1})})}function BI(t,e,n,r,i,o){var a=e.offsetX;e.offsetY;if(t){var s=r.position,l=s.left,u=s.right,h=(s.top,s.bottom,s.width),c=(s.height,r.minSpan),f=r.maxSpan,p=void 0;if(n){var d;p=function(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}(p=a,l,u);var g=((d={start:r.start,end:r.end})[i]=(p-l)/h,d);if(c&&(Math.abs(g.start-g.end)<c||c>1))return;if(f&&Math.abs(g.start-g.end)>f)return;jI(g,r),r.set(g),o.dispatchAction(r,Mf.change,{zoom:GI(g)})}}}function WI(t,e,n,r){var i=t.offsetX,o=t.offsetY;if(this.draggingFiller){var a=n.position,s=(a.left,a.right,a.top,a.bottom,a.width),l=(a.height,e?i:o),u=this.lastFillerOffset;if(this.lastFillerOffset=l,void 0!==u){var h=n.start,c=n.end,f=l-u,p=void 0,d=void 0;if(e){d=f/s+c,(p=f/s+h)<0&&(d+=0-p,p=0),d>1&&(p-=d-1,d=1);var g={start:p,end:d};jI(g,n),n.set(g),r.dispatchAction(n,Mf.change,{zoom:GI(g)})}}}}function jI(t,e){var n=e.axisData;n&&(t.startValue=Math.round(t.start*(n.length-1)),t.endValue=Math.round(t.end*(n.length-1)))}function GI(t){return{start:Math.min(t.start,t.end),end:Math.max(t.start,t.end)}}PI.type=OI,qp(DI,PI);var HI="legend",UI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=HI,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.global,e=this.globalModel,n=t.getWidth(),r=t.getHeight(),i=this.get("left"),o=this.get("right"),a=this.get("width"),s=this.get("top"),l=this.getData(),u=this.get("selected"),h={};l||(l=[],e.eachComponent("series",function(t){var e=t.get("name");e&&l.push(e)},!1)),u&&co(u,function(t,e){h[e]=t});var c=fo(l,function(t){return wo(t)?t:{name:t}});co(c,function(t){var e=t.name;return h[e]=!(u&&(!u||!1===u[e]))}),this.selected=h,this.items=c,o=uf(o,n),a=uf(a,n),"center"===i||"right"===i?(a||(a=n),o=n,i=n-a):(i=uf(i,n),void 0!==o?(o=n-o,void 0!==a?i=o-a:a=o-(i=i||0)):(i=i||0,o=void 0!==a?i+a:i+(a=n-i))),s="middle"===s?0:uf(s,r),this.position={left:i,width:a,right:o,top:s}},e.prototype.isSelected=function(t){return!!this.selected[t]},e.prototype.toggleMultiple=function(t,e){var n=this,r=this.global,i=this.globalModel,o=this.selected,a=void 0===e?o[t]:!e,s=i.getSeriesByName(t,!1);s.length?co(s,function(e){if(!1===a){var i;e.set("selected",!0),n.set({selected:(i={},i[t]=!0,i)})}else{var o,s=r.getViewOfComponentModel(e);e.set("selected",!1),r.dispatchAction(e,Af.unselected),s&&s.remove(),n.set({selected:(o={},o[t]=!1,o)})}}):i.eachComponent("series",function(e){var r,i,o,s;e.findDataNamed(t)&&(!1===a?(e.set({selected:(r={},r[t]=!0,r)}),n.set({selected:(i={},i[t]=!0,i)})):(e.set({selected:(o={},o[t]=!1,o)}),n.set({selected:(s={},s[t]=!1,s)})))},!1)},e.prototype.toggleSingle=function(t){var e=this,n=this.global,r=this.globalModel,i=this.selected,o=this.items;i[t];co(o,function(i){var o=i.name,a=r.getSeriesByName(o,!1);a.length?co(a,function(r){if(o===t){var i;r.set("selected",!0),e.set({selected:(i={},i[o]=!0,i)})}else{var a,s=n.getViewOfComponentModel(r);r.set("selected",!1),n.dispatchAction(r,Af.unselected),s&&s.remove(),e.set({selected:(a={},a[o]=!1,a)})}}):r.eachComponent("series",function(n){var r,i,a,s;n.findDataNamed(o)&&(o===t?(n.set({selected:(r={},r[o]=!0,r)}),e.set({selected:(i={},i[o]=!0,i)})):(n.set({selected:(a={},a[o]=!1,a)}),e.set({selected:(s={},s[o]=!1,s)})))},!1)})},e}(Kf);UI.type=HI,UI.defaultOption={data:void 0,show:!0,left:"10%",top:"2.5%",right:void 0,bottom:void 0,width:void 0,align:"left",type:"plain",page:{pageIndex:1,buttonItemGap:2,buttonGap:0,iconColor:"#2f4554",iconInactiveColor:"#aaa",iconSize:[14,16],iconOffset:[0,-3],textStyle:{fill:"#333",fontStyle:"normal",fontWeight:"normal",fontFamily:"sans-serif",fontSize:16,textOffset:[0,-1.5]}},orient:"horizontal",inactiveColor:"#ccc",verticalGap:5,horizontalGap:10,innerGap:5,addLine:!0,itemWidth:void 0,symbol:{type:void 0,size:[16,10],color:void 0,style:{}},selectedMode:"multiple",selected:{},textStyle:{fontSize:12,fontFamily:"sans-serif"},padding:[10,15,10,15],background:{show:!1,radius:5,style:{lineWidth:1,fill:"rgba(128, 128, 128, 0.2)",stroke:"#ccc"}},formatter:void 0,onClick:void 0,zlevel:0,z:8};var qI=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.globalModel=r,o.attr(arguments),o}return u(e,t),e.prototype.attr=function(t){var e=t[0],n=t[1],r=t[2],i=e.x,o=e.y,a=e.textStyle,s=e.symbolType,u=e.symbolWidth,h=e.symbolHeight,c=e.symbolColor,f=e.align,p=e.innerGap,d=e.symbolStyle,g=e.series,v=(e.item,e.isSelected),y=e.inactiveColor,m=e.position,x=e.left,_=(e.width,e.right),w=e.lastHeight,b=e.verticalGap,S=e.fromRight,k=e.addLine,M=e.itemWidth,A=v?c:y,I=g.get("symbol")&&g.get("symbol").normal,T=g.get("line")&&g.get("line").normal,C=new Yh(n.getFormattedText({style:l({textVerticalAlign:"center",truncate:M?{outerWidth:M-p-u}:null},a)})),E=void 0,z=void 0,L=s;if(L||(L="line"===g.type&&T.show?I&&I.show&&I.type||"none":"roundRect"),k&&"line"===g.type&&T.show){var O=T.style;z=new lc(Fc({shape:{x1:0,y1:0,x2:u,y2:0},style:v?O:eo({stroke:y},O,!1),z2:0}))}if(E=k&&"line"===g.type&&T.show?new lp({shape:{symbolType:L,x:(u-h)/2,y:0,width:h,height:h},z2:1}):new lp({shape:{symbolType:L,x:0,y:0,width:u,height:h},z2:1}),!s&&"line"===g.type&&T.show&&I&&I.show&&!xo(I.style)){var D=I.style,P=v?d:{fill:D.fill&&y,stroke:D.stroke&&y};E.setStyle(v?D:eo(P,I.style,!1))}else E.setColor(A),v&&E.setStyle(d);var F=void 0,N=void 0,R=C.getBoundingRect(),B=R.height,W=R.width,j=o+Math.max(h,B)/2,G=(r.getWidth(),void 0),H=void 0;function U(){for(var t=a.text,e="",n=0;n<t.length;n++)e+=t[n],C.attr({style:{text:e}}),W=C.getBoundingRect().width,G=u+W+p,H=M||G,S?m[0]-H<x&&(e=e.replace(/.$/,"\n"+e.match(/.$/)),m[1]+=B/2):m[0]+H>_&&(e=e.replace(/.$/,"\n"+e.match(/.$/)),m[1]+=B/2)}G=u+W+p,H=M||G,S?m[0]-H<x&&(_===m[0]?M||U():(m=[_,m[1]+w+b],M||U())):m[0]+H>_&&(x===m[0]?M||U():(m=[x,m[1]+w+b],M||U())),"right"===f?(F=i,N=i+W+p):(N=i,F=i+u+p),C.attr({position:[F,j-1]}),E.attr({position:[N,j-h/2]}),this.set("text",C),this.set("symbol",E),z&&(z.attr({position:[N,j]}),z&&this.set("line",z)),S&&(m=[m[0]-M,m[1]]),this.group.attr("position",m)},e.prototype.remove=function(){var e;(e=t.prototype.remove).call.apply(e,[this].concat(Array.prototype.slice.call(arguments))),this.globalModel=null},e}(i_),VI=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=HI,i.registerAction(n,If.click,function(t){var e=t.name;"single"===n.get("selectedMode")?n.toggleSingle(e):n.toggleMultiple(e)}),i.registerAction(n,If.mouseover,function(t){var e=t.name;n.isSelected(e)&&co(r.getComponentByName("series",e,!0),function(t){t.get("legendHoverLink")&&i.getViewOfComponentModel(t).highlight(t,r,i)})}),i.registerAction(n,If.mouseout,function(t){var e=t.name;n.isSelected(e)&&co(r.getComponentByName("series",e,!0),function(t){t.get("legendHoverLink")&&i.getViewOfComponentModel(t).downplay(t,r,i)})}),o}return u(e,t),e.prototype.render=function(t,e,n){var r=this;if(this.remove(),t.get("show")){var i=t.position,o=i.left,a=i.right,s=i.top,u=i.width,h=t.items,c=t.selected,f=n.getWidth(),p=n.getHeight(),d=t.get("orient"),g=t.get("align"),v=t.get("inactiveColor"),y=uf(t.get("verticalGap"),p),m=uf(t.get("horizontalGap"),f),x=t.get("innerGap"),_=t.get("addLine"),w=t.get("formatter"),b=t.get("selectedMode"),S=t.get("symbol"),k=S.size,M=S.type,A=S.color,I=S.style;k=ff(k);var T=t.get("textStyle"),C=t.get("itemWidth"),E=t.get("onClick"),z=o,L=s,O=void 0,D=t.get("type"),P=t.get("page"),F=t.get("page").buttonItemGap,N=t.get("page").buttonGap,R=t.get("page").iconColor,B=t.get("page").iconInactiveColor,W=t.get("page").iconSize,j=t.get("page").iconOffset,G=t.get("page").textStyle,H=ao();H.save();var U=function(i,h){h&&(z=o),co(i,function(i){var h=i.name,f=i.icon,p=i.style,S=i.size,P=i.showName,F=void 0!==S?ff(S):k,N=F.width,R=F.height,B=e.getSeriesByName(h,!1),W=void 0;if(B.length?W=B[0]:e.eachComponent("series",function(t){t.findDataNamed(h)&&(W=t)},!1),W){var j=!!c[h],G=r.setShape(h,qI,[{x:0,y:0,textStyle:l({},T,{fill:c[h]?T.fill:v,text:P||(w?w(h,i):h)}),align:g,symbolType:f||M,symbolWidth:N,symbolHeight:R,symbolColor:A||W.getSeriesColor(h),innerGap:x,symbolStyle:eo(p||{},I,!1),series:W,item:i,isSelected:j,inactiveColor:v,position:[z,L],fromRight:!1,left:o,right:a,width:u,lastHeight:O,verticalGap:y,addLine:_,itemWidth:C,type:D},e,n],{animation:!0},function(e){b&&(e.group&&(e=e.group),e._name=h,e.on("click",function(e){var r=this._name;n.dispatchAction(t,If.click,{e:e,name:r,item:i,model:t}),E&&E(r,i,t)}),e.on("mouseover",function(e){var r=this._name;n.dispatchAction(t,If.mouseover,{e:e,name:r,item:i,model:t})}),e.on("mouseout",function(e){var r=this._name;n.dispatchAction(t,If.mouseout,{e:e,name:r,item:i,model:t})}),e.on("mousemove",function(e){var r=this._name;n.dispatchAction(t,If.mousemove,{e:e,name:r,item:i,model:t})}))}),H=G.group.getBoundingRect();"vertical"===d?L=G.group.position[1]+H.height+y:"scroll"===D&&"horizontal"===d?(O=H.height,z=G.group.position[0]+((C||H.width)+m),L=s):(O=H.height,z=G.group.position[0]+((C||H.width)+m),L=G.group.position[1])}})};if("scroll"===D&&"horizontal"===d){H.font=G.fontSize+"px "+G.fontFamily;for(var q=H.measureText("99/99").width,V=t.position.width-q-3*W[0]-N-2*F,Y=[0],$=0,X=0;X<h.length;X++){var K=h[X];H.font=T.fontSize+"px "+T.fontFamily;var Z=H.measureText(K.name).width,Q=k.width+Z+x+m;($+=Q)>V&&(Y.push(X),$=Q)}Y.push(h.length);var J=Y.length-1,tt=t.get("page").pageIndex;H.font=G.fontSize+"px "+G.fontFamily,q=H.measureText(tt+"/"+J).width,U(h.slice(Y[tt-1],Y[tt]),!0),this.setShape("pre",lp,{shape:{symbolType:"triangle",width:W[1],height:W[0],x:-W[1],y:-W[0]},style:{fill:1===tt?B:R},position:[t.position.right-2*W[0]-q-2*F+j[0],t.position.top+j[1]],rotation:Math.PI/2},void 0,function(e){e.on("click",function(e){if(1!==tt){tt--;var n=P;n.pageIndex=tt,t.set("page",n)}})}),this.setShape("next",lp,{shape:{symbolType:"triangle",width:W[1],height:W[0]},style:{fill:tt===J?B:R},position:[t.position.right-W[0]+j[0],t.position.top+j[1]],rotation:-Math.PI/2},void 0,function(e){e.on("click",function(e){if(tt!==J){tt++;var n=P;n.pageIndex=tt,t.set("page",n)}})}),this.setShape("pageText",Yh,tf({style:l({text:tt+"/"+J,x:t.position.right-2*W[0]-q-F+G.textOffset[0],y:t.position.top+G.textOffset[1]},G)}))}else U(h,!1);this.removeShape("background");var et=this.group.getBoundingRect(),nt=uf(t.get("bottom"),p),rt=void 0,it=void 0;switch(t.get("left")){case"center":rt=f/2-et.width/2-et.x,t.position.left=rt;break;case"right":rt=f-5-et.x-et.width;break;case"left":rt=5;break;default:void 0!==t.get("right")&&(rt=a-et.x-et.width)}"middle"===t.get("top")&&(it=p/2-et.height/2-et.y),void 0!==nt&&(it=p-nt-et.height-et.y),rt&&co(this.group.children(),function(t){t.position[0]+=rt}),it&&co(this.group.children(),function(t){t.position[1]+=it});var ot=t.get("background");if(ot.show){var at=t.get("padding"),st=this.group.getBoundingRect();this.setShape("background",ac,{shape:{x:st.x-at[3],y:st.y-at[0],width:st.width+at[1]+at[3],height:st.height+at[0]+at[2],r:ot.radius},style:ot.style,z2:-1,silent:!0})}H.restore()}},e.prototype.renderEdit=function(t,e,n){var r=t.position,i=r.left,o=r.top,a=t.get("left");"center"!==a&&"right"!==a||(i=this.group.getBoundingRect().x);this.setShape("_edit_point",$h,{shape:{cx:i,cy:o,r:7},style:{fill:"rgba(0, 0, 0, 0.8)"},cursor:"move",z2:9999},void 0,function(e){function r(e){var n=e.offsetX,r=e.offsetY;t.set({left:n,top:r})}sf(e,n,{onDragging:r,onDragEnd:r})})},e.prototype.removeEdit=function(){var t=this;this.eachShape(function(e,n){0===n.indexOf("_edit_")&&(e.disableDrag&&e.disableDrag(),t.removeShape(n))})},e}(Uf);VI.type=HI,qp(UI,VI);var YI="axisPointer",$I=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=YI,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.get("seriesLabel"),e=this.globalModel,n=[];co(t.seriesIndex,function(t){if("string"==typeof t){var r=e.getComponentById("series",t);r&&-1===n.indexOf(r.index)&&n.push(r.index)}else-1===n.indexOf(t)&&n.push(t)}),this.seriesIndex=n},e.prototype.updateByXY=function(t,e){var n=this.global,r=this.globalModel,i=n.getViewOfComponentModel(this),o=this.getAxisModel("x"),a=this.getAxisModel("y"),s=o.getIndexByOffset(t,e),l=o.getData()[s],u=a.scale.invert(e),h=o.scale(l)+(o.scale.bandwidth?o.scale.bandwidth()/2:0);i.movePointer(this,o,r,{offsetX:t,offsetY:e,axisData:l,pos:h}),i.movePointer(this,a,r,{offsetX:t,offsetY:e,axisData:u})},e.prototype.updateByIndex=function(t,e){var n=this.global,r=this.globalModel,i=n.getViewOfComponentModel(this),o=this.getAxisModel("x"),a=this.getAxisModel("y");if(o){var s=o.getData()[t],l=o.scale(s)+(o.scale.bandwidth?o.scale.bandwidth()/2:0);i.movePointer(this,o,r,{axisData:s,pos:l})}if(a){var u=a.scale(e);i.movePointer(this,a,r,{offsetY:u,axisData:e})}},e}(Kf);$I.type=YI,$I.defaultOption={$axisIndex:[0,1],enable:!0,line:{show:!0,topExtend:0,style:{stroke:"rgba(51, 51, 51, 0.5)",lineWidth:1}},shadow:{show:!1,style:{fill:"rgba(150,150,150,0.3)"}},label:{show:!0,formatter:void 0,gap:void 0,inRange:void 0,inside:!1,style:{fill:"white",textPadding:5,textBorderRadius:2,textBackgroundColor:"#6A7985"},rotate:void 0},valueIndex:void 0,seriesLabel:{show:!1,gap:5,formatter:function(t){return t},seriesIndex:[],style:{textVerticalAlign:"bottom",textAlign:"right"}},zlevel:0,z:9};var XI=pd(function(t){return t&&-t[1]}).right,KI=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=YI,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){var r=this,i=t.get("$axisIndex"),o=t.get("$axisPointerIndex"),a=e.getComponentByIndex("axisPointer",o),s=[];mo(i)||(i=[i]),co(i,function(t){s.push(e.getComponentByIndex("axis",t))});var l=function(){r.eachShape(function(t){t.hide()})};a?(n.registerAction(a,kf.move,function(n){n.offsetX,n.offsetY;var i=n.dataIndex,o=n.axisDataIndex;n.axisData,n.pos;if(t.get("enable")){var a=e.getComponentByIndex("series",t.get("$seriesIndex")).getRealData(i);if(a){var u=a[1],h=t.get("valueIndex");co(s,function(n){var i=ZI(n,u,h);if(n.scale){var a=n.scale(i);r.movePointer(t,n,e,{offsetY:a,axisDataIndex:o,axisData:u})}})}}else l()}),n.registerAction(a,kf.out,function(){l()})):co(s,function(i){n.registerAction(i,wf.move,function(o){var a=o.e,s=(a=void 0===a?{}:a).offsetX,u=a.offsetY,h=o.index,c=o.dataIndex,f=o.axisData,p=o.pos;t.get("enable")?(n.dispatchAction(t,kf.before,{offsetX:s,offsetY:u,axisDataIndex:h,axisData:f,pos:p,dataIndex:c}),r.movePointer(t,i,e,{offsetX:s,offsetY:u,axisDataIndex:h,axisData:f,pos:p}),n.dispatchAction(t,kf.move,{offsetX:s,offsetY:u,axisDataIndex:h,axisData:f,pos:p,dataIndex:c})):l()}),n.registerAction(i,wf.out,function(e){n.dispatchAction(t,kf.after,e),l(),n.dispatchAction(t,kf.out)})})},e.prototype.movePointer=function(t,e,n,r){var i=this,o=r.offsetX,a=r.offsetY,s=r.axisDataIndex,u=r.axisData,h=r.pos,c=e.getGridModels(),f=e.get("position"),p="bottom"===f||"top"===f,d=t.get("line"),g=t.get("shadow"),v=t.get("label"),y=t.get("seriesLabel"),m=y.formatter,x=t.seriesIndex,_=t.get("z"),w=t.get("zlevel"),b=[];y.show&&"x"===e.get("xOrY")&&(co(x,function(t){var e=n.getComponentByIndex("series",t);if(e&&!1!==e.get("selected")){var r=e.points;if(!r.length)return;var i=p?function(t,e){var n=void 0;for(n=0;n<t.length&&!(null!==t[n]&&e<t[n][0]);n++);return n}(r,o):XI(r,-a);if(r[--i]){var s=void 0;s=p?[o+y.gap,r[i][1]]:[r[i][0]+y.gap,a],b.push(n.getFormattedText({style:l({text:m(r[i][2][1])},y.style),position:s,key:t,zlevel:w,z:_,silent:!0}))}}}),this.setShapeGroup("seriesLabel",Yh,b).show()),"y"===e.get("xOrY")&&(u=ZI(e,u,t.get("valueIndex"))),co(c,function(t,r){var c=t.position,y=c.top,m=c.bottom,x=c.left,b=c.right;if(d.show){var S={};S=void 0===h?p?{y1:y-d.topExtend,y2:m,x1:o,x2:o}:{x1:x,x2:b,y1:a,y2:a}:p?{y1:y-d.topExtend,y2:m,x1:h,x2:h}:{x1:x,x2:b,y1:h,y2:h},i.setShape("line_"+e.index+"_"+t.index,lc,Fc({shape:S,style:d.style,zlevel:w,z:_,silent:!0})).show()}if(g.show&&"band"===e.get("type")){var k={},M=e.scale.step(),A=e.scale.paddingInner()*M/2,I=e.scale.paddingOuter()*M;p?(k={x:h-M/2,y:y,width:M,height:m-y},0===s?A>I&&(k.x+=A-I,k.width-=A-I):s===e.getData().length-1&&A>I&&(k.width-=A-I)):(k={x:x,y:h-M/2,width:b-x,height:M},0===s?A>I&&(k.height-=A-I):s===e.getData().length-1&&A>I&&(k.y+=A-I,k.height-=A-I)),i.setShape("shadow_"+e.index+"_"+t.index,ac,Nc({shape:k,style:g.style,zlevel:w,z:_,silent:!0})).show()}if("all"===v.show||v.show&&0===r){var T=e.get("label"),C=v.inside,E="function"==typeof v.style?v.style(u):v.style,z=void 0===v.gap?T.padding:v.gap,L=v.formatter||e.get("label").formatter||function(t){return t&&t.toFixed?t.toFixed(2):t},O={},D=[];switch(f){case"bottom":D[1]=e.pos+(C?-z:z),O={textVerticalAlign:C?"bottom":"top",textAlign:"center"};break;case"top":D[1]=e.pos-(C?-z:z),O={textVerticalAlign:C?"top":"bottom",textAlign:"center"};break;case"right":D[0]=e.pos+(C?-z:z),O={textVerticalAlign:"middle",textAlign:C?"right":"left"};break;case"left":D[0]=e.pos-(C?-z:z),O={textVerticalAlign:"middle",textAlign:C?"left":"right"}}void 0===h&&(h=p?o:a),p?D[0]=h:D[1]=h;var P={};e.get("color")&&(P.textBackgroundColor=e.get("color"));var F=i.setShape("label_"+e.index+"_"+t.index,Yh,n.getFormattedText({style:l({text:L?L(u):u},O,T.style,E,P),position:D,rotation:(void 0===v.rotate?T.rotate:v.rotate)/180*Math.PI,zlevel:w,z:_,z2:99,silent:!0}));if(F.show(),void 0===v.inRange?T.inRange:v.inRange){var N=F.getBoundingRect();if(e.range){var R=e.range;if(p){var B=R[0]-N.x,W=R[1]+N.x;D[0]=Math.max(Math.min(W,h),B)}else{var j=R[1]-N.y,G=R[0]+N.y;D[1]=Math.max(Math.min(G,h),j)}F.attr("position",D)}}}})},e}(Uf);function ZI(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"ordinal"===t.getAxisType()?t.scale.domain()[e-t.startIndex]:mo(e)?e[n]:e}KI.type=YI,qp($I,KI);var QI="timeline",JI=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=QI,c(r,n)}return u(e,t),e.prototype.update=function(){if(this.get("show")){var t=this._option,e=t.orient,n=t.left,r=t.top,i=t.length,o=t.inverse,a=this.global,s=this.getData(),l=a.getWidth(),u=a.getHeight(),h=this.scale||KA.point(),c=uf(i,"vertical"===e?u:l),f=uf(n,l),p=uf(r,u),d=void 0;s&&h.domain(s),d="vertical"===e?[p,p+c]:[f,f+c],o&&d.reverse(),h.range(d),this.left=f,this.top=p,this.length=c,this.scale=h}},e}(Kf);JI.type=QI,JI.defaultOption={show:!0,currentIndex:0,autoPlay:!0,rewind:!1,loop:!0,playInterval:2e3,realtime:!0,inverse:!1,orient:"horizontal",left:"10%",top:"95%",length:"80%",interval:void 0,intervalLength:50,alwaysShowLast:!1,line:{show:!0,style:{}},label:{show:!0,position:void 0,formatter:void 0,padding:15,style:{normal:{},emphasis:{}}},symbol:{show:"all",type:"circle",size:12,style:{normal:{},emphasis:{}}},currentSymbol:{show:!0,type:"circle",size:15,style:{}},controlBtn:{show:!0,showPlayBtn:"end",showPrevBtn:"start",showNextBtn:"end",size:20,gap:12,playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",style:{normal:{},emphasis:{}}},zlevel:0,z:0};var tT=function(t){function e(n){s(this,e);var r=c(this,t.apply(this,arguments));return r.type=QI,r.dragging=!1,r.interval=setInterval(function(){if(n.get("autoPlay")&&!r.dragging){var t=n.get("currentIndex"),e=n.getData();if(!e)return;var i=e.length,o=n.get("loop");if(n.get("rewind")?t--:t++,t<0){if(!o)return;t+=i}else if(t>=i){if(!o)return;t=0}n.set("currentIndex",t)}},n.get("playInterval")),r}return u(e,t),e.prototype.render=function(t,e,n){var r=this;if(t.get("show")){var i=t.get("line"),o=t.get("label"),a=t.get("symbol"),s=t.get("currentSymbol"),u=t.get("controlBtn"),h=t.get("interval"),c=t.get("intervalLength"),f=t.get("alwaysShowLast"),p=t.get("currentIndex"),d=t.left,g=t.top,v=t.length,y=t.scale,m="vertical"===t.get("orient"),x=t.getData();if(i.show){var _={x1:d,y1:g};m?(_.x2=d,_.y2=g+v):(_.x2=d+v,_.y2=g),this.setShape("line",lc,Fc({shape:_,style:i.style,z2:69}),void 0,function(e){e.on("click",function(e){var n=eT(e.offsetX,e.offsetY,y,m,t.get("inverse"));n!==t.get("currentIndex")&&t.set("currentIndex",n)})})}if(x){var w=[],b=x.length;if(h)for(var S=0;S<b;S+=h)w.push([x[S],S]);else if(c)for(var k=Math.ceil(b/(v/c)),M=0;M<b;M+=k)w.push([x[M],M]);if(f){var A=x[b-1];A!==w[w.length-1][0]&&w.push([A,b-1])}if(o.show){var I=o.formatter,T=o.padding,C=[];co(w,function(t){var n=t[0],r=t[1];C.push(e.getFormattedText({style:l({text:I?I(n):n,textAlign:m?"left":"center",textVerticalAlign:m?"center":"top"},o.style.normal),position:m?[d+T,y(n)]:[y(n),g+T],index:r,z2:89}))}),this.setShapeGroup("labelGroup",Yh,C,void 0,function(n){n.on("click",function(e){var n=e.target;t.set("currentIndex",n.index)}),n.eachChild(function(t){Zc(t,e.getFormattedText(l({},o.style.emphasis)))})})}if(a.show){var E=[],z=a.type,L=ff(a.size),O=L.width,D=L.height;co("all"===a.show?fo(x,function(t,e){return[t,e]}):w,function(t){var e=t[0],n=t[1];E.push({shape:{symbolType:z,x:-O/2,y:-D/2,width:O,height:D},style:l({},a.style.normal),position:m?[d,y(e)]:[y(e),g],index:n,z2:79})}),this.setShapeGroup("symbolGroup",lp,E,void 0,function(e){e.on("click",function(e){var n=e.target;t.set("currentIndex",n.index)}),e.eachChild(function(t){Zc(t,l({},a.style.emphasis))})})}if(s.show){var P=s.type,F=ff(s.size),N=F.width,R=F.height,B=x[p];this.setShape("currentSymbol",lp,{shape:{symbolType:P,x:-N/2,y:-R/2,width:N,height:R},style:s.style,position:m?[d,y(B)]:[y(B),g],index:p,z2:99},{animation:t.get("animation"),animateList:{position:[0,0]}},function(e){e.on("mousedown",function(){r.dragging=!0}),n.on("mousemove",function(n){var i=n.offsetX,o=n.offsetY;nT(t,e,i,o,y,m,r.dragging,t.get("realtime"))}),n.on("mouseup",function(n){var i=n.offsetX,o=n.offsetY;nT(t,e,i,o,y,m,r.dragging,!0),r.dragging=!1}),n.on("globalout",function(n){var i=n.event,o=i.offsetX,a=i.offsetY;nT(t,e,o,a,y,m,r.dragging,!0),r.dragging=!1})})}if(u.show){var W=u.showPlayBtn,j=u.showPrevBtn,G=u.showNextBtn,H=[],U=[];j&&("end"!==j?H.push("prev"):U.push("prev")),G&&("start"!==G?U.push("next"):H.push("next")),W&&("end"!==W?H.push("play"):U.push("play")),rT.call(this,"start",H,t,u),rT.call(this,"end",U,t,u)}}}},e.prototype.remove=function(){t.prototype.remove.call(this),clearInterval(this.interval)},e}(Uf);function eT(t,e,n,r,i){var o=r?e:t,a=n.range()[0];return o=(r?e:t)-a,i&&(o=-o),Math.max(0,Math.min(Math.round(o/n.step()),n.domain().length-1))}function nT(t,e,n,r,i,o,a,s){if(a){var l=t.get("inverse"),u=o?r:n,h=i.range();l&&(h=[].concat(h).reverse()),u<h[0]&&(u=h[0]),u>h[1]&&(u=h[1]);var c=e.position;if(e.attr("position",o?[c[0],u]:[u,c[1]]),s){var f=eT(n,r,i,o,l);f!==t.get("currentIndex")&&t.set("currentIndex",f)}}}function rT(t,e,n,r){var i=this,o=r.gap,a=r.size,s=r.style,l=ff(a),u=l.width,h=l.height,c=n.get("symbol"),f=n.get("autoPlay"),p=n.get("orient"),d=ff(c.show?c.size:0),g=d.width,v=d.height,y=n.left,m=n.top,x=n.length;co(e,function(e,a){var l=void 0,c=void 0,d=0;l="play"===e?f?r.stopIcon:r.playIcon:r[e+"Icon"],"vertical"===p&&("prev"!==e&&"next"!==e||(d=-Math.PI/2)),c="start"===t?"horizontal"===p?[y-v/2-(a+1)*o-(a+.5)*u,m]:[y,m-g/2-(a+1)*o-(a+.5)*h]:"horizontal"===p?[y+x+v/2+(a+.5)*u+o*(a+1),m]:[y,m+x+g/2+(a+.5)*h+o*(a+1)],i.setShape(e,lp,{shape:{symbolType:l,x:-u/2,y:-h/2,width:u,height:h},rotation:d,rectHover:!0,name:e,style:s.normal,position:c},void 0,function(t){Zc(t,s.emphasis),t.on("click",function(e){var i=e.target,o=n.get("currentIndex"),a=n.getData().length;switch(t.name){case"prev":--o<0&&(o=a-1),n.set("currentIndex",o);break;case"next":++o>=a&&(o=0),n.set("currentIndex",o);break;case"play":var s=n.get("autoPlay");s=!s,i.setShape("symbolType",s?r.stopIcon:r.playIcon),n.set("autoPlay",s)}})})})}tT.type=QI,qp(JI,tT);var iT="markPoint",oT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=iT,c(r,n)}return u(e,t),e}(Kf);oT.type=iT,oT.defaultOption={$axisIndex:void 0,$seriesIndex:void 0,show:!0,onClick:void 0,enableSelect:!1,symbol:{type:"pin",size:[40,45],offset:[0,0],style:{normal:{},emphasis:{}}},label:{normal:{show:!1,style:{position:"top"}},emphasis:{show:!1,style:{}}},cursor:"pointer",zlevel:0,z:10};var aT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=iT,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){if(t.get("show")){var r=t.getData(),i=t.get("symbol"),o=t.get("label"),a=t.get("onClick"),s=t.get("animation"),l=t.get("enableSelect"),u=[],h={};co(r,function(n,r){var a=function(t,e,n){var r=e.get("$seriesIndex");!mo(r)&&(r=[r]);var i=r.map(function(t){return n.getComponentByIndex("series",t)}),o=i[0],a=(o||e).getAxisModel("x"),s=(o||e).getAxisModel("y");if(t.type){var l=void 0,u=void 0;return co(i,function(e){if(!1!==e.get("selected")){var n=e.getDataExtent(t.type,t.valueDim,t.valueIndex);if(n&&(!u||"min"===t.type&&n[1]<u[1]||"max"===t.type&&n[1]>u[1])){var r=n[0][0],i=n[0][1];if(sT(a,r)&&sT(s,i)){var o=lT(a,r),h=lT(s,i,t.valueIndex),c=a.scale(o),f=s.scale(h);"band"===a.get("type")&&("bar"===e.get("type")?c+=e.centerOffset:c+=a.scale.bandwidth()/2),l={position:[c,f],data:[o,h]},u=n}}}}),l}if(o&&!1===o.get("selected"))return;if(o&&!t.y&&!t.yValue&&!t.yIndex){var h=o.getRealData();t.xIndex?t.yValue=h[t.xIndex][1]:t.xValue&&-1!==a.getData().indexOf(t.xValue)&&(t.yValue=h[a.getData().indexOf(t.xValue)][1]),mo(t.yValue)&&(t.yValue=t.yValue[t.valueIndex])}var c=uT("x",t,e,o),f=uT("y",t,e,o);return!isNaN(c[0])&&!isNaN(f[0])&&{position:[c[0],f[0]],data:[c[1],f[1]]}}(n,t,e);if(a&&!h[a.data[0]]){h[a.data[0]]=!0;var s=eo(to(n.symbol)||{},i),l=eo(to(n.label)||{},o),c=ff(s.size),f=c.width,p=c.height,d=s.offset,g=a.position,v=a.data,y=s.style.normal,m=s.style.emphasis;if(n.data=v,g){if(l.normal.show){var x=l.normal.formatter,_=l.normal.style.position;xo(_)&&(l.normal.style.position=_(v,n,g)),y.text=x?x(n,g):v[1],y=eo(y,e.getFormattedText(l.normal.style),!0)}if(l.normal.show||l.emphasis.show){var w=l.emphasis.formatter||l.normal.formatter,b=l.emphasis.style.position;xo(b)&&(l.emphasis.style.position=b(v,n,g)),m.text=w?w(n,g):v[1],m=eo(m,e.getFormattedText(l.emphasis.style),!0)}u.push({cursor:t.get("cursor"),shape:{symbolType:s.type,x:-f/2+d[0],y:-p/2+d[1],width:f,height:p,center:s.center,offsetPoint:s.offsetPoint},position:g,style:y,key:n.name||r,hoverStyle:m,value:v[1],data:n,index:r,rectHover:!0})}}}),this.setShapeGroup("markPoints",lp,u,{animation:s,animateFrom:{shape:{x:0,y:0,width:0,height:0}},animateList:{position:[0,0]}},function(e){e.on("click",function(e){a&&a(e.target.data,e),n.dispatchAction(t,Cf.pointClick,{data:e.target.data,e:e}),l&&(co(r,function(t){t.selected=!1}),e.target.data.selected=!0,t.dirty())}),e.on("mousemove",function(e){n.dispatchAction(t,Cf.pointMousemove,{data:e.target.data,e:e})}),e.on("mouseout",function(e){n.dispatchAction(t,Cf.pointMouseout,{data:e.target.data,e:e})}),e.on("mouseover",function(e){n.dispatchAction(t,Cf.pointMouseover,{data:e.target.data,e:e})})},function(t){Zc(t,t.hoverStyle)}),this.getShape("markPoints").eachChild(function(t){t.data.selected&&(t.__isHover=!1,t.trigger("emphasis"))})}else this.removeShape("markPoints")},e}(Uf);function sT(t,e){if("ordinal"===t.getAxisType())return e>=t.startIndex&&e<=t.endIndex;if(mo(e)){for(var n=0;n<e.length;n++)if(e[n]<t.domain[0]||e[n]>t.domain[1])return!1;return!0}return e>=t.domain[0]&&e<=t.domain[1]}function lT(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"ordinal"===t.getAxisType()?t.scale.domain()[e-t.startIndex]:mo(e)?e[n]:e}function uT(t,e,n,r){var i=e[t],o=e[t+"Value"],a=e[t+"Index"],s=void 0;if(void 0!==i)s=i,o=i;else if(void 0!==o){var l=(r||n).getAxisModel(t);if(!sT(l,"ordinal"===l.getAxisType()?l.domain.indexOf(o)+l.startIndex:o))return!1;"time"===l.get("type")&&(o=new Date(o)),l&&(s=l.scale(o)),"band"===l.get("type")&&(s+=l.scale.bandwidth()/2)}else if(void 0!==a){var u=(r||n).getAxisModel(t);if(!(a>=u.startIndex&&a<=u.endIndex))return!1;o=u.scale.domain()[a-u.startIndex],"time"===u.get("type")&&(o=new Date(o)),u&&(s=u.scale(o)),"band"===u.get("type")&&(s+=u.scale.bandwidth()/2)}return[s,o]}aT.type=iT,qp(oT,aT);var hT="title",cT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=hT,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this._option,e=t.left,n=t.top,r=t.show,i=this.global,o=i.getWidth(),a=i.getHeight();this.show=r,r&&(this.left=uf(e,o),this.top=uf(n,a))},e}(Kf);cT.type=hT,cT.emphasisList=["style"],cT.defaultOption={show:!0,text:void 0,left:"50%",top:"5%",link:"",target:"blank",style:{normal:{textAlign:"center",textVerticalAlign:"center",fill:"#333",fontStyle:"normal",fontWeight:"normal",fontFamily:"sans-serif",fontSize:18},emphasis:{}},zlevel:0,z:10};var fT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=hT,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r=t.left,i=t.top;if(t.show){var o=t.getData(),a=t.get("text")||o&&o.text||o,s=t.get("link"),u=(t.get("target"),t.get("style")),h=t.get("rotation"),c=t.get("cursor");this.setShape("title",Yh,e.getFormattedText({position:[r,i],style:l({text:a},u.normal),rechHover:!0,rotation:h,cursor:c}),void 0,function(r){Zc(r,e.getFormattedText(eo(u.emphasis,u.normal))),r.on("click",function(e){n.dispatchAction(t,_f.titleClick,{e:e}),s&&window.open(s,"_"+t.get("target"))})})}},e}(Uf);fT.type=hT,qp(cT,fT);var pT="markLine",dT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=pT,c(r,n)}return u(e,t),e}(Kf);dT.type=pT,dT.emphasisList=["lineStyle"],dT.defaultOption={zlevel:0,z:10,show:!0,$axisIndex:void 0,$seriesIndex:void 0,lineStyle:{normal:{lineWidth:1},emphasis:{}},label:{normal:{show:!1,style:{position:"top"}},emphasis:{show:!1,style:{}}}};var gT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=pT,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){if(t.get("show")){var r=t.getData(),i=t.get("lineStyle"),o=t.get("label").normal,a=t.get("animation"),s=[];co(r,function(n,r){var a=eo((n.lineStyle||{}).normal||{},i.normal),u=eo(n.label&&n.label.normal||{},o),h={};if(u.show){var c=u.formatter?u.formatter(n):n.value;h=e.getFormattedText(l({text:c},u.style))}if(n.points){var f=t.getAxisModel("x"),p=[];co(n.points,function(n){var r=mT(n,t,e)||{},i=r.position;r.data;i&&(["left","right"].indexOf(f.get("position"))>-1&&(i=[i[1],i[0]]),p.push(i))}),p.length>=2&&s.push(Fc({shape:{x1:p[0][0],y1:p[0][1],x2:p[1][0],y2:p[1][1],percent:1},data:n,style:l({},a,h),key:r}))}else if(n.type){var d=e.getComponentByIndex("series",t.get("$seriesIndex"));if(d&&!1!==d.get("selected")){var g=(d||t).getAxisModel("x"),v=t.getAxisModel("y"),y=d.getDataExtent(n.type),m=void 0;m="average"===n.type?{x1:g.range[0],y1:v.scale(y),x2:g.range[1],y2:v.scale(y),percent:1}:{x1:g.range[0],y1:v.scale(y[0][1]),x2:g.range[1],y2:v.scale(y[0][1]),percent:1},s.push(Fc({shape:m,data:n,style:l({},a,h),key:r}))}}}),this.setShapeGroup("markLines",lc,s,{animation:a,animateFrom:{shape:{percent:.01}},animateList:{shape:{x1:0,y1:0,x2:0,y2:0}}},function(e){e.on("click",function(e){n.dispatchAction(t,Ef.lineClick,{data:e.target.data,e:e})}),e.on("mouseover",function(e){n.dispatchAction(t,Ef.lineMouseover,{data:e.target.data,e:e})}),e.on("mouseout",function(e){n.dispatchAction(t,Ef.lineMouseout,{data:e.target.data,e:e})}),e.on("mousemove",function(e){n.dispatchAction(t,Ef.lineMousemove,{data:e.target.data,e:e})})})}else this.removeShape("markLines")},e}(Uf);function vT(t,e){return"ordinal"===t.getAxisType()?e>=t.startIndex&&e<=t.endIndex:e>=t.domain[0]&&e<=t.domain[1]}function yT(t,e){return"ordinal"===t.getAxisType()?t.scale.domain()[e-t.startIndex]:e}function mT(t,e,n){var r=e.get("$seriesIndex");!mo(r)&&(r=[r]);var i=r.map(function(t){return n.getComponentByIndex("series",t)}),o=i[0],a=(o||e).getAxisModel("x"),s=(o||e).getAxisModel("y");if(t.type){var l=void 0,u=void 0;return co(i,function(e){var n=e.getDataExtent(t.type,t.valueDim,t.valueIndex);if(n&&(!u||"min"===t.type&&n[1]<u[1]||"max"===t.type&&n[1]>u[1])){var r=n[0][0],i=n[0][1];if(vT(a,r)&&vT(s,i)){var o=yT(a,r),h=yT(s,i),c=a.scale(o),f=s.scale(h);"band"===a.get("type")&&("bar"===e.get("type")?c+=e.centerOffset:c+=a.scale.bandwidth()/2),l={position:[c,f],data:[o,h]},u=n}}}),l}if(o&&!t.y&&!t.yValue&&!t.yIndex){var h=o.getRealData();t.xIndex?t.yValue=h[t.xIndex][1]:t.xValue&&(t.yValue=h[a.getData().indexOf(t.xValue)][1])}var c=xT("x",t,e,o),f=xT("y",t,e,o);return isNaN(c[0])||isNaN(f[0])||(t.xFormatter&&"function"==typeof t.xFormatter&&(c[0]=t.xFormatter(c[0],a.scale.bandwidth())),t.yFormatter&&"function"==typeof t.yFormatter&&(f[0]=t.xFormatter(f[0]))),!isNaN(c[0])&&!isNaN(f[0])&&{position:[c[0],f[0]],data:[c[1],f[1]]}}function xT(t,e,n,r){var i=e[t],o=e[t+"Value"],a=e[t+"Index"],s=void 0;if(void 0!==i){var l=(r||n).getAxisModel(t);["left","top"].indexOf(i)>-1?i=l.range[0]:["right","bottom"].indexOf(i)>-1&&(i=l.range[1]),s=i,o=i}else if(void 0!==o){var u=(r||n).getAxisModel(t),h="ordinal"===u.getAxisType();if("markArea"!==n.type&&!vT(u,h?u.domain.indexOf(o)+u.startIndex:o))return!1;if("time"===u.get("type")&&(o=new Date(o)),u){var c=u.domain,f=c[0],p=c[c.length-1],d=o;o<f?d=f:o>p&&(d=p),s=u.scale(d)}"band"===u.get("type")&&(s+=u.scale.bandwidth()/2)}else if(void 0!==a){var g=(r||n).getAxisModel(t);if(a>=g.startIndex&&a<=g.endIndex)o=g.scale.domain()[a-g.startIndex],"time"===g.get("type")&&(o=new Date(o)),g&&(s=g.scale(o)),"band"===g.get("type")&&(s+=g.scale.bandwidth()/2);else{if("markArea"!==n.type)return!1;o=a<g.startIndex?g.scale.domain()[0]:g.scale.domain()[g.endIndex-g.startIndex],"time"===g.get("type")&&(o=new Date(o)),g&&(s=g.scale(o)),"band"===g.get("type")&&(s+=g.scale.bandwidth()/2)}}return[s,o]}gT.type=pT,qp(dT,gT);var _T="zoomBrush",wT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=_T,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.global;this.left=uf(this.get("left"),t.getWidth()),this.top=uf(this.get("top"),t.getHeight())},e.prototype.toggleEnable=function(t){void 0===t?this.set({enable:!this.get("enable")}):this.set({enable:t})},e.prototype.pushHistory=function(t){if(t){var e=this.get("history");e.push(t),this.set("history",e)}},e.prototype.popHistory=function(){var t=this.globalModel,e=(this.global,this.get("history")),n=e.pop();n&&(co(n,function(e){t.getComponentByIndex("axis",e[0]).setZoom(e[1])}),this.set("history",e))},e}(Kf);wT.type=_T,wT.emphasisList=["iconStyle"],wT.defaultOption={axisIndex:[0],enable:!1,show:!0,left:"90%",top:"5%",style:{fill:"rgba(0, 0, 0, 0.3)"},title:{zoom:"",back:""},icon:{zoom:"path://M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"path://M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},iconStyle:{normal:{stroke:"#666",fill:void 0},emphasis:{stroke:"#6cc"}},history:[],zlevel:0,z:8};var bT=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=_T,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){var r=this,i=[],o=[],a=void 0,s=void 0,l=void 0,u=void 0,h=void 0;n.on("mousedown",function(r){if(t.get("enable")&&!n.isEnableEdit&&!n.isEnableSketch){var c=r.offsetX,f=r.offsetY,p=t.get("axisIndex");if((a=e.getComponent("grid",function(t){return t.isPointInGrid(c,f)})[0])&&!u){a.index;h=new Date,i=[],o=[],u=!0,s=c,l=f,co(p,function(t){var n=e.getComponentByIndex("axis",t);n.get("$gridIndex");~["bottom","top"].indexOf(n.get("position"))?o.push(n):i.push(n)})}}}),n.on("mousemove",function(e){if(u){var n=e.offsetX,h=e.offsetY,c=t.get("style"),f=a.position,p=f.left,d=f.right,g=f.top,v=f.bottom,y=f.width,m=f.height,x=kT(n,p,d),_=kT(h,g,v),w=void 0;i.length&&o.length?w={x:s,y:l,width:x-s,height:_-l}:i.length?w={x:p,y:l,width:y,height:_-l}:o.length&&(w={x:s,y:g,width:x-s,height:m}),w&&r.setShape("brushRect",ac,{shape:w,style:c,z:999})}}),n.on("mouseup",function(c){if(u){var f=c.offsetX,p=c.offsetY,d=[];new Date-h>200&&(s!=f||l!=p)&&(i.length&&(d=d.concat(ST("vertical",i,a,e,n,c,s,l))),o.length&&(d=d.concat(ST("horizontal",o,a,e,n,c,s,l))),d.length&&t.pushHistory(d)),r.removeShape("brushRect"),h=void 0,u=!1,i=[],o=[],a=void 0}})},e.prototype.render=function(t,e,n){if(t.get("show")){var r=t.left,i=t.top,o=t.get("icon"),a=t.get("iconStyle").normal,s=t.get("iconStyle").emphasis,l=t.get("enable"),u=t.get("history");this.setShape("zoom",lp,{shape:{symbolType:o.zoom,x:0,y:0,width:20,height:20},position:[r,i],style:l?s:a,rectHover:!0},void 0,function(e){e.on("click",function(e){t.toggleEnable(),this.setStyle(t.get("enable")?s:a)})}),this.setShape("back",lp,{shape:{symbolType:o.back,x:35,y:0,width:16,height:20},position:[r,i],style:u.length?s:a,rectHover:!0},void 0,function(e){e.on("click",function(e){t.popHistory()})})}},e}(Uf);function ST(t,e,n,r,i,o,a,s){var l=n.position,u=l.left,h=l.bottom,c=l.width,f=l.height,p=o.offsetX,d=o.offsetY,g=[];return co(e,function(e){var n=r.getComponentByIndex("dataZoom",e.get("$dataZoomIndex"))||e,i=n.start,o=n.end,l=o-i,v=void 0,y=void 0;"vertical"===t?(v=i+(h-s)/f*l,y=i+(h-d)/f*l):(v=i+(a-u)/c*l,y=i+(p-u)/c*l);var m=function(t){return{start:Math.min(t.start,t.end),end:Math.max(t.start,t.end)}}({start:v,end:y});e.setZoom(m),g.push([e.index,{start:i,end:o}])}),g}function kT(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}bT.type=_T,qp(wT,bT);var MT="sketch",AT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=MT,c(r,n)}return u(e,t),e.prototype.update=function(){this.globalModel;var t=this.global,e=t.getWidth(),n=t.getHeight();t.isEnableSketch=!!this.get("paintTool"),this.left=uf(this.get("left"),e),this.top=uf(this.get("top"),n)},e.prototype.popShape=function(){this.globalModel,this.global;var t=this.get("shapeList");t.pop(),this.set("shapeList",t)},e.prototype.deleteShape=function(t){var e=this.get("shapeList"),n=hf(e,function(e){return t.shapeIndex===e.shapeIndex});"number"==typeof n&&(e.splice(n,1),this.set("shapeList",e))},e}(Qf);AT.type=MT,AT.emphasisList=["style","iconStyle"],AT.defaultOption={show:!0,left:"10%",top:20,paintTool:!1,shapeList:[],currentEditIndex:void 0,inGrid:!1,inAxis:!0,disableWhenEnd:!1,confirmWhenDelete:void 0,style:{normal:{fill:"rgba(49, 207, 214, 0.1)",stroke:"rgb(49, 207, 214)",lineWidth:1},emphasis:{lineWidth:2}},icon:["line","verticalLine","horizontalLine","rect","verticalRect","horizontalRect","ellipse","arrowLine","back","delete"],iconType:{back:"path://M15.0707952,6.00027263 C20.0087669,6.03831644 24,10.053057 24,15 C24,19.9705627 19.9705627,24 15,24 C10.0294373,24 6,19.9705627 6,15 L8,15 C8,18.8659932 11.1340068,22 15,22 C18.8659932,22 22,18.8659932 22,15 C22,11.1340068 18.8659932,8 15,8 L14.5857864,8 L16.6568542,10.0710678 L15.2426407,11.4852814 L12.4142136,8.65685425 L11,7.24264069 L15.2426407,3 L16.6568542,4.41421356 L15.0707952,6.00027263 Z",delete:"path://M21,22 L21,24 L11,24 L9,24 L9,11 L11,11 L11,22 L19,22 L19,11 L21,11 L21,22 Z M17,8 L23,8 L23,10 L7,10 L7,8 L13,8 L13,6 L17,6 L17,8 Z M13,11 L14,11 L14,21 L13,21 L13,11 Z M16,11 L17,11 L17,21 L16,21 L16,11 Z",rect:"path://M22,8 L8,8 L8,22 L22,22 L22,8 Z M24,6 L24,24 L6,24 L6,6 L24,6 Z",verticalRect:"path://M6,15 L6,6 L24,6 L24,8 L8,8 L8,15 L6,15 Z M6,22 L22,22 L22,15 L24,15 L24,24 L6,24 L6,22 Z M22,10 L24,10 L24,13 L22,13 L22,10 Z M6,17 L8,17 L8,20 L6,20 L6,17 Z",horizontalRect:"path://M8,22 L15,22 L15,24 L6,24 L6,22 L6,6 L8,6 L8,22 Z M24,8 L24,24 L22,24 L22,8 L15,8 L15,6 L24,6 L24,8 Z M10,6 L13,6 L13,8 L10,8 L10,6 Z M17,22 L20,22 L20,24 L17,24 L17,22 Z",line:"path://M20.5563492,11 L11,20.5563492 L11,23 L7,23 L7,19 L9.72792206,19 L19,9.72792206 L19,7 L23,7 L23,11 L20.5563492,11 Z",verticalLine:"path://M14,5 L14,25 L16,25 L16,5 M5,5 M25,25 Z",horizontalLine:"path://M5,14 L25,14 L25,16 L5,16 M5,5 M25,25 Z",ellipse:"path://M15,23 C19.418278,23 23,19.418278 23,15 C23,10.581722 19.418278,7 15,7 C10.581722,7 7,10.581722 7,15 C7,19.418278 10.581722,23 15,23 Z M15,25 C9.4771525,25 5,20.5228475 5,15 C5,9.4771525 9.4771525,5 15,5 C20.5228475,5 25,9.4771525 25,15 C25,20.5228475 20.5228475,25 15,25 Z",arrowLine:"path://M19.7279221,9 L18,9 L18,7 L23,7 L23,9 L23,12 L21,12 L21,10.5563492 L9.41421356,22.1421356 L8,20.7279221 L19.7279221,9 Z"},iconStyle:{normal:{fill:"#d8d8d8"},emphasis:{fill:"#9b9b9b"}},zlevel:0,z:9};var IT=Eh.extend({type:"ellipse",shape:{x:0,y:0,width:0,height:0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x,r=e.y,i=e.width,o=e.height,a=i/2*.5522848,s=o/2*.5522848,l=n+i,u=r+o,h=n+i/2,c=r+o/2;t.moveTo(n,c),t.bezierCurveTo(n,c-s,h-a,r,h,r),t.bezierCurveTo(h+a,r,l,c-s,l,c),t.bezierCurveTo(l,c+s,h+a,u,h,u),t.bezierCurveTo(h-a,u,n,c+s,n,c)}}),TT=Eh.extend({type:"arrowLine",shape:{x1:0,y1:0,x2:0,y2:0,arrowAngle:60,arrowSize:20},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2,a=e.arrowAngle,s=e.arrowSize,l=Math.atan2(o-r,i-n),u=a/2/180*Math.PI;t.moveTo(n,r),t.lineTo(i,o),t.moveTo(i,o),t.lineTo(i-Math.cos(u-l)*s,o+Math.sin(u-l)*s),t.moveTo(i,o),t.lineTo(i-Math.cos(-l-u)*s,o+Math.sin(-l-u)*s)}});function CT(t,e,n){return fo(t,function(t){return zT(t,e,n)})}function ET(t,e,n,r){return fo(t,function(t){return function(t,e,n,r){return[OT(e,t,r),OT(n,t,r)]}(t,e,n,r)})}function zT(t,e,n){return[LT(e,t),LT(n,t)]}function LT(t,e){return"ordinal"===t.getAxisType()?t.getIndexByOffset(e[0],e[1])+t.startIndex:t.scale.invert(e[["bottom","top"].indexOf(t.get("position"))>-1?0:1])}function OT(t,e,n){var r=["bottom","top"].indexOf(t.get("position"))>-1;if("ordinal"===t.getAxisType()){var i=t.scale(t.scale.domain()[e[r?0:1]-t.startIndex]);return n&&"band"===t.get("type")&&(i+=t.scale.bandwidth()/2),i}return t.scale(e[r?0:1])}function DT(t,e,n){var r=t.scale,i=void 0,o=void 0,a=e[0][0],s=e[1][0];if("ordinal"===t.getAxisType()){var l=r.domain(),u=r.paddingInner?r.paddingInner()*r.step()/2:0;a=Math.max(a,t.startIndex)-t.startIndex,s=Math.min(s,t.endIndex)-t.startIndex,n?(i=r(l[a])+r.bandwidth()/2,o=r(l[s])+r.bandwidth()/2):s>=a?(i=r(l[a])-u,o=r(l[s])-u+("band"===t.get("type")?r.step():0)):(i=r(l[a])-u+("band"===t.get("type")?r.step():0),o=r(l[s])-u)}else i=r(a),o=r(s);return{left:i,right:o}}function PT(t,e,n){var r=t.scale,i=void 0,o=void 0,a=e[1][1],s=e[0][1];if("ordinal"===t.getAxisType()){var l=r.domain(),u=r.paddingInner?r.paddingInner()*r.step()/2:0;a=Math.max(a,t.startIndex)-t.startIndex,s=Math.min(s,t.endIndex)-t.startIndex,n?(i=r(l[a])+r.bandwidth()/2,o=r(l[s])+r.bandwidth()/2):s>=a?(o=r(l[s])-u,i=r(l[a])-u+("band"===t.get("type")?r.step():0)):(o=r(l[s])-u+("band"===t.get("type")?r.step():0),i=r(l[a])-u)}else i=r(a),o=r(s);return{top:o,bottom:i}}function FT(t,e,n,r,i){var o=void 0,a=void 0,s=void 0,l=void 0;if(e){var u=DT(n,t,i),h=PT(r,t,i);o=u.left,s=h.top,a=u.right,l=h.bottom}else o=t[0][0],s=t[0][1],a=t[1][0],l=t[1][1];return{left:o,right:a,top:s,bottom:l}}function NT(t,e,n,r){var i=t.shape,o=t.style,a=FT(i.points,i.axisIndex,n,r),s=a.left,l=a.right,u=a.top;return{attr:Nc({shape:{x:s,y:u,width:l-s,height:a.bottom-u},style:o}),Shape:ac}}function RT(t,e,n,r){var i=t.shape,o=t.style,a=i.points,s=r.range[0],l=r.range[1],u=DT(n,a),h=u.left;return{attr:Nc({shape:{x:h,y:s,width:u.right-h,height:l-s},style:o}),Shape:ac}}function BT(t,e,n,r){var i=t.shape,o=t.style,a=i.points,s=n.range[0],l=n.range[1],u=PT(r,a),h=u.top;return{attr:Nc({shape:{x:s,y:h,width:l-s,height:u.bottom-h},style:o}),Shape:ac}}function WT(t,e,n,r){var i=t.shape,o=t.style,a=FT(i.points,i.axisIndex,n,r,!0),s=a.left,l=a.right;return{attr:Fc({shape:{x1:s,y1:a.top,x2:l,y2:a.bottom},style:o}),Shape:lc}}function jT(t,e){var n=t.scale;if("ordinal"===t.getAxisType()){var r=n.domain();n.paddingInner&&(n.paddingInner(),n.step());e=n(r[e=Math.max(e,t.startIndex)])+n.bandwidth()/2}else e=n(e);return e}function GT(t,e,n,r){var i=t.shape,o=t.style,a=i.points,s=r.range[0],l=r.range[1],u=jT(n,a[0][0]);return{attr:Fc({shape:{x1:u,y1:s,x2:u,y2:l},style:o}),Shape:lc}}function HT(t,e,n,r){var i=t.shape,o=t.style,a=i.points,s=n.range[0],l=n.range[1],u=jT(r,a[0][1]);return{attr:Fc({shape:{x1:s,y1:u,x2:l,y2:u},style:o}),Shape:lc}}function UT(t,e,n,r){var i=t.shape,o=t.style,a=FT(i.points,i.axisIndex,n,r),s=a.left,l=a.right,u=a.top;return{attr:{shape:{x:s,y:u,width:l-s,height:a.bottom-u},style:o},Shape:IT}}NT.pointNum=2,RT.onlyInAxis=!0,RT.pointNum=2,BT.onlyInAxis=!0,BT.pointNum=2,WT.pointNum=2,GT.onlyInAxis=!0,GT.pointNum=1,HT.onlyInAxis=!0,HT.pointNum=1,UT.pointNum=2,UT.pointNum=2;var qT={rect:NT,verticalRect:RT,horizontalRect:BT,line:WT,verticalLine:GT,horizontalLine:HT,ellipse:UT,arrowLine:function(t,e,n,r){var i=t.shape,o=t.style,a=FT(i.points,i.axisIndex,n,r,!0),s=a.left,l=a.right;return{attr:{shape:{x1:s,y1:a.top,x2:l,y2:a.bottom},style:o},Shape:TT}}},VT=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=MT,o.initEvent(n,r,i),o}return u(e,t),e.prototype.initEvent=function(t,e,n){var r=this,i=t.get("$axisIndex"),o=!1,a=!1,s=void 0,l=[],u=void 0,h=void 0,c=void 0;co(t.get("$axisIndex"),function(t){var n=e.getComponentByIndex("axis",t);["bottom","top"].indexOf(n.get("position"))>-1?h=n:c=n}),c&&(s=c.getGridModels()[0]),n.on("mousedown",function(e){var r=e.offsetX,i=e.offsetY,h=e.target,c=t.get("paintTool");!c||!qT[c]||o||n.isEnableEdit||h&&h.isSketchShape||(!t.get("inGrid")||s&&s.isPointInGrid(r,i))&&(!(a=t.get("inAxis")&&s&&s.isPointInGrid(r,i))&&qT[c].onlyInAxis||(l[0]=[r,i],u=new Date,o=!0))}),n.on("mousemove",function(e){var n=e.offsetX,s=e.offsetY;if(o){var u={style:t.get("style").normal,shapeType:t.get("paintTool")};switch(qT[u.shapeType].pointNum){case 1:l[0]=[n,s];break;case 2:default:l[1]=[n,s]}u.shape=a?{points:CT(l,h,c),axisIndex:i}:{points:l};var f=qT[u.shapeType](u,t,h,c),p=f.attr,d=f.Shape;p.z=t.get("z"),r.setShape("tempShape",d,p)}}),n.on("mouseup",function(e){e.offsetX,e.offsetY;if(o){if(new Date-u>200){var n={style:t.get("style").normal,z:t.get("z"),hoverStyle:t.get("style").emphasis};n.shape=a?{points:CT(l,h,c),axisIndex:i}:{points:l},n.shapeIndex=+new Date,n.shapeType=t.get("paintTool"),t.get("shapeList").push(n),t.set("shapeList",t.get("shapeList"))}r.removeShape("tempShape"),o=!1,l=[],t.get("disableWhenEnd")&&t.set("paintTool",!1)}}),n.on("click",function(e){var n=e.target;n&&n.isSketchShape||!t.get("paintTool")||"number"!=typeof t.get("currentEditIndex")||t.set("currentEditIndex",void 0)})},e.prototype.render=function(t,e,n){var r=this,i=t.get("shapeList"),o=t.get("paintTool"),a=t.get("icon"),s=t.get("iconType"),l=t.get("iconStyle").normal,u=t.get("iconStyle").emphasis,h=t.top,c=t.left,f=void 0,p=void 0;co(t.get("$axisIndex"),function(t){var n=e.getComponentByIndex("axis",t);["bottom","top"].indexOf(n.get("position"))>-1?f=n:p=n}),t.get("show")&&co(a,function(e,n){var i;i=o===e?u:l,r.setShape("icon_"+e,lp,{shape:{symbolType:s[e],x:35*n,y:0,width:20,height:20},position:[c,h],style:i,rectHover:!0,iconName:e,z2:999},void 0,function(e){switch(Zc(e,u,{disableMouse:!0}),e.iconName){case"back":e.on("click",function(){t.popShape()}),e.on("mousedown",function(t){t.target.trigger("emphasis")}),e.on("mouseup",function(t){t.target.trigger("normal")});break;default:e.on("click",function(){t.get("paintTool")===this.iconName?t.set("paintTool",!1):t.set("paintTool",this.iconName)})}})}),this.eachShape(function(t,e){e.match("shapeList_")&&r.removeShape(e)}),co(i,function(e){var i=qT[e.shapeType](e,t,f,p),o=i.attr,a=i.Shape;o.shapeIndex=e.shapeIndex,o.isSketchShape=!0,r.setShape("shapeList_"+e.shapeIndex,a,o,void 0,function(r){Zc(r,e.hoverStyle),r.on("click",function(e){var i=e.target,o=t.get("paintTool");if(o)if("delete"===o){var a=t.get("confirmWhenDelete");a&&!a()||t.deleteShape(i)}else t.set("currentEditIndex",r.shapeIndex);n.dispatchAction(t,Lf.itemClick,e)})})});var d=t.get("currentEditIndex"),g=void 0;if(o&&"number"==typeof d&&(g=go(i,function(t){return t.shapeIndex===d})),g){var v=[],y=g.shape.points;g.shape.axisIndex&&(y=ET(y,f,p,!0));for(var m=0;m<y.length;m++)v.push({shape:{type:"rect",x:y[m][0]-5,y:y[m][1]-5,width:10,height:10},style:{fill:"white",stroke:"rgb(49, 207, 214)"},z2:999,z:t.get("z"),pointIndex:m,isSketchShape:!0,rectHover:!0});this.setShapeGroup("editPoints",lp,v,void 0,function(e){sf(e,n,{onDragging:function(e){var n=e.target,r=e.offsetX,i=e.offsetY,o=t.get("shapeList"),a=t.get("currentEditIndex"),s=go(o,function(t){return t.shapeIndex===a});s&&(s.shape.points[n.pointIndex]=s.shape.axisIndex?zT([r,i],f,p):[r,i],t.dirty())}})})}else this.removeShape("editPoints")},e}(Hf);VT.type=MT,qp(AT,VT);var YT="calendar",$T=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=YT,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.get("range"),e=this.get("dayLabel"),n=this.get("orient"),r=e.firstDay%7,i=void 0,o=void 0,a=[],s={};if(mo(t)){var l=new Date(t[0]);i=new Date(l.getFullYear(),l.getMonth(),l.getDate()),o=new Date(t[1])}else{var u=t.toString().split("-");1===u.length?(i=new Date(t,0,1),o=new Date(+t+1,0,1)):(i=new Date(u[0],+u[1]-1,1),o=new Date(u[0],+u[1],1))}for(var h=Gv(i,o),c=void 0,f=0;f<h.length;f++){var p=h[f],d=p.getDay()-r,g=Uv.count(h[0],p),v=p.getFullYear()+"-"+p.getMonth();if(!s[v]&&(s[v]=[]),d<0&&(d+=7),p.getDay()<r&&g--,"horizontal"!==n){var y=[d,g];g=y[0],d=y[1]}var m={d:p,yi:d,xi:g};0===f?(s[v][0]=m,c=v):v!==c&&(s[v][0]=m,s[c][1]=a[f-1],c=v),a.push(m)}s[c][1]=a[a.length-1],a[0].xi<0&&co(a,function(t){t.xi++}),this.days=a,this.months=s},e.prototype.calcPoint=function(t){var e=this.days,n=this.get("cellSize"),r=this.get("left"),i=this.get("top"),o=void 0;if(t=new Date(t),o=go(e,function(e){var n=e.d;return n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()==t.getDate()}))return o.x=r+n*(o.xi+.5),o.y=i+n*(o.yi+.5),o},e}(Kf);$T.type=YT,$T.defaultOption={show:!0,left:50,top:50,cellSize:20,orient:"horizontal",range:(new Date).getFullYear(),itemStyle:{stroke:"#ccc",fill:"#fff",lineWidth:1},splitLine:{show:!0,style:{stroke:"#000",lineWidth:1,fill:null}},dayLabel:{show:!0,firstDay:0,margin:10,position:"start",nameMap:"cn",style:{fill:"#000"}},monthLabel:{show:!0,margin:10,position:"start",nameMap:"cn",style:{fill:"#000"}},yearLabel:{show:!0,margin:40,style:{fill:"#ccc",fontSize:20}},zlevel:0,z:0};var XT={cn:["","","","","","",""],en:["S","M","T","W","T","F","S"]},KT={cn:["","","","","","","","","","","",""],en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},ZT=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=YT,c(r,n)}return u(e,t),e.prototype.render=function(t,e){this.renderDays.apply(this,arguments),this.renderSplitLine.apply(this,arguments),this.renderDayLabel.apply(this,arguments),this.renderMonthLabel.apply(this,arguments),this.renderYearLabel.apply(this,arguments)},e.prototype.renderDays=function(t,e){for(var n=t.get("cellSize"),r=t.get("left"),i=t.get("top"),o=t.get("itemStyle"),a=t.days,s=[],u=0;u<a.length;u++){var h=a[u],c={shape:{x:r,y:i,width:n,height:n},position:[h.xi*n,h.yi*n],style:l({text:h.d.getDate()},o),silent:!0};s.push(c)}this.setShapeGroup("days",ac,s)},e.prototype.renderSplitLine=function(t,e){var n=t.get("splitLine");if(n.show){var r=t.months,i=t.get("left"),o=t.get("top"),a=t.get("cellSize"),s=t.get("orient"),l=[];for(var u in r){var h={shape:{points:QT(r[u],a,s)},position:[i,o],style:n.style,silent:!0};l.push(h)}this.setShapeGroup("months",ec,l)}},e.prototype.renderDayLabel=function(t,e){var n=t.get("dayLabel");if(n.show){var r=n.nameMap,i=n.margin,o=n.position,a=n.style,s=n.firstDay,u=(t.days,t.get("left")),h=t.get("top"),c=t.get("cellSize"),f=t.get("orient"),p=[];"string"==typeof r&&(r=XT[r]),s&&(r=r.slice(s).concat(r.slice(0,s)));for(var d=0;d<7;d++){var g=void 0;"horizontal"===f?"start"===o&&(g={style:l({text:r[d],x:u-i,y:h+(d+.5)*c,textAlign:"right",textVerticalAlign:"middle"},a)}):"start"===o&&(g={style:l({text:r[d],x:u+(d+.5)*c,y:h-i,textAlign:"center",textVerticalAlign:"bottom"},a)}),g.silent=!0,p.push(e.getFormattedText(g))}this.setShapeGroup("dayLabels",Yh,p)}},e.prototype.renderMonthLabel=function(t,e){var n=t.get("monthLabel");if(n.show){var r=n.nameMap,i=n.margin,o=n.position,a=n.style,s=t.months,u=t.get("left"),h=t.get("top"),c=t.get("cellSize"),f=t.get("orient"),p=[];for(var d in"string"==typeof r&&(r=KT[r]),s){var g=s[d],v=void 0;d=parseInt(d.split("-")[1]),"horizontal"===f?"start"===o&&(v={style:l({text:r[d],x:(g[0].xi+g[1].xi+1)/2*c,y:-i,textAlign:"center",textVerticalAlign:"bottom"},a),position:[u,h]}):"start"===o&&(v={style:l({text:r[d],x:-i,y:(g[0].yi+g[1].yi+1)/2*c,textAlign:"right",textVerticalAlign:"middle"},a),position:[u,h]}),v.silent=!0,p.push(e.getFormattedText(v))}this.setShapeGroup("monthLabels",Yh,p)}},e.prototype.renderYearLabel=function(t,e){var n=t.get("yearLabel");if(n.show){var r=t.get("cellSize"),i=t.get("left"),o=t.get("top"),a=t.get("orient"),s=t.days,u=n.margin,h=n.style,c=s[0].d.getFullYear(),f=s[s.length-1].d.getFullYear(),p=void 0,d=void 0;p=c===f?c:c+"-"+f,(d="horizontal"===a?{style:l({text:p,textAlign:"center",textVerticalAlign:"middle"},h),position:[i-u,o+3.5*r],rotation:Math.PI/2}:{style:l({text:p,textAlign:"center",textVerticalAlign:"middle"},h),position:[i+3.5*r,o-u]}).silent=!0,this.setShape("yearLabel",Yh,e.getFormattedText(d))}},e}(Uf);function QT(t,e,n){var r=t[0],i=t[1];return"horizontal"===n?[[r.xi*e,r.yi*e],[r.xi*e,7*e],[i.xi*e,7*e],[i.xi*e,(i.yi+1)*e],[(i.xi+1)*e,(i.yi+1)*e],[(i.xi+1)*e,0],[(r.xi+1)*e,0],[(r.xi+1)*e,r.yi*e]]:[[r.xi*e,r.yi*e],[7*e,r.yi*e],[7*e,i.yi*e],[(i.xi+1)*e,i.yi*e],[(i.xi+1)*e,(i.yi+1)*e],[0,(i.yi+1)*e],[0,(r.yi+1)*e],[r.xi*e,(r.yi+1)*e]]}ZT.type=YT,qp($T,ZT);var JT="markArea",tC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=JT,c(r,n)}return u(e,t),e}(Kf);tC.type=JT,tC.emphasisList=["areaStyle"],tC.defaultOption={show:!0,$axisIndex:void 0,$seriesIndex:void 0,areaStyle:{normal:{fill:"rgba(128, 128, 128, 0.5)"},emphasis:{}},label:{normal:{show:!1,style:{position:"top"}},emphasis:{show:!1,style:{}}},cursor:"pointer",zlevel:0,z:10};var eC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=JT,c(r,n)}return u(e,t),e.prototype.render=function(t,e){if(t.get("show")){var n=t.getData(),r=t.get("areaStyle"),i=t.get("label").normal,o=t.get("animation"),a=[];co(n,function(n,o){var s=eo((n.areaStyle||{}).normal||{},r.normal),u=eo(n.label&&n.label.normal||{},i),h={};if(u.show){var c=u.formatter?u.formatter(n):n.value;h=e.getFormattedText(l({text:c},u.style))}if(n.points){var f=t.getAxisModel("x"),p=t.getAxisModel("y"),d=f.range,g=p.range,v=[],y=!1,m=n.points.every(function(t){return t.xValue>f.domain[f.domain.length-1]}),x=n.points.every(function(t){return t.xValue<f.domain[0]});if(m||x||co(n.points,function(n){var r=(mT(n,t,e)||{}).position;r&&v.push(r)}),v.length>=2){var _=0,w=1;if(["left","right"].indexOf(f.get("position"))>-1&&(_=1,w=0),(v[0][0]<=d[w]||v[1][0]<=d[w])&&(v[0][0]>=d[_]||v[1][0]>=d[_])&&(v[0][1]<=g[_]||v[1][1]<=g[_])&&(v[0][1]>=g[w]||v[1][1]>=g[w])&&(y=!0),!y)return;v[0][0]=Math.min(Math.max(d[_],v[0][0]),d[w]),v[0][1]=Math.min(Math.max(g[w],v[0][1]),g[_]),v[1][0]=Math.min(Math.max(d[_],v[1][0]),d[w]),v[1][1]=Math.min(Math.max(g[w],v[1][1]),g[_]),["left","right"].indexOf(f.get("position"))>-1&&(v[0]=[v[0][1],v[0][0]],v[1]=[v[1][1],v[1][0]]),a.push(Nc({cursor:t.get("cursor"),shape:{x:v[0][0],y:v[0][1],width:v[1][0]-v[0][0],height:v[1][1]-v[0][1]},style:l({},s,h),key:o}))}}else if(n.type){var b=e.getComponentByIndex("series",t.get("$seriesIndex"));if(b&&!1!==b.get("selected")){var S=(b||t).getAxisModel("x"),k=t.getAxisModel("y"),M=b.getDataExtent(n.type),A=void 0;A="average"===n.type?{x:S.range[0],y:k.scale(M),width:S.range[1]-S.range[0],height:k.scale(M)-k.scale(M)}:{x1:S.range[0],y1:k.scale(M[0][1]),x2:S.range[1],y2:k.scale(M[0][1])},a.push(Nc({cursor:t.get("cursor"),shape:A,style:l({},s,h),key:o}))}}}),this.setShapeGroup("markAreas",ac,a,{animation:o,animateList:{shape:{x:0,y:0,width:0,height:0}}})}else this.removeShape("markAreas")},e}(Uf);eC.type=JT,qp(tC,eC);var nC="radarAxis",rC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=nC,c(r,n)}return u(e,t),e.prototype.getAxisType=function(){return"polar"},e.prototype.isPointIn=function(t,e){var n=this.center;if(!n)return!1;var r=this.radius;if(0===r)return!1;var i=n[0]-t,o=n[1]-e;return i*i+o*o<=r*r},e.prototype.angleScaleInvert=function(t,e){var n=this.center,r=(this.radius,n[0]),i=n[1];return Math.atan2(t-r,e-i)+Math.PI/2},e.prototype.getDataByIndex=function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.globalModel,r=(this.index,n.getSeriesByAxis(0,e)),i=[],o=0;o<r.length;o++){var a=r[o],s=to(a.getData());i.push({originValue:s,name:a.get("name"),color:a.getSeriesColor(),seriesIndex:a.index,type:a.type})}return i},e.prototype.update=function(){var t=this._option,e=t.indicator,n=t.radius,r=t.center,i=(this.globalModel,this.global),o=KA.linear,a=e.length,s=o().domain([0,a]).range([-Math.PI/2,2*Math.PI-Math.PI/2]),l=i.getWidth(),u=i.getHeight();n=uf(n,Math.min(l,u));var h=[];e.map(function(t,e){var r=o().domain([t.min?t.min:0,t.max?t.max:100]).range([0,n]);h.push(r)});var c="string"==typeof r[0]?parseInt(parseFloat(r[0].split("%")[0])/100*l):parseInt(r[0]),f="string"==typeof r[1]?parseInt(parseFloat(r[1].split("%")[0])/100*u):parseInt(r[1]);this.angleScale=s,this.radiusScaleArr=h,this.radius=n,this.center=[c,f]},e}(Kf);rC.type=nC,rC.defaultOption={startAngle:90,center:["50%","50%"],radius:170,splitNumber:5,name:{positionOffset:1.1,formatter:void 0,textStyle:{textBaseline:"middle",textFill:"#ccc"}},axisLine:{lineStyle:{color:"#ccc"}},splitLine:{lineStyle:{color:["#f5f5f5","#e5e5e5"],width:1}},splitArea:{areaStyle:{color:["#f5f5f5","#e5e5e5"]}},indicatorName:{textStyle:{color:"#fff",backgroundColor:"#999",borderRadius:3,padding:[3,5]}},indicator:[],shape:"polygon",zlevel:0,z:1};var iC=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=nC,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){var r=t.getAxisType(),i=!0;function o(){i||("polar"===r&&n.dispatchAction(t,bf.out,{}),i=!0)}n.on("mousemove",function(e){if(!n.isEnableEdit&&!n.isEnableSketch){var a=e.offsetX,s=e.offsetY,l=!1;if(t.isPointIn(a,s)&&(l=!0),l){if("polar"===r){var u=t.angleScaleInvert(a,s),h=Math.round(t.angleScale.invert(u));(h=t.get("indicator").length-h)>=t.get("indicator").length&&(h=0),n.dispatchAction(t,bf.move,{e:e,axisIndex:h,indicator:t.get("indicator")[h],axis:{data:t.get("indicator")[h].name,axisIndex:h},series:t.getDataByIndex(h),allSeries:t.getDataByIndex(h,!1)})}i=!1}else i||o()}}),n.on("globalout",o),n.on("mouseup",o)},e.prototype.render=function(t,e,n){this.remove();for(var r=t.get("shape"),i=t.radius,o=t.center[0],a=t.center[1],s=t.get("indicator"),u=t.get("splitNumber"),h=t.get("splitLine").lineStyle,c=t.get("splitArea").areaStyle,f=t.angleScale,p=t.get("axisLine").lineStyle,d=t.get("name").textStyle,g=t.get("name").formatter,v=t.get("name").positionOffset,y=Math.cos,m=Math.sin,x=s.length,_=i/u,w=u-1;w>=0;w--){for(var b=[],S=0;S<x;S++){var k=_*(w+1)*y(f(S)),M=_*(w+1)*m(f(S));if(b.push([k,M]),w==u-1){var A=0==k.toFixed(6)?"center":k.toFixed(6)<0?"right":"left",I="function"==typeof g?g(s[S],S):s[S].name,T=new Yh({z2:2,cursor:"default",style:l({text:I,x:k*v,y:M*v},d,{textAlign:A}),data:I,position:[o,a],axisIndex:S});T.on("click",function(e){n.dispatchAction(t,"LABEL_CLICK",{shape:e.target,data:e.target.data,axisIndex:this.axisIndex})}),this.group.add(T);var C=new lc({z2:2,shape:{x1:0,y1:0,x2:k,y2:M},position:[o,a],style:{stroke:p.color,fill:null}});this.group.add(C)}}if("polygon"==r){var E=new ec({z2:1,cursor:"default",shape:{points:b},position:[o,a],style:{stroke:h.color[w%2],fill:c.color[w%2],lineDash:w===u-1?[0,0]:h.lineDash}});this.group.add(E)}else if("circle"==r){var z=new $h({cursor:"default",z2:1,shape:{r:_*(w+1)},position:[o,a],style:{stroke:h.color[w%2],fill:c.color[w%2]}});this.group.add(z)}}},e}(Uf);iC.type=nC,qp(rC,iC);var oC="visualMap",aC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=oC,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.get("max"),e=this.get("min"),n=this.get("range"),r=[];n?(r[0]=n[0]<e?e:n[0],r[1]=n[1]>t?t:n[1]):r=[e,t],this.range=r,this.colorStopArr=[];for(var i=this.get("inRange").color,o=0;o<i.length-1;o+=1)this.colorStopArr.push({down:i[o][0],up:i[o+1][0],downColor:i[o][1],upColor:i[o+1][1]})},e.prototype.getUpRectHeight=function(t,e,n,r){return(n-t)/(n-e)*r},e.prototype.getDownRectHeight=function(t,e,n,r){return Math.abs(t-e)/(n-e)*r},e.prototype.isInRange=function(t){var e=this.get("range");return!e||t>=e[0]&&t<=e[1]},e.prototype.getColor=function(t){var e=this.get("max"),n=this.get("min"),r=this.get("inRange").color;return qg(r[0][1],r[1][1])((t-n)/(e-n))},e.prototype.getColorStop=function(t,e){if(t/=this.get("max")-this.get("min"),e&&!this.get("seriesColorReplace"))return e;for(var n=0;n<this.colorStopArr.length;n+=1){if(t>=this.colorStopArr[n].down&&t<this.colorStopArr[n].up)return qg(this.colorStopArr[n].downColor,this.colorStopArr[n].upColor)((t-this.colorStopArr[n].down)/(this.colorStopArr[n].up-this.colorStopArr[n].down));if(t>=1&&1===this.colorStopArr[n].up)return this.colorStopArr[n].upColor}},e}(Qf);aC.type=oC,aC.defaultOption={zlevel:0,z:3,min:0,max:10,left:20,top:100,itemWidth:20,itemHeight:200,range:void 0,text:["max","min"],precision:0,seriesColorReplace:!0,textStyle:{fontSize:12,textFill:"#000"},arrowDown:{labelFormatter:void 0,style:{}},arrowUp:{labelFormatter:void 0,style:{}},textGap:10,arrowSize:15,backgroundColor:"grey",inRange:{color:[[0,"rgb(255, 204, 102)"],[1,"rgb(204, 51, 0)"]]},eventKey:"VISUALMAP"};var sC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=oC,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){var r,i=t.get("arrowSize"),o=t.get("min"),a=t.get("max"),s=t.get("backgroundColor"),u=t.get("arrowUp"),h=t.get("arrowDown"),c=t.get("left"),f=t.get("top"),p=t.get("itemWidth"),d=t.get("itemHeight");t.get("throttleTime");this.setShape("VisualMapBar",ac,{shape:{x:c,y:f,width:p,height:d},style:{fill:(r=t.get("inRange").color,{type:"linear",x:0,y:1,x2:0,y2:0,colorStops:r.map(function(t){return{offset:t[0],color:t[1]}})})}},void 0,function(e){e.on("mousedown",function(e){var n=e.offsetY,r=a-o-(n-f)/d*(a-o);t.range[1]-r>=r-t.range[0]?t.range[0]=r:t.range[1]=r,t.set("range",t.range)})});var g=t.getUpRectHeight(t.range[1],o,a,d);this.setShape("upRect",ac,{shape:{x:c,y:f,width:p,height:g},style:{fill:s},z:t.get("z"),z2:1e3},void 0,function(e){e.on("mousedown",function(e){var n=e.offsetY,r=a-o-(n-f)/d*(a-o);t.range[1]=r,t.set("range",t.range)})});var v=t.getDownRectHeight(t.range[0],o,a,d);this.setShape("downRect",ac,{shape:{x:c,y:f+d-v,width:p,height:v},style:{fill:s},z:t.get("z"),z2:1e3},void 0,function(e){e.on("mousedown",function(e){var n=e.offsetY,r=a-o-(n-f)/d*(a-o);t.range[0]=r,t.set("range",t.range)})});for(var y=t.get("text"),m=t.get("textStyle"),x=t.get("textGap"),_=[[c+p/2,f],[c+p/2,f+d]],w=function(t){return t<1?[_[t][0],_[t][1]-x-m.fontSize]:[_[t][0],_[t][1]+x]},b=0;b<y.length;b+=1)this.setShape("VisualMapText"+b,Yh,{style:l({text:y[b],textFill:m.textFill,fontSize:m.fontSize,textAlign:"middle"},m),position:w(b),z:t.get("z"),z2:999});this.setShape("VisualMapArrowUp",ec,{shape:{points:[[0,i],[i,0],[i,i]]},style:l({fill:t.getColorStop(t.range[1]),text:"function"==typeof u.labelFormatter?u.labelFormatter(t.range[1],t.get("precision")):t.range[1].toFixed(t.get("precision")),textPosition:"right"},u.style),position:[c+p,f+g-i],z:t.get("z"),z2:998},void 0,function(e){var r=!1;e.on("mousedown",function(){r=!0}),n.on("mousemove",function(e){var s=e.offsetY;r&&(t.range[1]=a-o-(s-f+i)/d*(a-o),t.range[1]>=a&&(t.range[1]=a),t.range[1]<=t.range[0]&&(t.range[1]=t.range[0]),t.set("range",t.range),n.dispatchAction(t,t.get("eventKey"),{up:t.range[1],down:t.range[0]}))}),n.on("mouseup",function(){r=!1})}),this.setShape("VisualMapArrowDown",ec,{shape:{points:[[0,0],[i,0],[i,i]]},style:l({fill:t.getColorStop(t.range[0]),text:"function"==typeof h.labelFormatter?h.labelFormatter(t.range[0],t.get("precision")):t.range[0].toFixed(t.get("precision")),textPosition:"right"},h.style),position:[c+p,f+d-v],z:t.get("z"),z2:998},void 0,function(e){var r=!1;e.on("mousedown",function(){r=!0}),n.on("mousemove",function(e){var i=e.offsetY;r&&(t.range[0]=(d-(i-f))/d*(a-o),t.range[0]<=0?t.range[0]=o:t.range[0]>=t.range[1]&&(t.range[0]=t.range[1]),t.set("range",t.range),n.dispatchAction(t,t.get("eventKey"),{up:t.range[1],down:t.range[0]}))}),n.on("mouseup",function(){r=!1})})},e}(Hf);function lC(t,e,n,r){var i=void 0,o=t[e],a="function"==typeof n.bandwidth?n.bandwidth():0;switch(t[e+"Type"]){case"coordMiddle":i=Math.min(n.range()[0],n.range()[1])+Math.abs(n.range()[0]-n.range()[1])/2;break;case"coordStart":i=Math.min(n.range()[0],n.range()[1]);break;case"coordEnd":i=Math.max(n.range()[0],n.range()[1]);break;case"coord":i=o;break;case"value":i=n(o);break;case"bandValue":i=n(o)+a/2;break;case"number":i=n(n.domain()[o]);break;case"type":case"index":r&&(i=n(t["f"+e](r)))}return"function"==typeof t[e+"Formatter"]?t[e+"Formatter"](i,{bandwidth:a}):i}sC.type=oC,qp(aC,sC);var uC="region",hC=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=uC,c(r,n)}return u(e,t),e.prototype.checkRegionLimit=function(t,e){var n=this.get("region"),r=n.min,i=this.startIndex,o=this.endIndex,a=this.totalNumber-1;return"end"===t?e<=i+r?e-r>=0&&(n.start.x=e-r,n.start.xType="number",n.end.x=e,n.end.xType="number"):(n.start.x=i,n.start.xType="number",n.end.x=e,n.end.xType="number"):e>=o-r?e+r<=a&&(n.start.x=e,n.start.xType="number",n.end.x=e+r,n.end.xType="number"):(n.start.x=e,n.start.xType="number",n.end.x=o,n.end.xType="number"),n},e.prototype.update=function(){var t=this.globalModel,e=(this.global,this.get("$axisIndex")),n=this.get("region"),r=n.min,i=this.get("handlePoints"),o=n.hotspot.expand,a=void 0,s=void 0;i=mo(i)?i:[i,i],co(e,function(e){var n=t.getComponentByIndex("axis",e);["bottom","top"].indexOf(n.get("position"))>-1?a=n:s=n});var l=a.scale.domain(),u=void 0,h=void 0;"number"===n.start.xType&&"number"===n.end.xType?(u=n.start.x,h=n.end.x):fo(l,function(t,e){t===n.start.x&&(u=e),t===n.end.x&&(h=e)});l.length;void 0===u&&n.start.x<l[0]&&(u=0,void 0===h?n.end.x<l[0]&&(h=u+r):h-u<r&&(h=u+r)),void 0!==h&&void 0!==l[h]||(n.end.x>l[l.length-1]||h>l.length-1)&&(h=l.length-1,void 0===u?n.start.x>l[l.length-1]&&(u=h-r):h-u<r&&(u=h-r));var c,f;c=l[u],f=l[h];for(var p=[lC({x:u,xType:"number",xFormatter:n.start.xFormatter},"x",a.scale),lC(n.start,"y",s.scale)],d=[lC({x:h,xType:"number",xFormatter:n.end.xFormatter},"x",a.scale),lC(n.end,"y",s.scale)],g=[{start:[p[0]-o,p[1]],end:[p[0]+o,d[1]]},{start:[d[0]-o,p[1]],end:[d[0]+o,d[1]]}],v=[p,d],y=[],m=0;m<v.length;m++)if("coordMiddle"===i[m].position){var x=lC({y:"coordMiddle",yType:"coordMiddle"},"y",s.scale);y.push([v[m][0],x])}this.points=v,this.startDate=c,this.endDate=f,this.startIndex=u,this.endIndex=h,this.handlePointsPos=y,this.totalNumber=l.length,this.handlePointsStyle=i,this.hotspotPoints=g},e}(Kf);function cC(t,e){var n=t.shape,r=t.style,i=n.points;return{attr:Nc({shape:{x:i[0][0],y:i[0][1],width:i[1][0]-i[0][0],height:i[1][1]-i[0][1]},style:r}),Shape:ac}}hC.type=uC,hC.emphasisList=["style","iconStyle"],hC.defaultOption={show:!0,inGrid:!1,inAxis:!0,regionType:"verticalRect",alwaysShowHandlePoint:!0,style:{textFormatter:void 0,normal:{fill:"rgba(49, 207, 214, 0.1)",stroke:"rgba(49, 207, 214, 1)"},emphasis:void 0},handlePoints:{type:"circle",position:"coordMiddle",size:[20,20],offset:[0,0],style:{normal:{fill:"white",stroke:"rgb(49, 207, 214)",lineWidth:2},emphasis:{}}},region:{min:4,hotspot:{expand:10,style:{normal:{fill:"rgba(255, 255, 255, 0)"},emphasis:{fill:"rgba(230, 122, 122, 0.5)"}}},start:void 0,end:void 0},zlevel:0,z:9,cursor:"default"},cC.onlyInAxis=!0,cC.pointNum=2;var fC={verticalRect:cC},pC=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=uC,o.initEvent(n,r,i),o}return u(e,t),e.prototype.initEvent=function(t,e,n){var r=this,i=e.getComponentByIndex("dataZoom",0),o=[],a=[];this.isMousedown={0:!1,1:!1},n.registerAction(i,Mf.wheel,function(e){e.e,e.scale,e.zoomX,e.zoomY;var n=t.startDate,r=t.endDate,i=(t.totalNumber,t.startIndex,t.endIndex,t.get("region"));i.start.x=n,i.start.xType="value",i.end.x=r,i.end.xType="value",t.set({region:i})}),n.registerAction(i,Mf.start,function(){o=t.get("region"),a=[t.startIndex,t.endIndex],o.start.x=a[0],o.start.xType="number",o.end.x=a[1],o.end.xType="number",t.set({region:o})}),n.on("mouseup",function(e){e.offsetX,e.offsetY;(r.isMousedown[0]||r.isMousedown[1])&&(r.isMousedown={0:!1,1:!1},t.dirty())}),n.on("globalout",function(e){e.offsetX,e.offsetY;(r.isMousedown[0]||r.isMousedown[1])&&(r.isMousedown={0:!1,1:!1},t.dirty())})},e.prototype.render=function(t,e,n){t.get("enableRefresh");var r=t.get("regionType"),i=t.get("$axisIndex"),o=t.get("region").hotspot.style.normal,a=t.get("region").hotspot.style.emphasis,s=t.handlePointsStyle,u=t.points,h=t.handlePointsPos,c=t.hotspotPoints,f=t.get("cursor"),p=void 0;co(i,function(t){var n=e.getComponentByIndex("axis",t);["bottom","top"].indexOf(n.get("position"))>-1&&(p=n)});var d=t.get("style").emphasis,g="function"==typeof t.get("style").textFormatter?t.get("style").textFormatter({during:t.endIndex-t.startIndex,endIndex:t.endIndex,startIndex:t.startIndex}):t.endIndex-t.startIndex,v={shape:{points:u},style:l({text:g},t.get("style").normal)},y=fC[r](v,t),m=y.attr,x=y.Shape;m.z=t.get("z"),m.cursor=f,this.setShape("region",x,m,void 0,function(t){d&&Zc(t,d)});for(var _=[],w=0;w<c.length;w++){var b=c[w];_.push({z:t.get("z"),shape:{x:b.start[0],y:b.start[1],width:b.end[0]-b.start[0],height:b.end[1]-b.start[1]},style:this.isMousedown[w]?a:o,pointIndex:w})}var S=this;this.setShapeGroup("hotspot",ac,_,void 0,function(e){e.on("mousedown",function(t){var e=t.target;t.offsetX,t.offsetY;S.isMousedown[e.pointIndex]=!0,e.setStyle("fill",a.fill)}),e.on("mouseup",function(t){var e=t.target;t.offsetX,t.offsetY;S.isMousedown[e.pointIndex]=!1,e.setStyle("fill",o.fill)}),sf(e,n,{onDragStart:function(){n.isEnableSketch=!0},onDragging:function(e){var n=e.target,r=e.offsetX,i=e.offsetY,o=p.getIndexByOffset(r,i),a=t.checkRegionLimit(n.pointIndex?"end":"start",o);t.set({region:a})},onDragEnd:function(){n.isEnableSketch=!1}})});for(var k=[],M=0;M<u.length;M++){var A=s[M],I=ff(A.size),T=I.width,C=I.height,E=A.offset,z=A.style.normal;k.push({position:h[M],shape:{symbolType:A.type,x:-T/2+E[0],y:-C/2+E[1],width:T,height:C},style:z,z2:999,z:t.get("z"),pointIndex:M,silent:!0})}this.setShapeGroup("handlePoints",lp,k)},e}(Hf);function dC(){return new gC}function gC(){this.reset()}pC.type=uC,qp(hC,pC),gC.prototype={constructor:gC,reset:function(){this.s=this.t=0},add:function(t){yC(vC,t,this.t),yC(this,vC.s,this.s),this.s?this.t+=vC.t:this.s=vC.t},valueOf:function(){return this.s}};var vC=new gC;function yC(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var mC=1e-6,xC=Math.PI,_C=xC/2,wC=xC/4,bC=2*xC,SC=180/xC,kC=xC/180,MC=Math.abs,AC=Math.atan,IC=Math.atan2,TC=Math.cos,CC=Math.exp,EC=Math.log,zC=Math.sin,LC=Math.sqrt,OC=Math.tan;function DC(t){return t>1?_C:t<-1?-_C:Math.asin(t)}function PC(){}function FC(t,e){t&&RC.hasOwnProperty(t.type)&&RC[t.type](t,e)}var NC={Feature:function(t,e){FC(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)FC(n[r].geometry,e)}},RC={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){BC(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)BC(n[r],e,0)},Polygon:function(t,e){WC(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)WC(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)FC(n[r],e)}};function BC(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function WC(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)BC(t[n],e,1);e.polygonEnd()}function jC(t,e){t&&NC.hasOwnProperty(t.type)?NC[t.type](t,e):FC(t,e)}dC(),dC();function GC(t){return[IC(t[1],t[0]),DC(t[2])]}function HC(t){var e=t[0],n=t[1],r=TC(n);return[r*TC(e),r*zC(e),zC(n)]}function UC(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function qC(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function VC(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function YC(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function $C(t){var e=LC(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}dC();function XC(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function KC(t,e){return[MC(t)>xC?t+Math.round(-t/bC)*bC:t,e]}function ZC(t,e,n){return(t%=bC)?e||n?XC(JC(t),tE(e,n)):JC(t):e||n?tE(e,n):KC}function QC(t){return function(e,n){return[(e+=t)>xC?e-bC:e<-xC?e+bC:e,n]}}function JC(t){var e=QC(t);return e.invert=QC(-t),e}function tE(t,e){var n=TC(t),r=zC(t),i=TC(e),o=zC(e);function a(t,e){var a=TC(e),s=TC(t)*a,l=zC(t)*a,u=zC(e),h=u*n+s*r;return[IC(l*i-h*o,s*n-u*r),DC(h*i+l*o)]}return a.invert=function(t,e){var a=TC(e),s=TC(t)*a,l=zC(t)*a,u=zC(e),h=u*i-l*o;return[IC(l*i+u*o,s*n+h*r),DC(h*n-s*r)]},a}function eE(t,e){(e=HC(e))[0]-=t,$C(e);var n,r=(n=-e[1])>1?0:n<-1?xC:Math.acos(n);return((-e[2]<0?-r:r)+bC-mC)%bC}function nE(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:PC,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function rE(t,e){return MC(t[0]-e[0])<mC&&MC(t[1]-e[1])<mC}function iE(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function oE(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(rE(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new iE(r,t,null,!0)),l.push(n.o=new iE(r,null,n,!1)),s.push(n=new iE(a,t,null,!1)),l.push(n.o=new iE(a,null,n,!0))}}),s.length){for(l.sort(e),aE(s),aE(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var u,h,c=s[0];;){for(var f=c,p=!0;f.v;)if((f=f.n)===c)return;u=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,a=u.length;o<a;++o)i.point((h=u[o])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(u=f.p.z,o=u.length-1;o>=0;--o)i.point((h=u[o])[0],h[1]);else r(f.x,f.p.x,-1,i);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function aE(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}KC.invert=KC;var sE=dC();function lE(t,e,n,r){return function(i){var o,a,s,l=e(i),u=nE(),h=e(u),c=!1,f={point:p,lineStart:g,lineEnd:v,polygonStart:function(){f.point=y,f.lineStart=m,f.lineEnd=x,a=[],o=[]},polygonEnd:function(){f.point=p,f.lineStart=g,f.lineEnd=v,a=Sd(a);var t=function(t,e){var n=e[0],r=e[1],i=zC(r),o=[zC(n),-TC(n),0],a=0,s=0;sE.reset(),1===i?r=_C+mC:-1===i&&(r=-_C-mC);for(var l=0,u=t.length;l<u;++l)if(c=(h=t[l]).length)for(var h,c,f=h[c-1],p=f[0],d=f[1]/2+wC,g=zC(d),v=TC(d),y=0;y<c;++y,p=x,g=w,v=b,f=m){var m=h[y],x=m[0],_=m[1]/2+wC,w=zC(_),b=TC(_),S=x-p,k=S>=0?1:-1,M=k*S,A=M>xC,I=g*w;if(sE.add(IC(I*k*zC(M),v*b+I*TC(M))),a+=A?S+k*bC:S,A^p>=n^x>=n){var T=qC(HC(f),HC(m));$C(T);var C=qC(o,T);$C(C);var E=(A^S>=0?-1:1)*DC(C[2]);(r>E||r===E&&(T[0]||T[1]))&&(s+=A^S>=0?1:-1)}}return(a<-mC||a<mC&&sE<-mC)^1&s}(o,r);a.length?(c||(i.polygonStart(),c=!0),oE(a,hE,t,n,i)):t&&(c||(i.polygonStart(),c=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(e,n){t(e,n)&&i.point(e,n)}function d(t,e){l.point(t,e)}function g(){f.point=d,l.lineStart()}function v(){f.point=p,l.lineEnd()}function y(t,e){s.push([t,e]),h.point(t,e)}function m(){h.lineStart(),s=[]}function x(){y(s[0][0],s[0][1]),h.lineEnd();var t,e,n,r,l=h.clean(),f=u.result(),p=f.length;if(s.pop(),o.push(s),s=null,p)if(1&l){if((e=(n=f[0]).length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else p>1&&2&l&&f.push(f.pop().concat(f.shift())),a.push(f.filter(uE))}return f}}function uE(t){return t.length>1}function hE(t,e){return((t=t.x)[0]<0?t[1]-_C-mC:_C-t[1])-((e=e.x)[0]<0?e[1]-_C-mC:_C-e[1])}var cE=lE(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?xC:-xC,l=MC(o-n);MC(l-xC)<mC?(t.point(n,r=(r+a)/2>0?_C:-_C),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=xC&&(MC(n-i)<mC&&(n-=i*mC),MC(o-s)<mC&&(o-=s*mC),r=function(t,e,n,r){var i,o,a=zC(t-n);return MC(a)>mC?AC((zC(e)*(o=TC(r))*zC(n)-zC(r)*(i=TC(e))*zC(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*_C,r.point(-xC,i),r.point(0,i),r.point(xC,i),r.point(xC,0),r.point(xC,-i),r.point(0,-i),r.point(-xC,-i),r.point(-xC,0),r.point(-xC,i);else if(MC(t[0]-e[0])>mC){var o=t[0]<e[0]?xC:-xC;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-xC,-_C]);function fE(t){var e=TC(t),n=6*kC,r=e>0,i=MC(e)>mC;function o(t,n){return TC(t)*TC(n)>e}function a(t,n,r){var i=[1,0,0],o=qC(HC(t),HC(n)),a=UC(o,o),s=o[0],l=a-s*s;if(!l)return!r&&t;var u=e*a/l,h=-e*s/l,c=qC(i,o),f=YC(i,u);VC(f,YC(o,h));var p=c,d=UC(f,p),g=UC(p,p),v=d*d-g*(UC(f,f)-1);if(!(v<0)){var y=LC(v),m=YC(p,(-d-y)/g);if(VC(m,f),m=GC(m),!r)return m;var x,_=t[0],w=n[0],b=t[1],S=n[1];w<_&&(x=_,_=w,w=x);var k=w-_,M=MC(k-xC)<mC;if(!M&&S<b&&(x=b,b=S,S=x),M||k<mC?M?b+S>0^m[1]<(MC(m[0]-_)<mC?b:S):b<=m[1]&&m[1]<=S:k>xC^(_<=m[0]&&m[0]<=w)){var A=YC(p,(-d+y)/g);return VC(A,f),[m,GC(A)]}}}function s(e,n){var i=r?t:xC-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return lE(o,function(t){var e,n,l,u,h;return{lineStart:function(){u=l=!1,h=1},point:function(c,f){var p,d=[c,f],g=o(c,f),v=r?g?0:s(c,f):g?s(c+(c<0?xC:-xC),f):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(!(p=a(e,d))||rE(e,p)||rE(d,p))&&(d[0]+=mC,d[1]+=mC,g=o(d[0],d[1])),g!==l)h=0,g?(t.lineStart(),p=a(d,e),t.point(p[0],p[1])):(p=a(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(i&&e&&r^g){var y;v&n||!(y=a(d,e,!0))||(h=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1])))}!g||e&&rE(e,d)||t.point(d[0],d[1]),e=d,l=g,n=v},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return h|(u&&l)<<1}}},function(e,r,i,o){!function(t,e,n,r,i,o){if(n){var a=TC(e),s=zC(e),l=r*n;null==i?(i=e+r*bC,o=e-l/2):(i=eE(a,i),o=eE(a,o),(r>0?i<o:i>o)&&(i+=r*bC));for(var u,h=i;r>0?h>o:h<o;h-=l)u=GC([a,-s*TC(h),-s*zC(h)]),t.point(u[0],u[1])}}(o,t,n,i,e,r)},r?[0,-t]:[-xC,t-xC])}var pE=1e9,dE=-pE;function gE(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,u){var h=0,c=0;if(null==i||(h=a(i,s))!==(c=a(o,s))||l(i,o)<0^s>0)do{u.point(0===h||3===h?t:n,h>1?r:e)}while((h=(h+s+4)%4)!==c);else u.point(o[0],o[1])}function a(r,i){return MC(r[0]-t)<mC?i>0?0:3:MC(r[0]-n)<mC?i>0?2:1:MC(r[1]-e)<mC?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,u,h,c,f,p,d,g,v,y,m,x=a,_=nE(),w={point:b,lineStart:function(){w.point=S,u&&u.push(h=[]);y=!0,v=!1,d=g=NaN},lineEnd:function(){l&&(S(c,f),p&&v&&_.rejoin(),l.push(_.result()));w.point=b,v&&x.lineEnd()},polygonStart:function(){x=_,l=[],u=[],m=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=u.length;n<i;++n)for(var o,a,s=u[n],l=1,h=s.length,c=s[0],f=c[0],p=c[1];l<h;++l)o=f,a=p,c=s[l],f=c[0],p=c[1],a<=r?p>r&&(f-o)*(r-a)>(p-a)*(t-o)&&++e:p<=r&&(f-o)*(r-a)<(p-a)*(t-o)&&--e;return e}(),n=m&&e,i=(l=Sd(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&oE(l,s,e,o,a),a.polygonEnd());x=a,l=u=h=null}};function b(t,e){i(t,e)&&x.point(t,e)}function S(o,a){var s=i(o,a);if(u&&h.push([o,a]),y)c=o,f=a,p=s,y=!1,s&&(x.lineStart(),x.point(o,a));else if(s&&v)x.point(o,a);else{var l=[d=Math.max(dE,Math.min(pE,d)),g=Math.max(dE,Math.min(pE,g))],_=[o=Math.max(dE,Math.min(pE,o)),a=Math.max(dE,Math.min(pE,a))];!function(t,e,n,r,i,o){var a,s=t[0],l=t[1],u=0,h=1,c=e[0]-s,f=e[1]-l;if(a=n-s,c||!(a>0)){if(a/=c,c<0){if(a<u)return;a<h&&(h=a)}else if(c>0){if(a>h)return;a>u&&(u=a)}if(a=i-s,c||!(a<0)){if(a/=c,c<0){if(a>h)return;a>u&&(u=a)}else if(c>0){if(a<u)return;a<h&&(h=a)}if(a=r-l,f||!(a>0)){if(a/=f,f<0){if(a<u)return;a<h&&(h=a)}else if(f>0){if(a>h)return;a>u&&(u=a)}if(a=o-l,f||!(a<0)){if(a/=f,f<0){if(a>h)return;a>u&&(u=a)}else if(f>0){if(a<u)return;a<h&&(h=a)}return u>0&&(t[0]=s+u*c,t[1]=l+u*f),h<1&&(e[0]=s+h*c,e[1]=l+h*f),!0}}}}}(l,_,t,e,n,r)?s&&(x.lineStart(),x.point(o,a),m=!1):(v||(x.lineStart(),x.point(l[0],l[1])),x.point(_[0],_[1]),s||x.lineEnd(),m=!1)}d=o,g=a,v=s}return w}}dC();function vE(t){return t}var yE,mE,xE,_E,wE=dC(),bE=dC(),SE={point:PC,lineStart:PC,lineEnd:PC,polygonStart:function(){SE.lineStart=kE,SE.lineEnd=IE},polygonEnd:function(){SE.lineStart=SE.lineEnd=SE.point=PC,wE.add(MC(bE)),bE.reset()},result:function(){var t=wE/2;return wE.reset(),t}};function kE(){SE.point=ME}function ME(t,e){SE.point=AE,yE=xE=t,mE=_E=e}function AE(t,e){bE.add(_E*t-xE*e),xE=t,_E=e}function IE(){AE(yE,mE)}var TE=1/0,CE=TE,EE=-TE,zE=EE,LE={point:function(t,e){t<TE&&(TE=t);t>EE&&(EE=t);e<CE&&(CE=e);e>zE&&(zE=e)},lineStart:PC,lineEnd:PC,polygonStart:PC,polygonEnd:PC,result:function(){var t=[[TE,CE],[EE,zE]];return EE=zE=-(CE=TE=1/0),t}};var OE,DE,PE,FE,NE=0,RE=0,BE=0,WE=0,jE=0,GE=0,HE=0,UE=0,qE=0,VE={point:YE,lineStart:$E,lineEnd:ZE,polygonStart:function(){VE.lineStart=QE,VE.lineEnd=JE},polygonEnd:function(){VE.point=YE,VE.lineStart=$E,VE.lineEnd=ZE},result:function(){var t=qE?[HE/qE,UE/qE]:GE?[WE/GE,jE/GE]:BE?[NE/BE,RE/BE]:[NaN,NaN];return NE=RE=BE=WE=jE=GE=HE=UE=qE=0,t}};function YE(t,e){NE+=t,RE+=e,++BE}function $E(){VE.point=XE}function XE(t,e){VE.point=KE,YE(PE=t,FE=e)}function KE(t,e){var n=t-PE,r=e-FE,i=LC(n*n+r*r);WE+=i*(PE+t)/2,jE+=i*(FE+e)/2,GE+=i,YE(PE=t,FE=e)}function ZE(){VE.point=YE}function QE(){VE.point=tz}function JE(){ez(OE,DE)}function tz(t,e){VE.point=ez,YE(OE=PE=t,DE=FE=e)}function ez(t,e){var n=t-PE,r=e-FE,i=LC(n*n+r*r);WE+=i*(PE+t)/2,jE+=i*(FE+e)/2,GE+=i,HE+=(i=FE*t-PE*e)*(PE+t),UE+=i*(FE+e),qE+=3*i,YE(PE=t,FE=e)}function nz(t){this._context=t}nz.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,bC)}},result:PC};var rz,iz,oz,az,sz,lz=dC(),uz={point:PC,lineStart:function(){uz.point=hz},lineEnd:function(){rz&&cz(iz,oz),uz.point=PC},polygonStart:function(){rz=!0},polygonEnd:function(){rz=null},result:function(){var t=+lz;return lz.reset(),t}};function hz(t,e){uz.point=cz,iz=az=t,oz=sz=e}function cz(t,e){az-=t,sz-=e,lz.add(LC(az*az+sz*sz)),az=t,sz=e}function fz(){this._string=[]}function pz(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function dz(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),jC(t,n(r))),r.result()}return o.area=function(t){return jC(t,n(SE)),SE.result()},o.measure=function(t){return jC(t,n(uz)),uz.result()},o.bounds=function(t){return jC(t,n(LE)),LE.result()},o.centroid=function(t){return jC(t,n(VE)),VE.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,vE):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new fz):new nz(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function gz(t){return function(e){var n=new vz;for(var r in t)n[r]=t[r];return n.stream=e,n}}function vz(){}function yz(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),jC(n,t.stream(LE)),e(LE.result()),null!=r&&t.clipExtent(r),t}function mz(t,e,n){return yz(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}fz.prototype={_radius:4.5,_circle:pz(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=pz(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},vz.prototype={constructor:vz,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var xz=16,_z=TC(30*kC);function wz(t,e){return+e?function(t,e){function n(r,i,o,a,s,l,u,h,c,f,p,d,g,v){var y=u-r,m=h-i,x=y*y+m*m;if(x>4*e&&g--){var _=a+f,w=s+p,b=l+d,S=LC(_*_+w*w+b*b),k=DC(b/=S),M=MC(MC(b)-1)<mC||MC(o-c)<mC?(o+c)/2:IC(w,_),A=t(M,k),I=A[0],T=A[1],C=I-r,E=T-i,z=m*C-y*E;(z*z/x>e||MC((y*C+m*E)/x-.5)>.3||a*f+s*p+l*d<_z)&&(n(r,i,o,a,s,l,I,T,M,_/=S,w/=S,b,g,v),v.point(I,T),n(I,T,M,_,w,b,u,h,c,f,p,d,g,v))}}return function(e){var r,i,o,a,s,l,u,h,c,f,p,d,g={point:v,lineStart:y,lineEnd:x,polygonStart:function(){e.polygonStart(),g.lineStart=_},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function v(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){h=NaN,g.point=m,e.lineStart()}function m(r,i){var o=HC([r,i]),a=t(r,i);n(h,c,u,f,p,d,h=a[0],c=a[1],u=r,f=o[0],p=o[1],d=o[2],xz,e),e.point(h,c)}function x(){g.point=v,e.lineEnd()}function _(){y(),g.point=w,g.lineEnd=b}function w(t,e){m(r=t,e),i=h,o=c,a=f,s=p,l=d,g.point=m}function b(){n(h,c,u,f,p,d,i,o,r,a,s,l,xz,e),g.lineEnd=x,x()}return g}}(t,e):function(t){return gz({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var bz=gz({point:function(t,e){this.stream.point(t*kC,e*kC)}});function Sz(t,e,n,r){var i=TC(r),o=zC(r),a=i*t,s=o*t,l=i/t,u=o/t,h=(o*n-i*e)/t,c=(o*e+i*n)/t;function f(t,r){return[a*t-s*r+e,n-s*t-a*r]}return f.invert=function(t,e){return[l*t-u*e+h,c-u*t-l*e]},f}function kz(t){return function(t){var e,n,r,i,o,a,s,l,u,h,c=150,f=480,p=250,d=0,g=0,v=0,y=0,m=0,x=0,_=null,w=cE,b=null,S=vE,k=.5;function M(t){return l(t[0]*kC,t[1]*kC)}function A(t){return(t=l.invert(t[0],t[1]))&&[t[0]*SC,t[1]*SC]}function I(){var t=Sz(c,0,0,x).apply(null,e(d,g)),r=(x?Sz:function(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r})(c,f-t[0],p-t[1],x);return n=ZC(v,y,m),s=XC(e,r),l=XC(n,s),a=wz(s,k),T()}function T(){return u=h=null,M}return M.stream=function(t){return u&&h===t?u:u=bz(function(t){return gz({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(w(a(S(h=t)))))},M.preclip=function(t){return arguments.length?(w=t,_=void 0,T()):w},M.postclip=function(t){return arguments.length?(S=t,b=r=i=o=null,T()):S},M.clipAngle=function(t){return arguments.length?(w=+t?fE(_=t*kC):(_=null,cE),T()):_*SC},M.clipExtent=function(t){return arguments.length?(S=null==t?(b=r=i=o=null,vE):gE(b=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),T()):null==b?null:[[b,r],[i,o]]},M.scale=function(t){return arguments.length?(c=+t,I()):c},M.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],I()):[f,p]},M.center=function(t){return arguments.length?(d=t[0]%360*kC,g=t[1]%360*kC,I()):[d*SC,g*SC]},M.rotate=function(t){return arguments.length?(v=t[0]%360*kC,y=t[1]%360*kC,m=t.length>2?t[2]%360*kC:0,I()):[v*SC,y*SC,m*SC]},M.angle=function(t){return arguments.length?(x=t%360*kC,I()):x*SC},M.precision=function(t){return arguments.length?(a=wz(s,k=t*t),T()):LC(k)},M.fitExtent=function(t,e){return mz(M,t,e)},M.fitSize=function(t,e){return function(t,e,n){return mz(t,[[0,0],e],n)}(M,t,e)},M.fitWidth=function(t,e){return function(t,e,n){return yz(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}(M,t,e)},M.fitHeight=function(t,e){return function(t,e,n){return yz(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&A,I()}}(function(){return t})()}function Mz(t,e){return[t,EC(OC((_C+e)/2))]}function Az(t){var e,n,r,i=kz(t),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,u=null;function h(){var o=xC*a(),s=i(function(t){function e(e){return(e=t(e[0]*kC,e[1]*kC))[0]*=SC,e[1]*=SC,e}return t=ZC(t[0]*kC,t[1]*kC,t.length>2?t[2]*kC:0),e.invert=function(e){return(e=t.invert(e[0]*kC,e[1]*kC))[0]*=SC,e[1]*=SC,e},e}(i.rotate()).invert([0,0]));return l(null==u?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Mz?[[Math.max(s[0]-o,u),e],[Math.min(s[0]+o,n),r]]:[[u,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),h()):a()},i.translate=function(t){return arguments.length?(s(t),h()):s()},i.center=function(t){return arguments.length?(o(t),h()):o()},i.clipExtent=function(t){return arguments.length?(null==t?u=e=n=r=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),h()):null==u?null:[[u,e],[n,r]]},h()}function Iz(t,e){return[EC(OC((_C+e)/2)),-t]}function Tz(){var t=Az(Iz),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}Mz.invert=function(t,e){return[t,2*AC(CC(e))-_C]},Iz.invert=function(t,e){return[-e,2*AC(CC(t))-_C]};var Cz="d3-geo",Ez=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Cz,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.globalModel.getComponentByIndex("grid",0).position,e=t.left,n=t.right,r=t.top,i=t.bottom;this.projection=Tz().rotate([-110,0,0]).fitExtent([[e,r],[n,i]],window.chinaBorderData)},e}(Qf);Ez.type=Cz,Ez.defaultOption={zlevel:0,z:1,$gridIndex:0,map:{outerPath:{show:!0,style:{stroke:"#00beff",lineWidth:10}},innerPath:{show:!0,style:{stroke:"#027da7",fill:"#04526d",randomFill:{randomFill:!1,colors:["rgb(17, 16, 50)","rgb(25, 24, 62)","rgb(15, 16, 55)","rgb(26, 25, 66)","rgb(15, 51, 51)","rgb(11, 10, 36)"]},lineWidth:2,hover:{hover:!0,hoverFill:"rgba(40,128,255, 1.0)"},lineDash:[0,0]},events:{registion:"REGISTER",dispatch:{mouseover:"MOUSEOVER",mouseout:"MOUSEOUT"}}}},paddingArea:{show:!1,padding:{left:50,right:50,top:50,bottom:50},style:{fill:"rgba(255, 0, 0, 0.2)",stroke:"rgba(255, 0, 0, 1)",lineWidth:1}},markers:{group:[],animation:{animation:!1,speed:1e3,animateSize:.5},overLabel:{show:!1,speed:1e3,style:{lineWidth:2,fill:"#00fffd"},focusStyle:{fill:"rgba(248, 195, 28, 1.6)",stroke:"rgba(248, 195, 28, 0.6)",lineWidth:10,shadowBlur:0,shadowColor:"rgba(255, 255, 255, 0)"},labelLine:{show:!1,position:{startX:20,startY:20,endX:150}},labelGroup:[]},clickLabel:{show:!1,color:"#57FFD9",top:5,style:{textFill:"#FF5654",fontSize:24,textAlign:"center"}},hover:{hover:!1,pannal:{show:!1,width:200,height:150,style:{fill:"rgb(3, 14, 27)",stroke:"rgb(6, 254, 220)",lineWidth:2}},labelGroup:[]}},flylines:{show:!1,colors:["rgba(135,231,60, 1)","rgba(40,128,255, 0.1)"],style:{lineWidth:2,opacity:1,shadowBlur:10,shadowColor:"black"},background:{show:!0,style:{stroke:"rgb(0, 255, 0)"}},animation:!0},routes:{show:!1,colors:["rgba(135,231,60, 1)","rgba(40,128,255, 0.1)"],threshold:{threshold:!0,value:5,colors:["rgba(255,0,0, 1)","rgba(255,0,0, 0.1)"]},animation:{animation:!0,style:{lineWidth:4,fill:"#fff",thresholdFill:["green","rgba(255,15,15, 0)"],lengthPercent:1,speed:3e3,delay:3e3}},style:{lineWidth:4,opacity:1,shadowBlur:10,shadowColor:"black",text:{formatter:function(t){return t.value+"%"}},fontSize:16,textFill:"#fff"}},polygons:{show:!1,style:{fill:"rgba(0, 255, 255, 0.5)",stroke:"rgba(0, 255, 255, 0)",lineWidth:1}},bars:{show:!1,colors:["rgb(255, 251, 242)","rgb(66, 77, 155)","rgb(0, 255, 255)"],size:2,style:{textFill:"white",textPosition:"bottom",fontSize:12}},southSea:{show:!0,offset:[0,0],scale:[.7,.7],lineWidth:2,style:{textFill:"white",textPosition:"bottom",fontSize:14,textOffset:[0,0]}}};var zz=Eh.extend({type:"d3-geomap",shape:{path:""},style:{stroke:"red",fill:"#000",lineWidth:null},buildPath:function(t,e){this.proxyPath=Vh(e.path,{}),this.proxyPath.buildPath(t)}}),Lz=void 0,Oz=void 0,Dz=function(t,e,n){var r=t/n*e.style.lineWidth;return r<2?2:r},Pz=function(t,e){return t[0]<e[0]?1:0},Fz=function(t,e){return t[0]>e[0]?1:0},Nz=function(t,e,n){return""===e||""===e?[t[0]+25,t[1]-10]:""===e?[t[0]-20,t[1]-10]:[t[0]+n[0],t[1]+5+n[1]]},Rz=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Cz,c(r,n)}return u(e,t),e.prototype.render=function(t,e,n){this.newGroup=[];for(var r=t.getData().markerData||[],i=window.chinaData,o=0;o<r.length;o+=1)if(r[o].position)this.newGroup.push(r[o]);else for(var a=0;a<i.features.length;a+=1)if(i.features[a].properties.name===r[o].name){var s=r[o];s.position=i.features[a].properties.cp,this.newGroup.push(s)}Lz=bd(r,function(t){return t.value}),Oz=kd(r,function(t){return t.value}),function(t,e){var n=this,r=t.get("map"),i=r.outerPath,o=r.innerPath,a=t.globalModel.getComponentByIndex("grid",0).position,s=(a.left,a.right,a.top,a.bottom,t.globalModel.getComponentByIndex("visualMap",0)),l=function(){var e=dz().projection(t.projection);return e};if(i.show){this.border=t.getData().borderData;var u=l();this.setShape("border",zz,{shape:{path:u(window.chinaBorderData)},style:{stroke:i.style.stroke,lineWidth:i.style.lineWidth,fill:null}})}if(o.show){var h=l(),c=_v().domain([Oz,Lz]).range([0,1]),f=function(r){var i=[];co(window.chinaData.features,function(t,e){var a=void 0,s=void 0;if(o.style.fill instanceof Array){for(var l=o.style.fill[0],u=o.style.fill[1],f=qg(l,u),p=0;p<n.newGroup.length;p+=1)if(t.properties.name===n.newGroup[p].name)if((s=n.newGroup[p].value)>=r.down&&s<=r.up){var d=c(s);a=f(d)}else a="#fff"}else if(o.style.randomFill.randomFill){var g=o.style.randomFill.colors,v=parseInt(Math.random()*g.length);a=g[v]}else a=o.style.fill;i.push({shape:{path:h(t),currentValue:s,fillType:a},style:{stroke:o.style.stroke,fill:a,lineWidth:o.style.lineWidth,lineDash:o.style.lineDash},data:{name:t.properties.name,value:s,data:function(t){for(var e=0;e<n.newGroup.length;e+=1)if(t===n.newGroup[e].name)return n.newGroup[e]}(t.properties.name)},fill:a})}),n.setShapeGroup("geomap",zz,i,void 0,void 0,function(n){n.on("mouseover",function(r){if(o.style.hover.hover){var i=o.style.hover.hoverFill;"function"==typeof i?n.setStyle({fill:i(r.target.data.data)}):n.setStyle({fill:i})}o.events&&(e.dispatchAction(t,o.events.registion,n.data.data),e.dispatchAction(t,Tf.mouseover,n.data.data))}),n.on("click",function(){e.dispatchAction(t,Tf.itemClick,n.data.data)}),n.on("mouseout",function(){n.setStyle({fill:n.shape.fillType}),e.dispatchAction(t,Tf.mouseout,n.data.data)}),o.events&&(e.registerAction(t,o.events.dispatch.mouseover,function(t){if(n.data.name===t.name){var e=t.fill?t.fill:"white";n.setStyle("fill",e)}}),e.registerAction(t,o.events.dispatch.mouseout,function(t){n.data.name===t.name&&n.setStyle("fill",n.fill)}))})},p=void 0;o.style.fill instanceof Array?(p={up:s.get("max"),down:s.get("min")},e.registerAction(s,s.get("eventKey"),function(t){f(t)})):p={},f(p)}}.call(this,t,n),function(t,e){for(var n=this,r=t.get("markers"),i=r.group,o=r.overLabel,a=r.clickLabel,s=function(s){var u=[],h=[];if(i[s].show){var c=void 0;i[s].animation&&(c=i[s].animation),co(n.newGroup,function(e,n){var r=t.projection(e.position),o=e.value/Lz,a=i[s].shape.size[1]*o,f=void 0,p=i[s].style.opacity;f=i[s].sameSize?i[s].shape.size[0]:a<i[s].shape.size[0]?i[s].shape.size[0]:a,c&&c.animation&&(f*=c.animateSize,p=0);var d=i[s].offSet?i[s].offSet:[0,0];u.push({shape:{symbolType:i[s].shape.symbolType,x:r[0]-f/2+d[0],y:r[1]-f/2+d[1],width:f,height:f,r:0},style:l({},i[s].style,{opacity:p}),z:t.get("z"),z2:998,province:e.name,rank:e.rank,key:e.name+s,data:e});var g=i[s].label;g.show&&h.push({style:{text:e.name,textFill:g.style.textFill,textAlign:"middle",fontSize:g.style.fontSize},position:Nz(r,e.name,g.padding),z:t.get("z"),z2:998,silent:!0})}),n.setShapeGroup("geomarker"+s,lp,u,void 0,function(r){var s=r.children();if(o.show){n.newGroup.sort(function(t,e){return t.rank-e.rank}),s.sort(function(t,e){return t.rank-e.rank});var l=0,h=u.length,c=function(t,e){return t.length>1?e<0?t[0]:t[1]:t},p=function(e,r,i,a){var s=e+i/2,l=r+i/2,u=o.labelLine.position,h=u.startX,f=u.startY,p=u.endX,d=s+h,g=l-f,v=s+p;o.labelLine.show&&n.setShape("overLine",zz,{shape:{path:"M"+s+" "+l+"L"+d+" "+g+"L"+v+" "+g},style:{stroke:o.style.fill,fill:"none",lineWidth:o.style.lineWidth},z:t.get("z"),z2:1e3});for(var y=o.labelGroup,m=0;m<y.length;m+=1){var x=y[m],_=x.textFill,w=x.x,b=x.y,S=x.fontSize,k=x.textAlign,M=x.fontFamily,A=void 0;if(y[m].formatter){var I=y[m].formatter;A=I(a)}else A=a;n.setShape("overLineText"+m,Yh,{style:{text:A,textFill:c(_,a.diff),fontSize:S,textAlign:k,fontFamily:M},z:t.get("z"),z2:1e3,position:[d+w,g+b]})}};p(s[0].shape.x,s[0].shape.y,s[0].shape.width,n.newGroup[0]),setInterval(function(){var t=(l+=1)%h;if(t<s.length){var e=s[t].shape,r=e.x,i=e.y,o=e.width;p(r,i,o,n.newGroup[t])}},o.speed)}!0===a.show&&e.registerAction(t,Tf.showLabel,function(e){for(var n=0;n<s.length;n+=1)for(var r=0;r<i.length;r+=1)s[n].setColor(i[r].style.fill),s[n].province===e&&(t.isLight=s[n],f(s[n]))})},function(i){if(c&&c.animation){var o=i.shape.width/c.animateSize,a=i.shape.height/c.animateSize,s=i.shape.x-(o-i.shape.width)/2,u=i.shape.y-(a-i.shape.height)/2,h=c.speed;i.animateShape(!0).delay(c.delay+c.randomDelay*i.rank).when(h,{width:o,height:a,x:s,y:u}).start(),i.animateStyle(!0).when(c.randomDelay*i.rank,{opacity:1}).delay(c.delay+c.randomDelay*i.rank).when(h,{opacity:0}).start()}i.on("mousedown",function(){e.dispatchAction(t,Tf.markerClick,i.province)}),r.hover.hover&&(i.on("mouseover",function(e){r.hover.pannal.show&&n.setShape("hoverLabel",ac,{shape:{x:e.offsetX,y:e.offsetY-150,width:r.hover.pannal.width,height:r.hover.pannal.height},style:l({},r.hover.pannal.style),z:t.get("z"),z2:1040,silent:!0});var i=[],o=r.hover.labelGroup;co(o,function(n){var r=e.target.data,o=n.formatter(r);i.push({style:{text:o+n.unit,textFill:n.textFill,textAlign:n.textAlign,fontSize:n.fontSize},position:[e.offsetX+n.x,e.offsetY-150+n.y],z:t.get("z"),z2:1050,silent:!0})}),n.setShapeGroup("hoverLabelText",Yh,i)}),i.on("mouseout",function(){var t=n.getShape("hoverLabel");t&&(n.removeShape("hoverLabel"),n.removeShape("hoverLabelText"))}))})}n.setShapeGroup("markerLabel",Yh,h);var f=function(e){e.setColor("#57FFD9");var r=e.shape.x+e.shape.width/2,i=e.shape.y;n.setShape("clickLabel",Yh,{style:{text:e.province,textFill:a.style.textFill,fontSize:a.style.fontSize,textAlign:a.style.textAlign,fontFamily:a.style.fontFamily},z:t.get("z"),z2:1100,position:[r,i-a.top-1.1*a.style.fontSize]});var o=e.province.length*a.style.fontSize*.8,s=r-o,l=r+o,u=i-a.top-1.2*a.style.fontSize,h=i-a.top;n.setShape("clickPolygon",ec,{shape:{points:[[s,u],[l,u],[l,h],[r+a.top,h],[r,h+a.top],[r-a.top,h],[s,h]]},style:{fill:"white",shadowColor:"rgba(0, 0, 0, 0.2)",shadowBlur:10,shadowOffsetX:2,shadowOffsetY:2},z:t.get("z"),z2:1010})};t.isLight&&f(t.isLight)},u=0;u<i.length;u+=1)s(u)}.call(this,t,n),function(t){var e=this,n=[],r=t.get("flylines");if(r.show){var i=t.getData().trajectoryData,o=bd(i,function(t){return t.value});t.projection(this.newGroup[0].position);i.map(function(t){for(var n=0;n<e.newGroup.length;n+=1)t.src===e.newGroup[n].name&&(t.srcPos=e.newGroup[n].position),t.target===e.newGroup[n].name&&(t.tarPos=e.newGroup[n].position)});for(var a=0;a<i.length;a+=1){var s=t.projection(i[a].srcPos),u=t.projection(i[a].tarPos),h={shape:{x1:s[0],y1:s[1],x2:u[0],y2:u[1],cpx1:(s[0]+u[0])/2-.2*(s[1]-u[1]),cpy1:(s[1]+u[1])/2-.2*(u[0]-s[0]),percent:1},style:l({},r.style,{stroke:{x1:0,x2:1,colorStops:[{offset:Pz(s,u),color:r.colors[0]},{offset:Fz(s,u),color:r.colors[1]}]},lineWidth:Dz(i[a].value,r,o)}),z:t.get("z"),z2:997};n.push(h),r.background.show&&this.setShape("flyBG"+a,cc,h,void 0,function(t){t.setStyle("stroke",r.background.style.stroke),t.setStyle("shadowColor","rgba(0, 0, 0, 0)"),t.setStyle("lineWidth",r.background.style.lineWidth)})}this.setShapeGroup("flylines",cc,n,void 0,void 0,function(t){var e=2*(t.shape.x1-t.shape.x2),n=2*(t.shape.y1-t.shape.y2),i=Math.sqrt(Math.pow(e,2)+Math.pow(n,2));t.style.lineDash=[i,i];var o=i,a=o-2*i;t.style.lineDashOffset=o;var s=Math.random()+1;r.animation&&t.animate("style",!0).delay(3e3*Math.random()).when(3e3*s,{lineDashOffset:a}).start()})}}.call(this,t),function(t){var e=t.get("polygons");if(e.show){var n=[],r=t.getData().polygonData||{points:[]},i=r.points.map(function(e){return t.projection(e.position)});n.push({shape:{points:i},style:{fill:e.style.fill,stroke:e.style.stroke,lineWidth:e.style.lineWidth},data:r,z:t.get("z"),z2:996}),this.setShapeGroup("polygons",ec,n)}}.call(this,t),function(t){var e=this,n=t.get("bars");if(n.show)for(var r=window.chinaData,i=function(i){e.removeShape("geobarTop"+i),e.removeShape("geobar"+i);var o=r.features[i].properties,a=t.projection(o.cp),s=20+40*Math.random(),l=[[a[0],a[1]],[a[0]-2*n.size,a[1]-.4*n.size],[a[0]+n.size,a[1]-n.size],[a[0]-.8*n.size,a[1]-1.4*n.size]],u=l.map(function(t){return[t[0],t[1]-s]});e.setShape("geobarTop"+i,ec,{shape:{points:[u[0],u[1],u[3],u[2]]},style:{fill:n.colors[0]},z:t.get("z"),z2:998,position:[0,0]},{animation:!0,animateFrom:{position:[0,s]},easing:"cubicOut",duration:1e3});e.setShapeGroup("geobar"+i,ec,[{shape:{points:[l[0],l[1],[l[1][0],l[1][1]-1],[l[0][0],l[0][1]-1]]},style:{fill:n.colors[1],text:o.name,textFill:n.style.textFill,textPosition:n.style.textPosition,textOffset:function(t){var e=[0,0];""===t?e=[-20,-10]:""===t?e=[30,-15]:""===t&&(e=[10,0]);return e}(o.name),fontSize:n.style.fontSize},z:t.get("z"),z2:999},{shape:{points:[l[0],l[2],[l[2][0],l[2][1]-1],[l[0][0],l[0][1]-1]]},style:{fill:n.colors[2]},z:t.get("z"),z2:999}],void 0,void 0,function(t){var e=t.shape.points;t.animateShape(!1).when(1e3,{points:[e[0],e[1],[e[2][0],e[2][1]-s],[e[3][0],e[3][1]-s]]}).start("cubicOut")})},o=0;o<r.features.length;o+=1)i(o)}.call(this,t),function(t){var e=[],n=[],r=t.get("southSea"),i=(t.get("markers"),t.globalModel.getComponentByIndex("grid",0).position),o=i.right,a=i.bottom,s=t.get("map").outerPath;function l(t){var e=t.replace("%","");return e/=100}r.show&&(co(Bz,function(t){e.push({shape:{path:t},style:{stroke:s.style.stroke,fill:s.style.fill,lineWidth:1},scale:r.scale,position:[o*l(r.offset[0]),a*l(r.offset[1])]})}),co(Wz,function(t){n.push({shape:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},style:{stroke:s.style.stroke,fill:s.style.fill,lineWidth:r.lineWidth},scale:r.scale,position:[o*l(r.offset[0]),a*l(r.offset[1])]})}),this.setShapeGroup("southSea",zz,e),this.setShapeGroup("southSeaLine",lc,n),this.setShape("southSeaLabel",Yh,{style:{text:"",textFill:r.style.textFill,textAlign:"middle",fontSize:r.style.fontSize},position:[o*l(r.offset[0])+(75+r.style.textOffset[0])*r.scale[0],a*l(r.offset[1])+(190-2*r.style.fontSize+r.style.textOffset[1])*r.scale[1]],z:t.get("z"),scale:r.scale,z2:999}))}.call(this,t),function(t){var e=this,n=t.get("routes"),r=[];if(n.show){var i=t.getData().trajectoryData,o=bd(i,function(t){return t.value});t.projection(this.newGroup[0].position);i.map(function(t){for(var n=0;n<e.newGroup.length;n+=1)t.src===e.newGroup[n].name&&(t.srcPos=e.newGroup[n].position),t.target===e.newGroup[n].name&&(t.tarPos=e.newGroup[n].position)});var a=function(t,e){if(n.threshold.threshold){return t>n.threshold.value?n.threshold.colors[0]:e}return e};co(i,function(e){var i=t.projection(e.srcPos),s=t.projection(e.tarPos);r.push({shape:{x1:i[0],y1:i[1],x2:s[0],y2:s[1]},style:{stroke:{x1:0,x2:1,colorStops:[{offset:Pz(i,s),color:a(e.value,n.colors[0])},{offset:Fz(i,s),color:a(e.value,n.colors[1])}]},lineWidth:Dz(e.value,n,o),shadowBlur:n.style.shadowBlur,shadowColor:n.style.shadowColor,opacity:n.style.opacity,text:n.style.text.formatter(e),textFill:n.style.textFill,fontSize:n.style.fontSize},z:t.get("z"),z2:997,value:e.value,silent:!0})}),this.setShapeGroup("routes",lc,r);if(n.animation.animation){var s=-1;this.setShapeGroup("routesAnimation",lc,r,void 0,void 0,function(t){var e=2*(t.shape.x1-t.shape.x2),i=2*(t.shape.y1-t.shape.y2),o=Math.sqrt(Math.pow(e,2)+Math.pow(i,2)),a=n.animation.style.lengthPercent*o,l=n.animation.style.delay/n.animation.style.speed;t.setStyle("lineDash",[a,o*l-a]),t.setStyle("lineDashOffset",a),t.setStyle("stroke",function(t,e,r,i,o){if(t instanceof Array){var a=void 0;return a=n.threshold.threshold&&r>n.threshold.value?e:t,{x1:0,x2:1,colorStops:[{offset:Pz(i,o),color:a[0]},{offset:Fz(i,o),color:a[1]}]}}return t}(n.animation.style.fill,n.animation.style.thresholdFill,t.value,[t.shape.x1,t.shape.y1],[t.shape.x2,t.shape.y2])),t.setStyle("lineWidth",n.animation.style.lineWidth),t.attr("z2",998),s+=1,t.animate("style",!0).delay(n.animation.style.delay*s/r.length).when(n.animation.style.speed,{lineDashOffset:-o*l+a}).start()})}}}.call(this,t)},e}(Hf);Rz.type=Cz;var Bz=["m6,31.5l9,7.5l15,9l15,4l18,0l17,-14l21,-31L20,7L6,24z","m113,7l10,25l11,-25z","m46.5,66.5l14.5,-6.5l-1,13l-7,7l-15,4l8.5,-17.5z"],Wz=[{y2:7,x2:145,y1:7,x1:20},{y2:24,x2:6,y1:7,x1:20},{y2:195,x2:145,y1:7,x1:145},{y2:195,x2:6,y1:24,x1:6},{y2:195,x2:145,y1:195,x1:6},{y2:46.5,x2:132.5,y1:31.5,x1:141.5},{y2:76.5,x2:115.5,y1:61.5,x1:121.5},{y2:111.5,x2:110.5,y1:92.5,x1:110.5},{y2:147.5,x2:101.5,y1:127.5,x1:108.5},{y2:177.5,x2:78.5,y1:163.5,x1:91.5},{y2:188.5,x2:39.5,y1:184.5,x1:54.5},{y2:158.5,x2:11.5,y1:172.5,x1:17.5},{y2:132.5,x2:39.5,y1:142.5,x1:24.5},{y2:98.5,x2:37.5,y1:113.5,x1:40.5}];qp(Ez,Rz);var jz="geo",Gz=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=jz,c(r,n)}return u(e,t),e.prototype.update=function(){var t=this.globalModel.getComponentByIndex("grid",0),e=t.position,n=e.left,r=e.right,i=e.top,o=e.bottom;this.projection=Tz().rotate([-110,0,0]).fitExtent([[n,i],[r,o]],window.chinaBorderData),this.position=t.position},e}(Kf);Gz.type=jz,Gz.defaultOption={$gridIndex:0,$visualMapIndex:void 0,mapName:"china",map:{outerPath:{show:!0,style:{stroke:"#00beff",lineWidth:10}},label:{show:!1},innerPath:{normal:{show:!0,style:{stroke:"rgba(83, 167, 227, 0.5)",fill:"rgba(255, 255, 255, 1)",lineWidth:1,lineDash:void 0}},emphasis:{show:!0,style:{fill:"rgba(40, 128, 255, 0.8)"}}}},southSea:{show:!0,offset:[0,0],scale:[.7,.7],lineWidth:2,style:{textFill:"white",textPosition:"bottom",fontSize:14,textOffset:[0,0]}},zlevel:0,z:0};var Hz={"":[121,24],"":[115.5,38.5],"":[112.3,37.5],"":[110,41],"":[123.2,41.3],"":[126,43.7],"":[127.8,46.8],"":[120,32.4],"":[120,29.2],"":[117.2,31.5],"":[118.2,26],"":[115.7,28],"":[117.5,36.3],"":[113.6,34],"":[113,31],"":[112,28],"":[113.5,23],"":[108.5,23.5],"":[110,19.5],"":[103.5,30.6],"":[106.7,26.6],"":[102,24.7],"":[91,30.5],"":[108.9,34.26],"":[104,35.5],"":[97,36],"":[106.1,37.5],"":[87,41],"":[116.4,40.24],"":[116.87,39.5],"":[121.4,31.1],"":[107.5,29.7],"":[113.2,22.75],"":[114.52,22.86]},Uz=function(t){function e(n,r,i){s(this,e);var o=c(this,t.apply(this,arguments));return o.type=jz,o._initEvent(n,r,i),o}return u(e,t),e.prototype._initEvent=function(t,e,n){},e.prototype.render=function(t,e,n){this.renderCanvas(t,e,n),function(t,e,n){var r=[],i=[],o=t.get("southSea"),a=(t.get("markers"),t.globalModel.getComponentByIndex("grid",0).position),s=a.right,l=a.bottom,u=t.get("map").outerPath;function h(t){var e=t.replace("%","");return e/=100}o.show&&(co(qz,function(t){r.push({shape:{path:t},style:{stroke:u.style.stroke,fill:u.style.fill,lineWidth:1},scale:o.scale,position:[s*h(o.offset[0]),l*h(o.offset[1])]})}),co(Vz,function(t){i.push({shape:{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2},style:{stroke:u.style.stroke,fill:u.style.fill,lineWidth:o.lineWidth},scale:o.scale,position:[s*h(o.offset[0]),l*h(o.offset[1])]})}),this.setShapeGroup("southSea",zz,r),this.setShapeGroup("southSeaLine",lc,i),this.setShape("southSeaLabel",Yh,{style:{text:"",textFill:o.style.textFill,textAlign:"middle",fontSize:o.style.fontSize},position:[s*h(o.offset[0])+(75+o.style.textOffset[0])*o.scale[0],l*h(o.offset[1])+(190-2*o.style.fontSize+o.style.textOffset[1])*o.scale[1]],z:t.get("z"),scale:o.scale,z2:999}))}.call(this,t,e,n)},e.prototype.renderCanvas=function(t,e,n){var r=t.get("map"),i=r.outerPath,o=r.innerPath,a=t.get("mapName"),s=t.get("$visualMapIndex"),u=e.getComponentByIndex("visualMap",s),h=t.position,c=(h.left,h.right,h.top,h.bottom,t.getData()),f=void 0,p=void 0;"china"==a?(f=window.chinaData,p=window.chinaBorderData):"provinceCenter"==a&&(f=to(window.chinaData),window.chinaData.features.map(function(t){var e=t.properties.name;f.features.map(function(t){e===t.properties.name&&(t.properties.cp=Hz[e])})}),p=window.chinaBorderData);var d=function(){return dz().projection(t.projection)};if(i.show){var g=d();this.setShape("border",zz,{shape:{path:g(p)},style:l({},i.style,{fill:null})})}if(o.normal.show){var v=d(),y=[];co(f.features,function(t,e){var n=void 0,r=void 0;if(c&&u)for(var i=0;i<c.length;i++)if(u.isInRange(c[i].value)&&c[i].name===t.properties.name){n=u.getColorStop(c[i].value);break}n||(n="function"==typeof o.normal.style?(r=o.normal.style({axisIndex:t.properties.name,geoPos:t.properties.cp})).fill||"#04526d":(r=o.normal.style).fill),y.push({shape:{path:v(t),fillType:n},style:l({},r,{fill:n}),data:{name:t.properties.name},fill:n})}),this.setShapeGroup("geomap",zz,y,void 0,void 0,function(e){e.on("mouseover",function(r){n.dispatchAction(t,Sf.over,{data:e.data}),o.emphasis.show&&e.setStyle(o.emphasis.style)}),e.on("mouseout",function(r){n.dispatchAction(t,Sf.out,{data:e.data}),o.normal.show&&e.setStyle(o.normal.style)}),e.on("click",function(r){n.dispatchAction(t,Sf.itemClick,{data:e.data})})})}},e}(Hf);Uz.type=jz;var qz=["m6,31.5l9,7.5l15,9l15,4l18,0l17,-14l21,-31L20,7L6,24z","m113,7l10,25l11,-25z","m46.5,66.5l14.5,-6.5l-1,13l-7,7l-15,4l8.5,-17.5z"],Vz=[{y2:7,x2:145,y1:7,x1:20},{y2:24,x2:6,y1:7,x1:20},{y2:195,x2:145,y1:7,x1:145},{y2:195,x2:6,y1:24,x1:6},{y2:195,x2:145,y1:195,x1:6},{y2:46.5,x2:132.5,y1:31.5,x1:141.5},{y2:76.5,x2:115.5,y1:61.5,x1:121.5},{y2:111.5,x2:110.5,y1:92.5,x1:110.5},{y2:147.5,x2:101.5,y1:127.5,x1:108.5},{y2:177.5,x2:78.5,y1:163.5,x1:91.5},{y2:188.5,x2:39.5,y1:184.5,x1:54.5},{y2:158.5,x2:11.5,y1:172.5,x1:17.5},{y2:132.5,x2:39.5,y1:142.5,x1:24.5},{y2:98.5,x2:37.5,y1:113.5,x1:40.5}];function Yz(t,e){return arguments.length<2&&(e=.5),(t>>0)+e}function $z(t,e,n,r){var i,o,a,s;fo(t,e<=3?function(t,e){i=Yz(t[1].lineX,n),a=Yz(t[1].lineYTop,n),s=Yz(t[1].lineYBottom,n),o=Math.abs(a-s)<2?2:0,r.moveTo(i,a-o),r.lineTo(i,s)}:function(t,o){i=Yz(t[1].lineX,n),t[1].h<1?(r.moveTo(Yz(t[0],n),Yz(t[1].y,n)),r.lineTo(Yz(t[0]+e,n),Yz(t[1].y,n))):r.rect(Yz(t[0],n),Yz(t[1].y,n),e,t[1].h),r.moveTo(i,Yz(t[1].lineYTop,n)),r.lineTo(i,Yz(t[1].y,n)),r.moveTo(i,Yz(t[1].y+t[1].h,n)),r.lineTo(i,Yz(t[1].lineYBottom,n))})}qp(Gz,Uz);var Xz={vol:$z,kline:$z,bamboo:function(t,e,n,r){e&&fo(t,function(t,i){var o=Yz(t[1].lineX,n);r.moveTo(o,Yz(t[1].lineYTop,n)),r.lineTo(o,Yz(t[1].lineYBottom,n)),t[2].c>=t[2].o?(r.moveTo(o,Yz(t[1].y,n)),r.lineTo(o+e/2,Yz(t[1].y,n)),r.moveTo(o,Yz(t[1].y+t[1].h,n)),r.lineTo(o-e/2,Yz(t[1].y+t[1].h,n))):(r.moveTo(o,Yz(t[1].y,n)),r.lineTo(o-e/2,Yz(t[1].y,n)),r.moveTo(o,Yz(t[1].y+t[1].h,n)),r.lineTo(o+e/2,Yz(t[1].y+t[1].h,n)))})}};var Kz=Eh.extend({type:"candlesticks",shape:{data:[]},style:{lineWidth:1},updateKLine:function(){var t,e,n,r;!this.kline&&(this.kline=(t=1,e=$z,n=void 0,(r=function r(i){return i.length&&e(i,t,.5,n),r}).ctx=function(t){return n=t,r},r.bandWidth=function(e){return t=e,r},r.lineWidth=function(t){return r},r.drawTemplate=function(t){return e="function"==typeof t?t:Xz[t],r},r));var i=this.kline,o=this.shape;for(var a in o)!~["data","percent","yStart"].indexOf(a)&&i[a]&&void 0!==o[a]&&i[a](o[a])},buildPath:function(t,e){this.updateKLine(),this.kline.ctx(t)(e.data)}}),Zz="hqbar",Qz=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Zz,r.isScatter=!1,c(r,n)}return u(e,t),e.prototype.formatOption=function(e){var n;(n=t.prototype.formatOption).call.apply(n,[this].concat(Array.prototype.slice.call(arguments))),e.color&&(gf(e,"line.normal.style.stroke")||df(e,"line.normal.style.stroke",e.color),gf(e,"symbol.normal.style.fill")||gf(e,"symbol.normal.style.stroke")||(df(e,"symbol.normal.style.fill","white"),df(e,"symbol.normal.style.stroke",e.color)))},e.prototype.formatData=function(t){switch(this.get("hqbarType")){case"kline":case"bamboo":return fo(t,function(t,e){return[e,[t.o,t.a,t.i,t.c],t]});case"vol":return fo(t,function(t,e){return[e,[t.n],t]})}},e.prototype.getDrawData=function(t){var e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=e.scale,i=n.scale,o=r.bandwidth()/2,a=r(this.get("getXKey")(t)),s=this.get("hqbarType");if("kline"===s||"bamboo"===s)return{x:a,y:i(Math.max(t.o,t.c)),h:Math.abs(i(t.o)-i(t.c)),lineX:a+o,lineYTop:i(t.a),lineYBottom:i(t.i)};if("vol"===s){var l=i.range()[0]-Math.floor(i(t.n))-1,u=l<1?1:0;return{x:a,y:i(t.n)-u,h:l+u,lineX:a+o,lineYTop:i(t.n),lineYBottom:i.range()[0]}}},e.prototype.update=function(){var t=this,e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=e.scale,i=n.scale,o=i.domain(),a=(r.domain(),r.bandwidth()),s=this.get("getColorKey"),l=this.get("getXKey"),u=a/2,h=[],c={up:[],eq:[],down:[]},f=e.startIndex,p=e.endIndex,d=i(o[1]<0?o[1]:o[0]>0?o[0]:0);co(this.getData().slice(f,p+1),function(e,n){e[0],e[1];var i=e[2],o=[r(l(i)),t.getDrawData(i),i,n+f,n];h.push(o),"be"===s(i)?c.down.push(o):"ab"===s(i)?c.up.push(o):c.eq.push(o)}),this.bandwidth=a,this.centerOffset=u,this.pointsByColor=c,this.points=h,this.y0=d,this.startIndex=e.startIndex,this.endIndex=e.endIndex,this.yAxis=n},e.prototype.getSeriesColor=function(t){if(this.get("color"))return this.get("color");var e=this.get("line").normal,n=this.get("symbol").normal;return e.show?e.style.stroke:n.style.fill||n.style.stroke},e}(Qf);Qz.type=Zz,Qz.emphasisList=["symbol","link","label","line","area"],Qz.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,hqbarType:"kline",getColorKey:function(t){return t.s},getXKey:function(t){return t.t},hq:{up:{stroke:"rgba(247,48,75,1)",fill:"rgba(247,48,75,1)"},down:{stroke:"rgba(48,172,99,1)",fill:"rgba(48,172,99,1)"},eq:{stroke:"rgba(68,68,68,1)",fill:"rgba(68,68,68,1)"}},line:{normal:{show:!0,style:{fill:void 0,stroke:"#058499",lineWidth:2}},emphasis:{}},symbol:{normal:{show:!1,type:"circle",offset:[0,0],size:8,style:{}},emphasis:{show:!1,style:{}}},label:{normal:{show:!1,style:{position:"top"},formatter:void 0},emphasis:{show:!1,style:{}}},cursor:"default",zlevel:0,z:3};var Jz=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=Zz,c(r,n)}return u(e,t),e.prototype.render=function(e,n,r){var i;(i=t.prototype.render).call.apply(i,[this].concat(Array.prototype.slice.call(arguments)));this.group;var o=e.get("line").normal,a=(e.get("animation"),e.get("cursor")),s=e.get("hqbarType"),l=e.get("hq"),u=e.y0,h=(e.points,e.getData(),e.bandwidth),c=(e.centerOffset,e.pointsByColor),f=u;if(e.lastPoints&&(f=function(t,n){return e.lastPoints[n]?e.lastPoints[n][1]:t[1]}),o.show){var p=l.down.stroke===l.up.stroke,d=fo(["down","up","eq"],function(t){var e=h<=3?{stroke:p?l[t].fill:l[t].stroke,fill:l[t].fill}:l[t];return{shape:{data:c[t],bandWidth:h,yStart:f,percent:1,drawTemplate:s},style:e,z2:1,cursor:a}});this.setShapeGroup("hqbarGroup",Kz,d,void 0,function(t){})}},e}(Hf);Jz.type=Zz,qp(Qz,Jz);var tL="hqIndicator",eL=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=tL,c(r,n)}return u(e,t),e.prototype.formatData=function(t){var e=this.get("indicatorType");return fo(t,mp.getClass(e).formatData)},e.prototype.update=function(){var t=this,e=this.getAxisModel("x"),n=this.getAxisModel("y"),r=e.startIndex,i=e.endIndex,o=e.scale,a=n.scale,s=a.domain(),l=(o.domain(),o.bandwidth()),u=this.get("getXKey"),h=this.get("indicatorType"),c=l/2,f=void 0;if(mp.getClass(h)){var p=mp.getClass(h),d=new p;f=this.get("indicator")?eo(this.get("indicator"),to(p.defaultOption)):to(p.defaultOption);var g=a(s[1]<0?s[1]:s[0]>0?s[0]:0),v=this.getData().slice(r,i+1),y=[];co(f,function(e,n){var i=void 0;if("line"!==e.type)i=d.getDrawData({name:n,xScale:o,yScale:a,data:v,item:e,model:t});else{for(var s=[],l=0;l<v.length;l++)s.push([o(u(v[l][2]))+c,a(v[l][2][n]),v[l],l+r,l]);i={shape:{x:function(t){return t[0]},y:function(t){return t[1]},data:s,yStart:g,percent:1,defined:function(t){return t}},style:e.normal.style}}if(mo(i))for(var h=0;h<i.length;h++)i[h].z2=t.get("z"),i[h].cursor=t.get("cursor");else i.z2=t.get("z"),i.cursor=t.get("cursor");y.push({name:n,shapeType:e.type,normal:e.normal,emphasis:e.emphasis,attr:i})}),this.bandwidth=l,this.centerOffset=c,this.indicatorOption=f,this.shapes=y,this.y0=g,this.startIndex=r,this.endIndex=i,this.indicator=d}},e.prototype.getSeriesColor=function(t){var e={};return co(this.indicatorOption,function(t,n){e[n]=t.normal.style.stroke}),e},e}(Qf);eL.type=tL,eL.defaultOption={$dataIndex:void 0,dataKey:void 0,$axisIndex:[0,1],name:void 0,indicatorType:"macd",getXKey:function(t){return t.xIndex},indicator:void 0,cursor:"default",zlevel:0,z:3};var nL=function(t){function e(){var n,r;s(this,e);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=c(this,t.call.apply(t,[this].concat(o))),r.type=tL,c(r,n)}return u(e,t),e.prototype.render=function(e,n,r){var i,o=this;(i=t.prototype.render).call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),this.remove();e.get("cursor");var a=e.shapes,s=(e.y0,e.indicator);fo(a,function(t){var e=void 0;switch(t.shapeType){case"line":e=Cc;break;default:e=s.getShape(t.shapeType)}mo(t.attr)?o.setShapeGroup(t.name,e,t.attr,void 0,function(t){}):o.setShape(t.name,e,Fc(t.attr),void 0,function(t){})})},e}(Hf);function rL(t,e){if(t){if(n=t,"[object String]"===yL.call(n))t=parseFloat(t);else if(isNaN(parseFloat(t))){return(0).toFixed(e)}}else t=0;var n;return t.toFixed(e)}nL.type=tL;var iL=function(t){return t.a},oL=function(t){return t.i},aL=function(t){return t.c},sL=function(t){return t.o},lL=function(t){return t.n};var uL={maxMinDataInRound:function(t,e,n,r){for(var i={},o=0;o<e.length;o++){var a,s,l,u,h=e[o],c="maxR"+h,f="minR"+h,p=0,d=1e6;if(n+1<h)break;if(null!==r[c]&&r[c])if(a=iL(t[n]),s=oL(t[n]),l=iL(t[n-h]),u=oL(t[n-h]),l==r[c]||r[f]==u)for(var g=0;g<h;g++)a=iL(t[n-g]),s=oL(t[n-g]),p=a>p?a:p,d=s<d?s:d;else p=a>r[c]?a:r[c],d=s<r[f]?s:r[f];else for(g=0;g<h;g++)a=iL(t[n-g]),s=oL(t[n-g]),p=a>p?a:p,d=s<d?s:d;i[c]=p,i[f]=d}return i},averageDataInRound:function(t,e,n,r){for(var i,o,a,s,l={},u=0;u<e.length&&(o="ma"+(a=e[u]),i=0,!(n+1<a));u++){if(null!==r[o]&&r[o])i=r[o]*a-aL(t[n-a])+aL(t[n]);else for(s=0;s<a;s++)i+=aL(t[n-s]);l[o]=rL(i/a,4)}return l},volStatusInRound:function(t,e,n,r){for(var i,o,a,s,l,u,h,c,f,p,d,g,v={},y=0;y<e.length&&(l=e[y],a="upVol"+e[y],s="downVol"+e[y],i=0,o=0,!(n<l));y++){if(null!==r[a]&&r[a])c=aL(t[n])>aL(t[n-1])||!1,h=aL(t[n-l])>aL(t[n-l-1])||!1,d=r[a],g=r[s],f=lL(t[n]),p=lL(t[n-l]),h&&c?(i=f+d-p,o=g):!h&&c?(i=f+d,o=g-p):h&&!c?(i=d-p,o=f+g):h||c||(i=d,o=f+g-p);else for(u=0;u<l;u++)aL(t[n-u])>aL(t[n-u-1])?i+=lL(t[n-u]):o+=lL(t[n-u]);v[a]=i,v[s]=o}return v}},hL=function(t,e,n,r){for(var i=function(t,e){var n={},r=0,i=0;for(r=0;r<t.length;r++)for(i=0;i<e.length;i++)n[e[i]+t[r]]=NaN;return n}(e,r),o=[],a={},s=0;s<t.length;s++)a=uL[n](t,e,s,o[s-1]),o[s]=SL(a,i);return o},cL=function(t,e,n){return t?e:n},fL=function(t,e){return+t>+e?+t:+e},pL=function(t){return Math.abs(+t)},dL=function(t,e,n,r){return(n*t+(e-n)*r)/e},gL={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},vL={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},yL=Object.prototype.toString;function mL(t){return"object"===(void 0===t?"undefined":a(t))&&"number"==typeof t.nodeType&&"object"===a(t.ownerDocument)}function xL(t){return!!gL[yL.call(t)]}function _L(t){return"[object Array]"===yL.call(t)}function wL(t){var e=void 0===t?"undefined":a(t);return"function"===e||!!t&&"object"===e}function bL(t){if(null==t||"object"!==(void 0===t?"undefined":a(t)))return t;var e=t,n=yL.call(t);if("[object Array]"===n){e=[];for(var r=0,i=t.length;r<i;r++)e[r]=bL(t[r])}else if(vL[n]){var o=t.constructor;if(t.constructor.from)e=o.from(t);else{e=new o(t.length);for(var s=0,l=t.length;s<l;s++)e[s]=bL(t[s])}}else if(!gL[n]&&!mL(t))for(var u in e={},t)t.hasOwnProperty(u)&&(e[u]=bL(t[u]));return e}function SL(t,e,n){if(!wL(e)||!wL(t))return n?bL(e):t;for(var r in e)if(e.hasOwnProperty(r)){var i=t[r],o=e[r];!wL(o)||!wL(i)||_L(o)||_L(i)||mL(o)||mL(i)||xL(o)||xL(i)?!n&&r in t||(t[r]=bL(e[r])):SL(i,o,n)}return t}var kL,ML,AL=function(){function t(e){s(this,t);var n=e?bL(e):{};this._option=SL(n,this.constructor.defaultOption,!1)}return t.prototype.get=function(t){return t?this._option[t]:this._option},t}();function IL(t){AL.registerClass(t,t.type)}AL.type="indicatorFormula",ML={},(kL=AL).registerClass=function(t,e){return ML[e]=t,t},kL.getClass=function(t){return ML[t]},kL.hasClass=function(t){return!!ML[t]},kL.getAllClass=function(){return ML};var TL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){for(var e,n,r,i,o,a,s,l,u,h,c,f,p,d,g,v,y,m=this.get("M1"),x=this.get("M2"),_=[],w=[],b=0,S=0,k=0,M=[],A=0,I=0;I<t.length;I++)if(r=t[I-1],a=t[I],b=0,S=0,A=0,r&&(i=aL(r),p=sL(r),f=oL(r),u=iL(a),h=oL(a),s=aL(a),l=sL(a),o=pL(u-i),c=pL(h-i),d=pL(u-f),g=pL(i-p),y=cL(c>d&&c>o,c+o/2+g/4,d+g/4),v=cL(o>c&&o>d,o+c/2+g/4,y),A=16*(s-i+(s-l)/2+i-p)/v*fL(o,c)),_.push(A),I<m)M.push({ASI:0,ASIT:0});else{for(e=0;e<m;e++)b+=_[I-e];if(w.push(b),I<m+x)M.push({ASI:b,ASIT:0});else{for(n=0;n<x;n++)S+=w[I-m-n];k=S/x,M.push({xIndex:t[I].t,ASI:+rL(b,2),ASIT:+rL(k,2)})}}return M},e}(AL);TL.type="asi",TL.defaultOption={M1:26,M2:10},IL(TL,TL.type);var CL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){for(var e=0,n=0,r=0,i={},o=[],a=[this.get("L1"),this.get("L4"),this.get("L5")],s="ma"+a[0],l="ma"+a[1],u="ma"+a[2],h=hL(t,a,"averageDataInRound",["ma"]),c=0;c<h.length;c++)(i=h[c])[s]&&(e=(aL(t[c])-i[s])/i[s]*100,i[l]&&(n=(aL(t[c])-i[l])/i[l]*100,i[u]&&(r=(aL(t[c])-i[u])/i[u]*100))),o.push({xIndex:t[c].t,BIAS:e,BIAS2:n,BIAS3:r});return o},e}(AL);CL.type="bias",CL.defaultOption={L1:6,L4:12,L5:24},IL(CL,CL.type);var EL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){var e,n,r,i,o,a,s,l=this.get("BOLL_N"),u=this.get("BOLL_P"),h=[],c=0;for(i=0;i<t.length;i++){if(c+=t[i].c,i>=l-1){for(e=c/l,s=0,o=i-(l-1);o<=i;o++)s+=(a=t[o].c-e)*a;n=e+u*(s=Math.sqrt(s/l)),r=e-u*s,c-=t[i-(l-1)].c}else e=n=r=0;h.push({xIndex:t[i].t,MID:e,UPPER:n,LOWER:r})}return h},e}(AL);EL.type="boll",EL.defaultOption={BOLL_N:20,BOLL_P:2},IL(EL,EL.type);var zL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){var e,n,r,i,o,a=this.get("N"),s=this.get("M1"),l=this.get("M2"),u=1/0,h=-1/0,c=0,f=0,p=[];for(i=0;i<t.length;i++){for(e=t[i].c,u=1/0,h=-1/0,o=i<a?0:i-a+1;o<=i;o++)u>t[o].i&&(u=t[o].i),h<t[o].a&&(h=t[o].a);n=(e-u)/(h-u)*100,(isNaN(n)||n===-1/0||n===1/0)&&(n=0),f=i<a?((c=(n+c*i)/(i+1))+f*i)/(i+1):((c=(n+(s-1)*c)/s)+(l-1)*f)/l,r=3*c-2*f,p.push({xIndex:t[i].t,K:c,D:f,J:r})}return p},e}(AL);zL.type="kdj",zL.defaultOption={N:9,M1:3,M2:3},IL(zL,zL.type);var LL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){var e,n,r,i,o,a,s=this.get("SHORT"),l=this.get("LONG"),u=this.get("M"),h=s-1,c=s+1,f=l-1,p=l+1,d=u-1,g=u+1,v=0,y=[];for(v=0;v<t.length;v++)e=t[v].c,0!=v&&e?i=2*((n=(o=(2*e+h*o)/c)-(a=(2*e+f*a)/p))-(r=(2*n+d*r)/g)):(r=n=(o=a=e||0)-a,i=0),y.push({xIndex:t[v].t,MACD:i,DIFF:n,DEA:r});return y},e}(AL);LL.type="macd",LL.defaultOption={SHORT:12,LONG:26,M:9},IL(LL,LL.type);var OL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){var e,n,r,i,o,a,s,l,u,h,c,f,p=this.get("N1"),d=this.get("N2"),g=this.get("N3"),v=[];for(f=0;f<t.length;f++){var y;e=t[f].c,0==f?(n=e,i=s=h=0,o=l=c=0):(n=t[f-1].c,i=dL(fL(e-n,0),p,1,i),o=dL(pL(e-n),p,1,o),s=dL(fL(e-n,0),d,1,s),l=dL(pL(e-n),d,1,l),h=dL(fL(e-n,0),g,1,h),c=dL(pL(e-n),g,1,c)),r=i/o*100||0,a=s/l*100||0,u=h/c*100||0,v.push(((y={xIndex:t[f].t})["RSI"+p]=r,y["RSI"+d]=a,y["RSI"+g]=u,y.A=20,y.D=80,y))}return v},e}(AL);OL.type="rsi",OL.defaultOption={N1:6,N2:12,N3:24},IL(OL,OL.type);var DL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){for(var e=this.get("M1"),n=this.get("M2"),r=this.get("M3"),i=[e],o="upVol"+i[0],a="downVol"+i[0],s=[],l=NaN,u=hL(t,i,"volStatusInRound",["upVol","downVol"]),h=0;h<t.length;h++)u[h][o]&&(l=u[h][o]/u[h][a]*100),s.push({xIndex:t[h].t,VR:l||0,A:n,B:r});return s},e}(AL);DL.type="vr",DL.defaultOption={M1:26,M2:100,M3:200},IL(DL,DL.type);var PL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.calculate=function(t){for(var e=this.get("N"),n=this.get("N1"),r=this.get("N2"),i=this.get("N3"),o=[n,e],a="maxR"+o[0],s="minR"+o[0],l="maxR"+o[1],u="minR"+o[1],h=hL(t,o,"maxMinDataInRound",["maxR","minR"]),c=[],f={},p=0,d=0,g=0;g<h.length;g++)(f=h[g])[a]&&(p=100*(f[a]-aL(t[g]))/(f[a]-f[s])),f[l]&&(d=100*(f[l]-aL(t[g]))/(f[l]-f[u])),c.push({xIndex:t[g].t,WR1:d,WR2:p,A:r,D:i});return c},e}(AL);PL.type="wr",PL.defaultOption={N:10,N1:6,N2:20,N3:80},IL(PL,PL.type);var FL=new(AL.getClass("macd")),NL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return FL.calculate(t)},e.formatData=function(t,e){return[e,[t.MACD,t.DIFF,t.DEA],t]},e.prototype.getShape=function(t){return Kz},e.prototype.getDrawData=function(t){t.name;for(var e=t.xScale,n=t.yScale,r=t.data,i=t.item,o=t.model,a=e.bandwidth()/2,s=o.get("getXKey"),l=[],u={up:[],down:[],eq:[]},h=0;h<r.length;h++){var c=r[h][2],f=e(s(c)),p=n(c.MACD)-n(0)>0?1:n(c.MACD)-n(0)<0?-1:0,d=[f,{lineX:f+a,lineYTop:n(p>0?c.MACD:0),lineYBottom:n(p>0?0:c.MACD)},c];p<0?u.up.push(d):p>0?u.down.push(d):u.eq.push(d)}for(var g in u)l.push({shape:{bandwidth:1,data:u[g]},style:{stroke:i.normal.hq[g],lineWidth:1}});return l},e}(mp);NL.type="macd",NL.defaultOption={MACD:{type:"hqbar",normal:{show:!0,hq:{up:"rgba(247,48,75,1)",down:"rgba(48,172,99,1)",eq:"rgba(68,68,68,1)"},style:{lineWidth:1,stroke:"#555"}},emphasis:void 0},DEA:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},DIFF:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0}};var RL=new(AL.getClass("kdj")),BL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return RL.calculate(t)},e.formatData=function(t,e){return[e,[t.K,t.D,t.J],t]},e}(mp);BL.type="kdj",BL.defaultOption={K:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},D:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0},J:{type:"line",normal:{show:!0,style:{lineWidth:1,stroke:"#FB8E04"}},emphasis:void 0}};var WL=new(AL.getClass("wr")),jL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return WL.calculate(t)},e.formatData=function(t,e){return[e,[t.WR1,t.WR2,t.A,t.D],t]},e}(mp);jL.type="wr",jL.defaultOption={WR1:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},WR2:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0},A:{type:"line",normal:{show:!0,style:{lineDash:[2,4],stroke:"rgba(204,204,204,0.8)",lineWidth:1}},emphasis:void 0},D:{type:"line",normal:{show:!0,style:{lineDash:[2,4],stroke:"rgba(204,204,204,0.8)",lineWidth:1}},emphasis:void 0}};var GL=new(AL.getClass("vr")),HL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return GL.calculate(t)},e.formatData=function(t,e){return[e,[t.VR,t.A,t.B],t]},e}(mp);HL.type="vr",HL.defaultOption={VR:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},A:{type:"line",normal:{show:!0,style:{lineDash:[2,4],stroke:"rgba(204,204,204,0.8)",lineWidth:1}},emphasis:void 0},B:{type:"line",normal:{show:!0,style:{lineDash:[2,4],lineWidth:1,stroke:"rgba(204,204,204,0.8)"}},emphasis:void 0}};var UL=new(AL.getClass("rsi")),qL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return UL.calculate(t)},e.formatData=function(t,e){return[e,[t.RSI6,t.RSI12,t.RSI24,t.A,t.D],t]},e}(mp);qL.type="rsi",qL.defaultOption={RSI6:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},RSI12:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0},RSI24:{type:"line",normal:{show:!0,style:{lineWidth:1,stroke:"#FB8E04"}},emphasis:void 0},A:{type:"line",normal:{show:!0,style:{lineDash:[2,4],stroke:"rgba(204,204,204,0.8)",lineWidth:1}},emphasis:void 0},D:{type:"line",normal:{show:!0,style:{lineDash:[2,4],stroke:"rgba(204,204,204,0.8)",lineWidth:1}},emphasis:void 0}};var VL=new(AL.getClass("boll")),YL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return VL.calculate(t)},e.formatData=function(t,e){return[e,[t.MID,t.UPPER,t.LOWER],t]},e}(mp);YL.type="boll",YL.defaultOption={MID:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},UPPER:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0},LOWER:{type:"line",normal:{show:!0,style:{lineWidth:1,stroke:"#FB8E04"}},emphasis:void 0}};var $L=new(AL.getClass("bias")),XL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return $L.calculate(t)},e.formatData=function(t,e){return[e,[t.BIAS,t.BIAS2,t.BIAS3],t]},e}(mp);XL.type="bias",XL.defaultOption={BIAS:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},BIAS2:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0},BIAS3:{type:"line",normal:{show:!0,style:{lineWidth:1,stroke:"#FB8E04"}},emphasis:void 0}};var KL=new(AL.getClass("asi")),ZL=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.calculate=function(t){return KL.calculate(t)},e.formatData=function(t,e){return[e,[t.ASI,t.ASIT],t]},e}(mp);function QL(t){this.configs=eo(t,this.constructor.defaultConfigs)}function JL(t){var e,n={};return t[276]>0||t[277]>0?(e="coolingPeriod",n=function(t){var e=t[276].substring(0,2)+":"+t[276].substring(2,4)+":"+t[276].substring(4,6),n=t[277].substring(0,2)+":"+t[277].substring(2,4)+":"+t[277].substring(4,6);return{considerPrice:t[51],priceCeil:t[69],priceFloor:t[70],starttime:t[276],starttimeStr:e,endtime:t[277],endtimeStr:n}}(t)):/^(4|5|105|106|107)$/.test(t.hkStatus)&&(e="bidPeriod",n=function(t){var e={bidPeriod:void 0,minPrice:void 0,maxPrice:void 0,considerPrice:void 0,direct:void 0,directNum:void 0};return e.bidPeriod={3:"",4:"",5:"",105:"",106:"",107:"",0:""}[t.hkStatus],e.direct=t[278]>=0?"":"",e.directNum=Math.abs(t[278]),e.minPrice=t[70],e.maxPrice=t[69],/^(105|106|5)$/.test(t.hkStatus)?e.considerPrice=t[10]:e.considerPrice="",e}(t)),n.msg={coolingPeriod:" ",bidPeriod:""}[e],{hqStatus:e,hqStatusDetail:n}}function tO(t,e){var n=parseFloat(t),r=parseFloat(e),i=n-r,o=i/r*100,a=lO(n,r);return{rateP:aO(i,3),status:a,curPrice:t,curPriceShow:aO(t,3),oldPrice:e,oldPriceShow:aO(e,3),rate:aO(o,2)}}function eO(t,e){return/^(HK_stock)/.test(t=t||"HS_stock")?JL(e):/^(USA_stock)/.test(t)?function(t){var e,n={};return t[254]>0?(e="panqian",n=tO(t[254],t[10])):t[278]>0&&(e="panhou",n=tO(t[278],t[10])),n.msg={panqian:"",panhou:""}[e],n.time=t.time,{hqStatus:e,hqStatusDetail:n}}(e):void 0}function nO(t){return new QL({code:t}).init()}function rO(){return{abAxis:"#de422e",beAxis:"#3e9663",eqAxis:"#444",ma:"#444",axisLine:"#ccc",ma5:"#1F6195",ma10:"#E0AC58",ma30:"#9C73AF",hoverLine:"#A0A0A0",hideColor:"rgba(255,255,255,0)"}}ZL.type="asi",ZL.defaultOption={ASI:{type:"line",normal:{show:!0,style:{stroke:"#C00C00",lineWidth:1}},emphasis:void 0},ASIT:{type:"line",normal:{show:!0,style:{stroke:"#C0BA4D",lineWidth:1}},emphasis:void 0}},Up(NL,NL.type),Up(ZL,ZL.type),Up(XL,XL.type),Up(YL,YL.type),Up(qL,qL.type),Up(HL,HL.type),Up(jL,jL.type),Up(BL,BL.type),qp(eL,nL),QL.defaultConfigs={code:"33_300033",hs:{fsXaxisShow:{"0930":0,1030:60,1130:120,1400:180,1500:241}},hskcb:{fsXaxisShow:{"0930":0,1130:120,1500:241}},hk:{fsXaxisShow:{"0930":0,1030:60,1200:150,1400:211,1610:341}}},QL.prototype.get=function(t){return this.configs[t]},QL.prototype.render=function(t){this.init()},QL.prototype.init=function(){var t=Io(this.get("code")).split("_"),e=t[1],n=t[0],r={shortStockCode:e,marketCode:n,volUnit:""};return/^(hs|sz|sh|zs|16|32|24|48|bk|17|18|22|33|34|sb|144|145|21|37)$/.test(n)?(r.keepLen=2,r.needConvertoShou=!0,r.volUnit="",r.fsXaxisShow=this.get("hs").fsXaxisShow,/^(688)/.test(e)?(r.msg="HS_stock_kcb",r.fsXaxisShow=this.get("hskcb").fsXaxisShow):/^(zs|16|32|24)$/.test(n)?r.msg="HS_index":/^(48|bk)$/.test(n)?/^(881)/.test(e)?r.msg="HS_block_hangye":r.msg="HS_block_gainian":/^(sb|144|145)$/.test(n)?r.msg="HS_stock_sb":r.msg="HS_stock"):/^(hk|176|177|178|179|180|182|181|183)$/.test(n)?(r.keepLen=3,r.needConvertoShou=!1,r.volUnit="",r.fsXaxisShow=this.get("hk").fsXaxisShow,/^(176)$/.test(n)?r.msg="HK_index":r.msg="HK_stock"):/^(usa|169|168|170|185|184|186|189|200|88|201|202)$/.test(n)?(r.needConvertoShou=!1,r.volUnit="",/^(200|88)$/.test(n)?(r.msg="USA_index",r.keepLen=2):(r.msg="USA_stock",r.keepLen=3)):/^(pmetal|41|wh|97|98|99|gzqh|129|fd|20|36|gqh|217|219|qh|65|66|67|68|69|70|shzq|szzq|19|35|gzs|sj|81|ggqq|233|104|120)$/.test(n)?(r.keepLen=2,r.needConvertoShou=!0,r.volUnit="",/^(pmetal|41)$/.test(n)?r.msg="Others_pmetal":/^(wh|97|98|99)$/.test(n)?(r.msg="Others_wh",r.keepLen=5):/^(gzqh|129)$/.test(n)?(r.msg="Others_gzqh",r.needConvertoShou=!1):/^(fd|20|36)$/.test(n)?(r.msg="Others_fd",r.keepLen=3):/^(gqh|217|219)$/.test(n)?(r.msg="Others_gqh",r.needConvertoShou=!1,r.volUnit="",r.keepLen=3):/^(qh|65|66|67|68|69|70)$/.test(n)?(r.msg="Others_qh",r.needConvertoShou=!1,r.volUnit="",r.keepLen=2):/^(shzq|szzq|19|35)$/.test(n)?r.msg="Others_zq":/^(gzs)$/.test(n)?(r.msg="Others_gzs",r.keepLen=2):/^(sj|81)$/.test(n)?(r.msg="Others_sj",r.needConvertoShou=!1,r.volUnit="",r.keepLen=2):/^(ggqq|233|104|120)$/.test(n)?(r.msg="Others_ggqq",r.keepLen=2):r.msg="Others_"+n):/^(eu|161)$/.test(n)?(r.msg="UK_stock",r.keepLen=2,r.needConvertoShou=!1,r.volUnit=""):(r.msg="HS_stock",r.keepLen=2,r.needConvertoShou=!0,r.volUnit=""),r};var iO={abAxis:"#de422e",beAxis:"#3e9663",eqAxis:"#444",ma:"#444",axisLine:"#ccc",ma5:"#1F6195",ma10:"#E0AC58",ma30:"#9C73AF",hoverLine:"#A0A0A0",hideColor:"rgba(255,255,255,0)"};function oO(t,e,n){var r,i,o,a,s,l,u,h,c,f,p,d,g,v;return void 0!==t.o&&(r=aO(t.o,e),i=lO(t.o,t.yc)),void 0!==t.a&&(o=aO(t.a,e),a=lO(t.a,t.yc)),void 0!==t.i&&(s=aO(t.i,e),l=lO(t.i,t.yc)),void 0!==t.c&&(u=aO(t.c,e),h=lO(t.c,t.yc)),void 0!==t.n&&(c=sO(t.n,n)),void 0!==t.np&&(f=sO(t.np)),void 0!==t.h&&(p=parseFloat(t.h).toFixed(2)),d=t.yc,void 0!==t.preRateP&&(g=aO(t.preRateP,e)),void 0!==t.preRate&&(v=aO(t.preRate,2)),{openP:r,openPStatus:i,maxP:o,maxPStatus:a,minP:s,minPStatus:l,curP:u,curPStatus:h,n:c,np:f,turnRate:p,yesterdayP:d,rateP:g,rate:v}}function aO(t,e){if(t){if(_o(t))t=parseFloat(t);else if(isNaN(parseFloat(t))){return(0).toFixed(e)}}else t=0;return t.toFixed(e)}function sO(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t&&0!=t)return"";t=e?Math.floor(t/100):Math.floor(t);var n=Math.abs(t);return t=n>1e12?aO(t/1e12,1)+"":n>1e10?aO(t/1e8,0)+"":n>1e8?aO(t/1e8,1)+"":n>1e7?aO(t/1e4,0)+"":n>1e4?aO(t/1e4,1)+"":aO(t,0)}function lO(t,e){var n=parseFloat(t),r=parseFloat(e);return n-r>0?"ab":n-r<0?"be":"eq"}function uO(t,e){var n=t.c===t.o&&e?e.c:t.o;return lO(t.c,n)}function hO(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Math.abs(t);return r>1e12?(t/1e12).toFixed(n)+"":r>1e8||r<-1e8?(t/1e8).toFixed(n)+"":r>1e4||r<-1e4?(t/1e4).toFixed(n)+"":t.toFixed(e)}var cO=Object.freeze({getStockType:nO,getDefaultColor:rO,getLimitByMarket:function(t){var e=t.msg,n={fs:{av:!0,vol:!0,moneyflow:!0},kline:{vol:!0}};return/^(HK_index|Others_wh|Others_gzs|HS_block_hangye|HS_block_gainian|USA_index|Others_pmetal|Others_wh|Others_gzqh|Others_gqh|Others_qh|Others_zq|Others_sj|Others_ggqq)/.test(e)&&(n.fs.av=!1),"HS_stock"!==e&&(n.fs.moneyflow=!1),/^(Others_wh|Others_gzs|Others_pmetal)/.test(e)&&(n.fs.vol=!1),/^(Others_wh|Others_zq|Others_pmetal|Others_gqh)/.test(e)&&(n.kline.vol=!1),n},getXData:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.msg||"HS_stock",o=t.fsXaxisShow,a=n[0].split("-")[0],s=n[n.length-1].split("-")[1];o||(/^(HS)/.test(i)?o={"0930":0,1030:60,1130:120,1400:180,1500:240}:((o={})[a]=0,o[s]=e-1)),r||(r=[],/^(HS|HK)/.test(i)?(co(o,function(t,e){r.push(e)}),r.sort()):r=[a,s]);for(var l=[],u=0;u<e;u++)l.push("___"+u);for(var h=[],c=0;c<r.length;c++)void 0!==o[r[c]]&&h.push(o[r[c]]);for(var f=0;f<h.length;f++)l[h[f]]=r[f];return{xData:l,xTick:r}},convertToShowData:oO,decimalRound:aO,filterNum:sO,filterStatus:lO,getKLineStatus:uO,numFormatter:hO,inheritFrom:function(t,e){var n=function(t){function e(){}return e.prototype=t,new e}(e.prototype);for(var r in n.constructor=t,t.prototype=n,e)e.hasOwnProperty(r)&&(t[r]=e[r])},fsPrice_tooltip:function(t,e,n){var r=e.pre,i=e.keepLen,o=e.needConvertoShou,a=e.hqMarket,s=parseFloat(r),l=eo({t:"",preClosePrice:"",nowp:"",np:"",av:"",n:"",status:"",rate:"",ratep:""},t,!0),u="";""!=t.nowp?(u=t.nowp,l.status=lO(u,s)):(u="",l.status="eq"),l.preClosePrice=s,l.nowp=aO(u,i),l.av=aO(t.av,i),l.avStatus=lO(t.av,s),o&&(l.n=t.n/100),l.n=hO(l.n,0,1)||0,l.np=hO(t.np,0,1)||0;var h,c=aO(-(s-u),i),f=aO(c/s*100,2);return l.rate=f+"%",l.ratep=c,h=/^(Others_wh|Others_gzs|HS_block_hangye|HS_block_gainian|USA_index|Others_pmetal|Others_wh|Others_gzqh|Others_gqh|Others_qh|Others_zq|Others_sj|Others_ggqq)/.test(a)?"<%t%> :<%nowp%> :<%ratep%> :<%rate%> :<%n%> :<%np%>":"<%t%> :<%nowp%> :<%av%> :<%ratep%> :<%rate%> :<%n%> :<%np%>","function"==typeof n?n({tpl:h,result:l}):h.replace(/<%([^%>]+)?%>/g,function(t,e){return"t"===e?l[e].substr(0,2)+":"+l[e].substr(2,2):'<span style="color:'+iO[l.status+"Axis"]+';">'+l[e]+"</span>"})},klinePrice_tooltip:function(t,e,n){var r=e.keepLen,i=e.needConvertoShou,o={},a=t.yc,s=t.yj||a,l="";l=""!==t.c?t.c:"",o.t=t.t,o.ratep=aO(l-s,r),o.maxP=aO(t.a,r),o.minP=aO(t.i,r),o.openP=aO(t.o,r),o.closeP=aO(l,r),o.n=t.n,i&&(o.n=t.n/100),o.n=hO(o.n,0,1)||0,o.maxPStatus=lO(t.a,a),o.minPStatus=lO(t.i,a),o.openPStatus=lO(t.o,a),o.rate=aO((l-s)/s*100,2)+"%",o.status=l-s>0?"ab":l-s==0?"eq":"be";var u='<%t%> <span style="color: <%openPStatus%>;"><%openP%></span> <span style="color: <%maxPStatus%>"><%maxP%></span> <span style="color: <%minPStatus%>"><%minP%></span> <span style="color: <%status%>"><%closeP%></span> <span style="color: <%status%>"><%ratep%></span> <span style="color: <%status%>"><%rate%></span><br/>',h="";for(var c in t)/^(ma[{0-9}]+)/.test(c)&&t[c]&&(h+='<span style="color:<%'+c+'Status%>">'+c.toUpperCase()+":<%"+c+"%> </span>");var f=u+h;return"function"==typeof n?n({tpl:u,maTpl:h,result:o,data:t}):f.replace(/<%([^%>]+)?%>/g,function(e,n){return"status"===n||"openPStatus"===n||"maxPStatus"===n||"minPStatus"===n?iO[o[n]+"Axis"]:/^(ma[{0-9}]+Status)$/.test(n)?iO.ma:/^(ma[{0-9}]+)$/.test(n)?parseFloat(t[n]).toFixed(r):o[n]})},getStockstatus:eO});n(function(t,n){
/*!
   * @overview es6-promise - a tiny implementation of Promises/A+.
   * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
   * @license   Licensed under MIT license
   *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
   * @version   v4.2.5+7f2b526d
   */
t.exports=function(){function t(t){return"function"==typeof t}var n=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,i=void 0,o=void 0,s=function(t,e){d[r]=t,d[r+1]=e,2===(r+=2)&&(o?o(g):_())},l="undefined"!=typeof window?window:void 0,u=l||{},h=u.MutationObserver||u.WebKitMutationObserver,c="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(g,1)}}var d=new Array(1e3);function g(){for(var t=0;t<r;t+=2){var e=d[t],n=d[t+1];e(n),d[t]=void 0,d[t+1]=void 0}r=0}var v,y,m,x,_=void 0;function w(t,e){var n=this,r=new this.constructor(k);void 0===r[S]&&B(r);var i=n._state;if(i){var o=arguments[i-1];s(function(){return N(i,r,o,n._result)})}else P(n,r,t,e);return r}function b(t){if(t&&"object"===(void 0===t?"undefined":a(t))&&t.constructor===this)return t;var e=new this(k);return z(e,t),e}c?_=function(){return process.nextTick(g)}:h?(y=0,m=new h(g),x=document.createTextNode(""),m.observe(x,{characterData:!0}),_=function(){x.data=y=++y%2}):f?((v=new MessageChannel).port1.onmessage=g,_=function(){return v.port2.postMessage(0)}):_=void 0===l?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(g)}:p()}catch(t){return p()}}():p();var S=Math.random().toString(36).substring(2);function k(){}var M=void 0,A=1,I=2,T={error:null};function C(t){try{return t.then}catch(t){return T.error=t,T}}function E(e,n,r){n.constructor===e.constructor&&r===w&&n.constructor.resolve===b?function(t,e){e._state===A?O(t,e._result):e._state===I?D(t,e._result):P(e,void 0,function(e){return z(t,e)},function(e){return D(t,e)})}(e,n):r===T?(D(e,T.error),T.error=null):void 0===r?O(e,n):t(r)?function(t,e,n){s(function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?z(t,n):O(t,n))},function(e){r||(r=!0,D(t,e))},t._label);!r&&i&&(r=!0,D(t,i))},t)}(e,n,r):O(e,n)}function z(t,e){var n,r;t===e?D(t,new TypeError("You cannot resolve a promise with itself")):(r=void 0===(n=e)?"undefined":a(n),null===n||"object"!==r&&"function"!==r?O(t,e):E(t,e,C(e)))}function L(t){t._onerror&&t._onerror(t._result),F(t)}function O(t,e){t._state===M&&(t._result=e,t._state=A,0!==t._subscribers.length&&s(F,t))}function D(t,e){t._state===M&&(t._state=I,t._result=e,s(L,t))}function P(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+A]=n,i[o+I]=r,0===o&&t._state&&s(F,t)}function F(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,a=0;a<e.length;a+=3)r=e[a],i=e[a+n],r?N(n,r,i,o):i(o);t._subscribers.length=0}}function N(e,n,r,i){var o=t(r),a=void 0,s=void 0,l=void 0,u=void 0;if(o){if((a=function(t,e){try{return t(e)}catch(t){return T.error=t,T}}(r,i))===T?(u=!0,s=a.error,a.error=null):l=!0,n===a)return void D(n,new TypeError("A promises callback cannot return that same promise."))}else a=i,l=!0;n._state!==M||(o&&l?z(n,a):u?D(n,s):e===A?O(n,a):e===I&&D(n,a))}var R=0;function B(t){t[S]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}var W=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(k),this.promise[S]||B(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?O(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&O(this.promise,this._result))):D(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===M&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===b){var i=C(t);if(i===w&&t._state!==M)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===j){var o=new n(k);E(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===M&&(this._remaining--,t===I?D(r,n):this._result[e]=n),0===this._remaining&&O(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;P(t,void 0,function(t){return n._settledAt(A,e,t)},function(t){return n._settledAt(I,e,t)})},t}(),j=function(){function e(t){this[S]=R++,this._result=this._state=void 0,this._subscribers=[],k!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e(function(e){z(t,e)},function(e){D(t,e)})}catch(e){D(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},e}();return j.prototype.then=w,j.all=function(t){return new W(this,t).promise},j.race=function(t){var e=this;return n(t)?new e(function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}):new e(function(t,e){return e(new TypeError("You must pass an array to race."))})},j.resolve=b,j.reject=function(t){var e=new this(k);return D(e,t),e},j._setScheduler=function(t){o=t},j._setAsap=function(t){s=t},j._asap=s,j.polyfill=function(){var t=void 0;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===r&&!n.cast)return}t.Promise=j},j.Promise=j,j}()}).polyfill();function fO(t){return t.replace(/([\W])/g,function(t,e){return"/"===e||","===e?"_":"__"})}function pO(t){var e=t.dataArray[t.dataArray.length-1].t;return 2===e.split(" ").length&&(e=e.split(" ")[1]),e}function dO(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return e;var n="";return t.replace(/\/{2}([\w.:]+)\//,function(t,e){n=e}),function(t,e){var n=t.split(e)[1].replace(/(\/)/g,function(){return"_"});return"quotebridge_"+(n=fO(n=n.replace(/(.js)/g,function(){return""})))}(t,n+"/")}function gO(t){var e=t.time,n=t.fuquan,r={day:"0",week:"1",month:"2","5min":"3","30min":"4","60min":"5","1min":"6","4hour":"7",year:"8",season:"9"},i={bfq:"0",qfq:"1",hfq:"2"};return(r[e]?r[e]:"0")+(i[n]?i[n]:"1")}var vO=n(function(t,e){(function(t,e){var n={cache:!1,timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function r(t){try{delete window[t]}catch(e){window[t]=void 0}}function i(t){var e=document.getElementById(t);e&&document.getElementsByTagName("head")[0].removeChild(e)}e.exports=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=t,a=e.timeout||n.timeout,s=e.jsonpCallback||n.jsonpCallback,l=void 0;return new Promise(function(u,h){var c=e.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),f=s+"_"+c;window[c]=function(t){u({ok:!0,json:function(){return Promise.resolve(t)}}),l&&clearTimeout(l),i(f),r(c)};var p=document.createElement("script");e.cache||n.cache?p.setAttribute("src",""+o):(o+=-1===o.indexOf("?")?"?":"&",p.setAttribute("src",""+o+s+"="+c)),e.charset&&p.setAttribute("charset",e.charset),p.id=f,document.getElementsByTagName("head")[0].appendChild(p),l=setTimeout(function(){h(new Error("JSONP request to "+t+" timed out")),r(c),i(f),window[c]=function(){r(c)}},a),p.onerror=function(){h(new Error("JSONP request to "+t+" failed")),r(c),i(f),l&&clearTimeout(l)}})}})(0,t)}),yO=_p||"undefined"!=typeof document&&"https:"==document.location.protocol?"https:":"http:";function mO(t,e){return e+"__"+(t.dType||"common")+"__"+fO(t.code)}function xO(t){_O.registerClass(t,t.type)}var _O=function(){function t(e,n){s(this,t),this.dataPool=n;var r=eo(to(this.constructor.defaultOption),t.defaultOption);this.option=eo(e,r),this.dataId=mO(this.option,this.constructor.type),this.fetchStatus,this._data}return t.prototype.getHqCallbackNameAndUrl=function(t,e){var n=this.dataPool.getFilterUrl(t);return{url:n,callbackName:dO(n,e)}},t.prototype.fetchRemote=function(t,e){var n=eo(e,{cache:!0,jsonpCallback:null,jsonpCallbackFunction:void 0,timeout:9e3});if(_p){var r=n.jsonpCallbackFunction;return wx.pro.request({url:t,dataType:"json"}).then(function(t){if(t.data){var e=t.data.split(r+"(")[1].split(")")[0];return JSON.parse(e)}})}return vO(t,n).then(function(t){return t.json()})},t.prototype.getFetchStatus=function(t,e){var n={};switch(t){case"success":n={code:"000",msg:t};break;case"isPending":n={code:"001",msg:t};break;case"fail":n={code:"002",msg:e||t};break;default:n={code:"000",msg:"success"}}return n.tip=":data!!",n.dataId=this.dataId,n},t.prototype.init=function(){},t.prototype.update=function(){this.fetchPending();var t=this;this.dataPool._status.lazyInit?setTimeout(function(){t.init()}):this.init()},t.prototype.get=function(t){return t?this.option[t]:this.option},t.prototype.getAllActions=function(){return Ff},t.prototype.fetchSuccess=function(t){this._data=t;var e=this.dataPool;this.fetchStatus=this.getFetchStatus("success"),e.triggerAction(this,Ff.update,{data:this._data,fetchStatus:this.fetchStatus})},t.prototype.fetchFail=function(t,e){this._data=e;var n=this.dataPool,r=t.message||"error";this.fetchStatus=this.getFetchStatus("fail",r),n.triggerAction(this,Ff.update,{data:this._data,fetchStatus:this.fetchStatus})},t.prototype.fetchPending=function(){var t=this.dataPool;this.fetchStatus=this.getFetchStatus("isPending"),t.triggerAction(this,Ff.update,{data:void 0,fetchStatus:this.fetchStatus})},t.prototype.stopGetData=function(){this.keepingGetHandle&&clearTimeout(this.keepingGetHandle)},t.prototype.getData=function(){return this._data},t}();_O.type="dataProvider",_O.defaultOption={code:"hs_300033",version:"v6",dType:"common",protocol:yO,isKeepingGet:!1,intervalTime:6e4};var wO=yu(_O),bO={time:function(t){return t[1]},openP:function(t){return t[7]},maxP:function(t){return t[8]},minP:function(t){return t[9]},curP:function(t){return t[10]},closeP:function(t){return t[11]},dealType:function(t){return t[12]},vol:function(t){return t[13]},volMoney:function(t){return t[19]},curVol:function(t){return t[49]},turnRate:function(t){return t[1968584]},dealNum:function(t){return t[625295]}};function SO(t,e,n){var r=[],i="--";t.His&&(i=(r=t.His.split(":"))[0]+":"+r[1]);var o=bO.curP(t),a=bO.dealType(t),s="";return s=a>4?"buy":4==a?"eq":"sell",{time:i,color:lO(o,e),price:o,dealTypeStr:s,curVol:sO(bO.curVol(t),n)}}var kO={fiverangeArrange:function(t){var e=t.remoteData,n=(t.code,t.stockType),r=e.items,i={};for(var o in r)/^(25|27|29|151|155|31|33|35|153|157)$/.test(o)?i[o]=sO(r[o],n.needConvertoShou):(i[o]=""==r[o]?"":aO(r[o],n.keepLen),i["color-"+o]=lO(r[o],r[6]));return i},exchangedetailArrange:function(t){var e=t.remoteData,n=(t.code,t.stockType),r={items:[]};if(!e.items.length)return"";for(var i=0;i<e.items.length;i++)r.items.push(SO(e.items[i],e[6],n.needConvertoShou));return r},realheadArrange:function(t){var e,n,r=t.remoteData,i=t.code,o=t.stockType,a=r.items,s=eO(o.msg,a),l=i.split("_")[1],u=o.keepLen,h=o.needConvertoShou,c=a[66]?a[66]:""===a[6]?0:a[6];a[66]?(e=a[10]?a[10]-a[66]:void 0,n=a[10]?e/a[66]*100:void 0):(e=a[264648],n=a[199112]);var f=oO({o:a[7],a:a[8],i:a[9],c:a[10],h:a[1968584],n:a[13],np:a[19],yc:c,preRateP:e,preRate:n},u,h);return{hqStatus:s&&s.hqStatus,hqStatusDetail:s&&s.hqStatusDetail,name:a.name,shortcode:l,keepLen:u,isStop:a.stop,openP:f.openP,openPStatus:f.openPStatus,maxP:f.maxP,maxPStatus:f.maxPStatus,minP:f.minP,minPStatus:f.minPStatus,curP:f.curP,curPStatus:f.curPStatus,yesterdayP:f.yesterdayP,n:f.n,np:f.np,turnRate:f.turnRate,rateP:f.rateP,rate:f.rate,staticSYL:a[134152],dynamicSYL:a[2034120],sjl:aO(a[592920],2),totalM:sO(a[3541450]),stockM:sO(a[3475914]),zf:aO(a[526792],2)}}},MO=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.keepingGetHandle,n}return u(e,t),e.prototype.init=function(){var t=this,e=t.get("code"),n=nO(e);this.stockType=n,t.getFromWeb(function(n){var r=t.get("dType"),i=void 0;"function"==typeof kO[r+"Arrange"]&&(i=kO[r+"Arrange"]({remoteData:n,code:e,stockType:t.stockType})),t.fetchSuccess({remoteData:n,afterArrage:i,stockType:t.stockType}),t.get("isKeepingGet")&&t.keepingGetData()})},e.prototype.getFromWeb=function(t){var e=this,n=this.get("urlFormatter"),r=this.option.callbackName,i=n(l({},this.option)),o=this.getHqCallbackNameAndUrl(i,r),a=o.url,s=o.callbackName;this.fetchRemote(a,{jsonpCallbackFunction:s}).then(function(e){t(e)}).catch(function(t){e.fetchFail(t)})},e.prototype.keepingGetData=function(){var t=this;this.keepingGetHandle=setTimeout(function e(){t.getFromWeb(function(e){var n,r=t.get("dType");"function"==typeof kO[r+"Arrange"]&&(n=kO[r+"Arrange"]({remoteData:e,code:t.get("code"),stockType:t.stockType})),t.fetchSuccess({remoteData:e,afterArrage:n,stockType:t.stockType})}),t.keepingGetHandle=setTimeout(e,t.get("intervalTime"))},t.get("intervalTime"))},e}(wO);MO.type="othersHq",MO.defaultOption={code:"hs_300033",dType:"realhead",urlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/"+t.dType+"/"+t.code+"/last.js"},callbackName:null},xO(MO);var AO=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.keepingGetHandle,n.dataError=!1,n}return u(e,t),e.prototype.arrangeData=function(t,e){var n=this,r={};return co(this.get("code").split(","),function(i){r[i]={};var o=!(!e||!e[i]),a=o?e[i].dataArray:"",s=o?e[i].preClosePrice:void 0,l=o&&e[i],u=t[i],h=nO(i),c=u.dates;s||(s=u.pre);var f,p=c.length,d=u.data.split(";"),g=a?a.slice(0):[],v=[],y=void 0,m=o?l.todayStart:"",x=function(t,e,n){f||(f=e),"0000"==t[0]&&(f=n);var r=parseFloat(t[1]?t[1]:0),i=parseFloat(t[3]?t[3]:t[1]),o=(r-s)/s,a=(i-s)/s;return{s:void 0,t:f+" "+t[0],nowp:r,np:parseInt(t[2]?t[2]:0),av:i,n:parseInt(t[4]?t[4]:0),nowpPct:o,avPct:a}};if((s||d[0].split(",")[2]&&0!=d[0].split(",")[2])&&d[0].split(",")[1]&&0!=d[0].split(",")[1]){var _=o?l.max.nowp:-1/0,w=o?l.min.nowp:1/0,b=o?l.max.av:-1/0,S=o?l.min.av:1/0,k=o?l.max.n:-1/0,M=o?l.min.n:1/0;if(d.length&&d[0]){for(var A=0;A<d.length;A++){y=x(v=d[A].split(","),c[0],c[p-1]);var I=g[g.length-1];y.s=0==A?y.nowp-s>0?"ab":y.nowp-s<0?"be":"eq":y.nowp-I.nowp>0?"ab":y.nowp-I.nowp<0?"be":"eq",_=Math.max(y.nowp,_),w=Math.min(y.nowp,w),b=Math.max(y.av,b),S=Math.min(y.av,S),k=Math.max(y.n,k),M=Math.min(y.n,M),v[1]&&g.length&&g[g.length-1].t&&v[0]==m&&g.pop(),g.push(y)}x=null,m=g[g.length-1].t.split(" ")[1]}}else;r[i]={stockType:h,afterTradeTime:u.afterTradeTime,tradeTime:u.tradeTime,isTrading:u.isTrading,code:i,formatterDate:c,preClosePrice:s,totalTimeNum:u.dotsCount,name:u.name,max:{nowp:_,av:b,n:k},min:{nowp:w,av:S,n:M},stop:u.stop,open:u.open,todayStart:m,dataArray:g.length?g:[]},function(t){return t.dataArray&&t.dataArray.length&&t.dataArray[0].nowp&&t.preClosePrice}(r[i])||(n.dataError=!0)}),r},e.prototype.init=function(){var t=this,e=this.get("urlFormatter")(l({},this.option)),n=this.getHqCallbackNameAndUrl(e),r=n.url,i=n.callbackName;this.fetchRemote(r,{jsonpCallbackFunction:i}).then(function(e){var n=t.arrangeData(e);return t.dataError?(t.fetchFail({message:""},n),!1):(t.fetchSuccess(n),t.checkNeedGetting()?void(t.keepingGetHandle=setTimeout(function e(){t.keepGettingData(),t.keepingGetHandle=setTimeout(e,t.get("intervalTime"))},t.get("intervalTime"))):(t.keepingGetHandle&&clearTimeout(t.keepingGetHandle),!1))}).catch(function(e){t.fetchFail(e)})},e.prototype.checkIsTradingTime=function(t){var e=this.get("code").split(","),n=this.getData();try{mo(e)&&(e=e[0]);var r=n[e];return!!r&&!(!r.isTrading||!r.open)}catch(t){return!1}},e.prototype.checkNeedGetting=function(){if(this.dataError)return!1;var t=this.get("code").split(","),e=this.getData();mo(t)&&(t=t[0]);for(var n=e[t],r=this.get("isKeepingGet"),i=pO(n),o=void 0,a=void 0,s=void 0,l=void 0,u=!1,h=0;h<n.tradeTime.length;h++)o=n.tradeTime[h].split("-")[0],(a=n.tradeTime[h].split("-")[1])<o&&(a="2400",s="0000",l=n.tradeTime[h].split("-")[1]),!s&&i>=o&&i<a?u=r:s&&(i>=o&&i<a||i>=s&&i<l)&&(u=r);return u},e.prototype.keepGettingData=function(){var t=this,e=this.get("code").split(","),n=this.getData();mo(e)&&(e=e[0]);var r=n[e],i=this.get("keepGetUrlFormatter")(l({todayStart:r.todayStart},this.option)),o=this.getHqCallbackNameAndUrl(i),a=o.url,s=o.callbackName;this.fetchRemote(a,{jsonpCallbackFunction:s}).then(function(e){var n=t.arrangeData(e,t.getData());t.fetchSuccess(n)}).catch(function(e){t.fetchFail(e)})},e}(wO);AO.type="fsToday",AO.defaultOption={code:"hs_300033",urlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/time/"+t.code+"/last.js"},keepGetUrlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/time/"+t.code+"/"+t.todayStart+".js"}};var IO=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.keepingGetHandle,n.dataError=!1,n}return u(e,t),e.prototype.arrangeData=function(t){var e={},n=this.get("code");e[n]={};var r,i=t[n],o=nO(n),a=i.dataArray[0],s=a.dates,l=s.length,u=a.pre,h=a.data.split(";"),c=[],f=[],p=void 0,d="",g=(r=void 0,function(t,e,n){r||(r=e),"0000"==t[0]&&(r=n);var i=parseFloat(t[1]?t[1]:0),o=parseFloat(t[3]?t[3]:t[1]),a=(i-u)/u,s=(o-u)/u;return{s:void 0,t:r+" "+t[0],nowp:i,np:parseInt(t[2]?t[2]:0),av:o,n:parseInt(t[4]?t[4]:0),nowpPct:a,avPct:s}}),v=-1/0,y=1/0,m=-1/0,x=1/0,_=-1/0,w=1/0;if((u||h[0].split(",")[2]&&0!=h[0].split(",")[2])&&h[0].split(",")[1]&&0!=h[0].split(",")[1]){if(h.length&&h[0]){for(var b=0;b<h.length;b++){p=g(f=h[b].split(","),s[0],s[l-1]);var S=c[c.length-1];p.s=0==b?p.nowp-u>0?"ab":p.nowp-u<0?"be":"eq":p.nowp-S.nowp>0?"ab":p.nowp-S.nowp<0?"be":"eq",v=Math.max(p.nowp,v),y=Math.min(p.nowp,y),m=Math.max(p.av,m),x=Math.min(p.av,x),_=Math.max(p.n,_),w=Math.min(p.n,w),f[1]&&c.length&&c[c.length-1].t&&f[0]==d&&c.pop(),c.push(p)}g=null,d=c[c.length-1].t.split(" ")[1]}}else this.fetchFail({message:""});return e[n]={stockType:o,afterTradeTime:i.afterTradeTime,tradeTime:i.tradeTime,isTrading:i.isTrading||0,code:n,formatterDate:s,preClosePrice:u,totalTimeNum:i.dotsCount,name:i.name,max:{nowp:v,av:m,n:_},min:{nowp:y,av:x,n:w},stop:i.stop||0,open:i.open||0,todayStart:d,dataArray:c.length?c:[]},function(t){return t.dataArray&&t.dataArray.length&&t.dataArray[0].nowp&&t.preClosePrice}(e[n])||(this.dataError=!0),e},e.prototype.init=function(){var t=this,e=this.get("urlFormatter")(l({},this.option)),n=this.getHqCallbackNameAndUrl(e),r=n.url,i=n.callbackName;this.fetchRemote(r,{jsonpCallbackFunction:i}).then(function(e){var n=t.arrangeData(e);if(t.dataError)return t.fetchFail({message:""},n),!1;t.fetchSuccess(n)}).catch(function(e){t.fetchFail(e)})},e}(wO);IO.type="fsHistory",IO.defaultOption={code:"hs_300033",urlFormatter:function(t){var e=t.version,n=t.protocol,r=t.code,i=t.dates;return n+"//d.10jqka.com.cn/"+e+"/time/"+r+("/"+i[0]+"/"+i[0])+"/fmt/history.js"}};var TO=function(t,e){return{t:e+" "+t[0],mfsb:parseFloat(t[1]?t[1]:0),mfss:parseFloat(t[2]?t[2]:0),mfbb:parseFloat(t[3]?t[3]:0),mfbs:parseFloat(t[4]?t[4]:0),mflb:parseFloat(t[5]?t[5]:0),mfls:parseFloat(t[6]?t[6]:0),mfmb:parseFloat(t[7]?t[7]:0),mfms:parseFloat(t[8]?t[8]:0)}},CO=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.keepingGetHandle,n}return u(e,t),e.prototype.getToday=function(t){var e=this,n=this.get("urlFormatter")(l({},this.option)),r=this.getHqCallbackNameAndUrl(n),i=r.url,o=r.callbackName;this.fetchRemote(i,{jsonpCallbackFunction:o}).then(function(e){t(e)}).catch(function(t){e.fetchFail(t)})},e.prototype.keepGetting=function(t){var e=this,n=this.get("code").split(","),r=this.getData();mo(n)&&(n=n[0]);var i=r[n],o=this.get("keepGetUrlFormatter")(l({todayStart:i.todayStart},this.option)),a=this.getHqCallbackNameAndUrl(o),s=a.url,u=a.callbackName;this.fetchRemote(s,{jsonpCallbackFunction:u}).then(function(e){t(e)}).catch(function(t){e.fetchFail(t)})},e.prototype.arrangeData=function(t,e){var n={};return co(this.get("code").split(","),function(r,i){n[r]={};for(var o=!(!e||!e[r]),a=o?e[r].dataArray:"",s=o&&e[r],l=t[r],u=l.data.split(";"),h=a?a.slice(0):[],c=[],f=o?s.todayStart:"",p=0;p<u.length;p++)(c=u[p].split(","))[1]&&h.length&&c[0]==f?(h.pop(),h.push(TO(c,l.date))):h.push(TO(c,l.date));f=h[h.length-1].t.split(" ")[1],n[r]={tradeTime:l.rt.split(","),code:r,totalTimeNum:l.dotsCount||241,name:l.name,stop:0,open:l.open,todayStart:f,dataArray:h.length?h:[]}}),n},e.prototype.checkNeedGetting=function(){var t=this.get("code").split(","),e=this.getData();mo(t)&&(t=t[0]);for(var n=e[t],r=this.get("isKeepingGet"),i=pO(n),o=void 0,a=void 0,s=!1,l=0;l<n.tradeTime.length;l++)o=n.tradeTime[l].split("-")[0],a=n.tradeTime[l].split("-")[1],i>=o&&i<a&&(s=r);return s},e.prototype.init=function(){var t=this;this.getToday(function(e){if(t.fetchSuccess(t.arrangeData(e)),!t.checkNeedGetting())return t.keepingGetHandle&&clearTimeout(t.keepingGetHandle),!1;t.keepingGetHandle=setTimeout(function e(){t.keepGetting(function(e){t.fetchSuccess(t.arrangeData(e,t.getData()))}),t.keepingGetHandle=setTimeout(e,t.get("intervalTime"))},t.get("intervalTime"))})},e}(wO);function EO(t){return t=String(t),new Date(t.slice(0,4),t.slice(4,6)-1,t.slice(6,8))}function zO(t){return(t=parseInt(t))%3==0?t/3:Math.ceil(t/3)}CO.type="fsMoneyFlow",CO.defaultOption={code:"hs_300033",urlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/moneyflow/"+t.code+"/last.js"},keepGetUrlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/moneyflow/"+t.code+"/"+t.todayStart+".js"}},xO(AO),xO(IO),xO(CO);var LO=function(t){function e(){s(this,e);var n=c(this,t.apply(this,arguments));return n.option=eo(n.option,e.defaultOption),n.keepingGetHandle,n}return u(e,t),e.prototype.arrangeHistory=function(t){return t},e.prototype.arrangeCurrent=function(t){var e,n=t[this.get("code")];return{current:{open:n.open,dt:n.dt},dataArray:n[11]?[(e=n,{t:e[1],o:parseFloat(e[7]),a:parseFloat(e[8]),i:parseFloat(e[9]),c:parseFloat(e[11]),n:parseFloat(e[13]),np:parseFloat(e[19]),an:parseFloat(e[74]),h:parseFloat(e[1968584]),yj:parseFloat(e[66]),yc:"",s:""})]:[]}},e.prototype.checkNeedGetting=function(t){var e=this.getData(),n=(this.get("code"),this.get("isKeepingGet"));try{return n&&e.current.current.open}catch(t){return!1}},e.prototype.mergeHistoryWithCurrent=function(t,e,n){var r=this.getDType().time,i=t.slice(0);if(i.length||(i[0]={t:e[0].t}),function(t,e,n){if("day"===n)return t===e;if("week"===n){var r=EO(Math.min(t,e)),i=EO(Math.max(t,e));return r.getDay()+(i.getTime()-r.getTime())/864e5<=6}return"month"===n?t.slice(4,6)===e.slice(4,6):"season"===n?t.slice(0,4)==e.slice(0,4)&&zO(t.slice(4,6))===zO(e.slice(4,6)):t===e}(e[0].t,i[i.length-1].t,r))i.pop();var o=e.slice(0);if(i.length){var a=i[i.length-1];o[0].yc=a.c,o[0].s=uO(o[0],a)}else o[0].yc=n||o[0].o,o[0].s=uO(o[0]);return function(t,e){var n=t.length,r=n;if(n>=e.length){for(var i=0,o=e.length;i<o;i++)t.push(e[i]);return t}for(;--r>=0;)e.unshift(t[r]);return e}(i,e.slice(0))},e.prototype.calculateMaOnEndData=function(t){var e=t.length,n=this.get("ma"),r=n.length,i="",o=void 0,a=0,s=0,l=void 0,u=0,h=0;function c(e,c){for(u=0;u<r;u++){for(o=n[u],i="ma"+n[u],a=0,s=0,"nMa"+n[u],0,0,e+1<o&&(o=e+1),h=0;h<o;h++)l=t[e-h],s+=l.c,l.n;a=s/o,c[i]=a}return c}for(var f="ma"+n[0],p=e-1;p>=0&&!(f in t[p]);p--)c(p,t[p]);return t},e.prototype.calculateMa=function(t){var e=t.length,n=this.get("ma"),r=n.length,i="",o=void 0,a=0,s=0,l=void 0,u=0,h=0;function c(e,c){for(u=0;u<r;u++){if(o=n[u],i="ma"+n[u],a=0,s=0,"nMa"+n[u],0,0,e+1<o){o=e+1,c[i]=NaN;for(var f=r-1;f>u;f--)c["ma"+n[f]]=NaN;break}for(h=0;h<o;h++)l=t[e-h],s+=l.c,l.n;a=s/o,c[i]=a}return c}var f=Math.floor(e/8),p=e%8,d=0;if(e>=8){if(p>0)do{c(d,t[d++])}while(--p>0);do{c(d,t[d++]),c(d,t[d++]),c(d,t[d++]),c(d,t[d++]),c(d,t[d++]),c(d,t[d++]),c(d,t[d++]),c(d,t[d++])}while(--f>0)}else do{c(d,t[d++])}while(--p>0);return t},e.prototype.isSettingMa=function(){return this.get("ma")&&this.get("ma").length},e.prototype.getDType=function(){var t=this.get("dType");return{fuquan:t.substr(0,3).toLowerCase(),time:t.slice(3).toLowerCase()}},e.prototype.init=function(){var t=this,e=this.get("urlFormatter")(l({typecode:gO(this.getDType())},this.option)),n=this.getHqCallbackNameAndUrl(e),r=n.url,i=n.callbackName;if(this.get("keepGetUrlFormatter")){var o=this.get("keepGetUrlFormatter")(l({typecode:gO(this.getDType())},this.option)),a=this.getHqCallbackNameAndUrl(o),s=a.url,u=a.callbackName;Promise.all([this.fetchRemote(r,{jsonpCallbackFunction:i}),this.fetchRemote(s,{jsonpCallbackFunction:u})]).then(function(e){var n=t.arrangeHistory(e[0]),r=t.arrangeCurrent(e[1]),i=n;i.current=r;var o=[];(n.dataArray.length||r.dataArray.length)&&(o=t.mergeHistoryWithCurrent(n.dataArray,r.dataArray,n.issuePrice)),o.length&&t.isSettingMa()&&(o=t.calculateMa(o)),i.dataArray=o,t.fetchSuccess(i)}).catch(function(e){t.fetchFail(e)})}else this.fetchRemote(r,{jsonpCallbackFunction:i}).then(function(e){var n=t.arrangeHistory(e);n.dataArray.length&&t.isSettingMa()&&(n.dataArray=t.calculateMa(n.dataArray)),t.fetchSuccess(n)}).catch(function(e){t.fetchFail(e)})},e}(wO);LO.type="klineBase",LO.defaultOption={code:"hs_300033",dType:"qfqDay",ma:[5,10,30,60],urlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/line/"+t.code+"/"+t.typecode+"/all.js"},keepGetUrlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/line/"+t.code+"/"+t.typecode+"/today.js"},isKeepingGet:!1,intervalTime:6e4};var OO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.arrangeHistory=function(t){var e=nO(this.get("code")),n=t.sortYear,r=t.priceFactor,i=t.issuePrice,o=t.name,a=t.total,s=t.start,l=t.volumn.split(","),u=t.price.split(","),h=t.dates.split(","),c=t.afterVolumn.split(","),f=h.length,p={stockType:e,sortYear:n,priceFactor:r,issuePrice:i,name:o,totalKlineNum:a,firstDate:s,isGetTotalFirstData:!0,dataArray:[]};if(0==a)return p;for(var d=[],g=["i","o","a","c"],v=0,y="",m=0,x=[],_=0;_<n.length;_++)x.push([n[_][0],m]),m+=n[_][1];x.push(["",1/0]);for(var w=0;w<f;w++){d[w]={},0===w?(y=x[v][0],d[w].t=y+h[w]):w<x[v+1][1]?d[w].t=y+h[w]:w>=x[v+1][1]&&(y=x[++v][0],d[w].t=y+h[w]),d[w].n=parseInt(l[w]);for(var b=0;b<4;b++)d[w].i||0==d[w].i?d[w][g[b]]=u[4*w+b]/r+d[w].i:d[w][g[b]]=u[4*w+b]/r;d[w].s=uO(d[w],d[w-1]),d[w].yc=0===w?d[w].o:d[w-1].c,d[w].yj=c[w]}return d[0].yc=parseFloat(p.issuePrice),p.dataArray=d,p},e}(LO);OO.type="klineCommon",OO.defaultOption={urlFormatter:function(t){var e=t.version;return t.protocol+"//d.10jqka.com.cn/"+e+"/line/"+t.code+"/"+t.typecode+"/all.js"}};var DO=function(t){function e(){return s(this,e),c(this,t.apply(this,arguments))}return u(e,t),e.prototype.arrangeHistory=function(t){var e=this.get("forceHistory"),n=nO(this.get("code")),r=[],i=t.total,o=t.start,a=t.issuePrice,s=t.name,l=t.today,u={stockType:n,totalKlineNum:i,firstDate:o,issuePrice:a,name:s,dataArray:[]},h=!1;if(0==i||!t.data)return u;for(var c=t.data.split(";"),f=0;f<c.length;f++){var p=c[f].split(",");if(e&&l&&l==p[0])break;r.push({t:p[0],o:parseFloat(p[1]),a:parseFloat(p[2]),i:parseFloat(p[3]),c:parseFloat(p[4]),n:parseFloat(p[5]),np:parseFloat(p[6]),h:parseFloat(p[7]),s:void 0,yc:void 0,yj:void 0!==p[8]&&""!==p[8]?parseFloat(p[8]):void 0,an:parseFloat(p[9]),anp:parseFloat(p[10])}),r[f].s=uO(r[f],r[f-1]),0===f?(r[f].yc=r[f].o,h=o==r[f].t):r[f].yc=r[f-1].c}return h&&(r[0].yc=parseFloat(a)),u.isGetTotalFirstData=h,u.dataArray=r,u},e}(LO);DO.type="klineLast",DO.defaultOption={urlFormatter:function(t){var e=t.version,n=t.protocol,r=t.code,i=t.typecode,o=t.lastDays,s=t.sliceDays;return n+"//d.10jqka.com.cn/"+e+"/line/"+r+"/"+i+"/"+("object"===(void 0===s?"undefined":a(s))?s.join("_")+"last":"number"==typeof s?"last"+Math.abs(s):"last"+(o||""))+".js"},lastDays:void 0,sliceDays:void 0,forceHistory:!0},xO(OO),xO(DO);var PO=function(){this.maxCallbackNum=50,this.maxCallbackAlert=!0,this.eventTopics={},this.eventSubUid=0};PO.prototype.trigger=function(t,e){if(/^\./.test(t)||!this.hasTopic(t))return!1;var n=this._getTopicName(t),r=n.topic,i=n.namespace,o=this;return setTimeout(function(){for(var t=o.eventTopics[r],n=t?t.length:0;n--;)i&&t[n].namespace!=i||t[n].func(e)},0),!0},PO.prototype._getTopicName=function(t){return{topic:t.split(".")[0],namespace:t.split(".")[1]}},PO.prototype.hasTopic=function(t){var e=this._getTopicName(t),n=e.topic,r=e.namespace;if(!this.eventTopics[n])return!1;if(r){for(var i=!1,o=this.eventTopics[n],a=o?o.length:0;a--;)o[a].namespace==r&&(i=!0);return i}return!0},PO.prototype.getTopicsByNamespace=function(t){var e=[];return this.eachTopics(function(n,r){for(var i=0;i<n.length;i++)n[i].namespace===t&&e.push(r)}),e},PO.prototype.eachTopics=function(t,e){var n=this.eventTopics;for(var r in n)n.hasOwnProperty(r)&&t.call(e,n[r],r,n)},PO.prototype.getTotalCallbackNum=function(){var t=0;if(this.eachTopics(function(e,n){for(var r=0;r<e.length;r++)t++}),this.maxCallbackAlert&&t>this.maxCallbackNum)throw new Error(""+this.maxCallbackNum+",  ,:");return t},PO.prototype.on=function(t,e){var n=this._getTopicName(t),r=n.topic,i=n.namespace;this.eventTopics[r]||(this.eventTopics[r]=[]);var o=++this.eventSubUid;return this.eventTopics[r].push({token:o,namespace:i,func:e}),o},PO.prototype._arrangeTopicAndPos=function(t){var e=this.eventTopics[t];if(!e||e.length<1)delete this.eventTopics[t];else{for(var n=[],r=0;r<e.length;r++)void 0!==e[r]&&n.push(e[r]);n.length<1?delete this.eventTopics[t]:this.eventTopics[t]=n}},PO.prototype._clearEventByTopicAndPos=function(t,e){this.eventTopics[t].splice(e,1,void 0)},PO.prototype._offByTopicName=function(t){var e,n;if(/^\./.test(t)){var r=!1;e=this._getTopicName(t),n=e.namespace;var i=[],o=[];this.eachTopics(function(t,e){for(var a=!1,s=0;s<t.length;s++)t[s].namespace===n&&(r=!0,a=!0,i.push({topic:e,pos:s}));a&&o.push(e)});for(var a=0;a<i.length;a++)this._clearEventByTopicAndPos(i[a].topic,i[a].pos);for(a=0;a<o.length;a++)this._arrangeTopicAndPos(o[a]);return r}if(!this.hasTopic(t))return!1;e=this._getTopicName(t),n=e.namespace;var s=e.topic;for(a=0;a<this.eventTopics[s].length;a++)n&&this.eventTopics[s][a].namespace!==n||this._clearEventByTopicAndPos(s,a);return this._arrangeTopicAndPos(s),s},PO.prototype.off=function(t){if(!t&&0!=t)return!1;var e="string"==typeof t,n=!e&&("string"==typeof t||"number"==typeof t);if(e)return this._offByTopicName(t);if(n){var r=!1;return this.eachTopics(function(e,n){for(var i=0;i<e.length;i++)e[i].token===t&&(r=n,this._clearEventByTopicAndPos(n,i))},this),r&&this._arrangeTopicAndPos(r),r}return!1};var FO=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),Cp(n);var r=c(this,t.call(this));return r._maps={},r.setStatus(),r}return u(e,t),e.prototype.register=function(t){Mp(t,void 0,void 0,!0);var e=t.type,n=h(t,["type"]),r=this.convertOptionToDataId(t);if(this._maps[r])return this._maps[r];var i=new(wO.getClass(e))(n,this);return this._maps[i.dataId]=i,i.update(),i},e.prototype.convertOptionToDataId=function(t){var e=t.type,n=h(t,["type"]);if(wO.hasClass(e))return mO(eo(n,wO.getClass(e).defaultOption),e)},e.prototype.getDataProvider=function(t){if("string"==typeof t)return this._maps[t];var e=this.convertOptionToDataId(t);return this._maps[e]},e.prototype.fomatTopicName=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=n?"."+n:"";return t.dataId+"__hxc3__"+e+r},e.prototype.getDataInMap=function(){var t=[];return co(this._maps,function(e,n){var r=e.fetchStatus,i=e._data;t.push({fetchStatus:r,data:i})}),t},e.prototype.triggerAction=function(t,e,n){this.trigger(t.dataId+"__hxc3__"+e,n),this.trigger(Nf.update,this.getDataInMap())},e.prototype.onAction=function(t,e,n){var r=t.dataId,i=e.split(".")[0],o=e.split(".")[1],a=this.fomatTopicName(t,i,o);if(this._maps[r]){var s=this._maps[r];return n({data:s._data,fetchStatus:s.fetchStatus}),this.on(a,n)}},e.prototype.offAction=function(t,e){var n=void 0;if("string"==typeof t)return n=t,this.off(n);var r=e.split(".")[0],i=e.split(".")[1];n=this.fomatTopicName(t,r,i);var o=t.dataId;return!!this._maps[o]&&this.off(n)},e.prototype.removeProvider=function(t){var e=void 0;if("string"==typeof t){e=t;var n=this.getTopicsByNamespace(e.replace(".",""));this.offAction(e),co(n,function(t,e){this._maps[t.split("__hxc3__")[0]].stopGetData(),delete this._maps[t.split("__hxc3__")[0]]},this)}},e.prototype.getFilterUrl=function(t){return this._status.enableFilterUrl?this._status.filterUrl(t):t},e.prototype.setStatus=function(t){t=t||{};this._status=eo(t,this._status||{lazyInit:!0,enableFilterUrl:!1,filterUrl:function(t){var e=t;return t.replace(/\/(line|real|multimarketreal|time|realhead|rank)\//,function(n,r){switch(r){case"line":/today/.test(t)&&(e=t.replace(/(.+)(\/)/,function(t,e){return e+"/defer/"}));break;case"time":case"realhead":case"rank":e=t.replace(/(.+)(\/)/,function(t,e){return e+"/defer/"});break;case"real":case"multimarketreal":e=t.replace(/(.+)(\/)/,function(t,e){return e+"/defer/"})}return r}),e}})},e.prototype.getStatus=function(){return this._status},e}(PO);FO.msg="D3Charts";var NO,RO,BO=function(t){return NO||(NO=new FO(t)),NO},WO=function(t){return RO||(RO=window&&window.hxc3&&"function"==typeof window.hxc3.getDataPool?hxc3.getDataPool():new BO(t)),RO};t.scales=KA,t.d3Time=Oy,t.hqHelper=cO,t.getDataPool=WO,t.BaseDataProvider=wO,t.registerDataProvider=xO,t.setCanvasCreator=function(t){Ji("createCanvas",t)},t.VERSION=xp,t.init=function(t,e){var n=new Wp(t,void 0,e);return Pp[n.id]=n,n},t.track=function(t){bp=t},t.event=Np,t.initMap=function(t){var e=document.createElement("div");return e.id=t,e.width="100%",e.height="600px",e},t.registerModel=Gp,t.registerView=Hp,t.registerComponent=qp,t.registerIndicator=Up,t.zrender=vu,t.util=vf,t.graphic=lf,t.colorTool=Qa,t.symbol=cp,t.ChartView=Hf,t.ComponentView=Uf,t.Indicator=mp,t.ChartModel=Qf,t.ComponentModel=Kf,t.action=Rf,t.instances=Pp,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=d3_charts.js.map